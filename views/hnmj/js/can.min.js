var Can=Can||{};(function(){console.log('Cansvg  version:1.960.1059');console.log('Powered By Alxmo  https://can.alxmo.com');

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).eM=t()}}(function(){return function t(e,a,i){function n(s,o){if(!a[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}
var d=a[s]={exports:{}};e[s][0].call(d.exports,function(t){var a=e[s][1][t];return n(a||t)},d,d.exports,t,e,a,i)}
return a[s].exports}
for(var r="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,a){function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({level:_,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var a=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==f)throw new Error(l[a]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=r.deflateSetDictionary(this.strm,n))!==f)throw new Error(l[a]);this._dict_set=!0}}
function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg||l[a.err];return a.result}
var r=t("./zlib/eL"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),h=t("./zlib/zstream"),d=Object.prototype.toString,f=0,_=-1,u=0,c=8;i.prototype.push=function(t,e){var a,i,n=this.strm,l=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?n.input=o.string2buf(t):"[object ArrayBuffer]"===d.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new s.Buf8(l),n.next_out=0,n.avail_out=l),1!==(a=r.eL(n,i))&&a!==f)return this.g9(a),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(o.buf2binstring(s.shrinkBuf(n.output,n.next_out))):this.onData(s.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==a);return 4===i?(a=r.deflateEnd(this.strm),this.g9(a),this.ended=!0,a===f):2!==i||(this.g9(f),n.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.g9=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=i,a.eL=n,a.deflateRaw=function(t,e){return e=e||{},e.raw=!0,n(t,e)},a.gzip=function(t,e){return e=e||{},e.gzip=!0,n(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/eL":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,a){function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var a=r.inflateInit2(this.strm,e.windowBits);if(a!==l.Z_OK)throw new Error(h[a]);this.header=new f,r.inflateGetHeader(this.strm,this.header)}
function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg||h[a.err];return a.result}
var r=t("./zlib/eJ"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),h=t("./zlib/messages"),d=t("./zlib/zstream"),f=t("./zlib/gzheader"),_=Object.prototype.toString;i.prototype.push=function(t,e){var a,i,n,h,d,f,u=this.strm,c=this.options.chunkSize,b=this.options.dictionary,g=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?u.input=o.binstring2buf(t):"[object ArrayBuffer]"===_.call(t)?u.input=new Uint8Array(t):u.input=t,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new s.Buf8(c),u.next_out=0,u.avail_out=c),(a=r.eJ(u,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&b&&(f="string"==typeof b?o.string2buf(b):"[object ArrayBuffer]"===_.call(b)?new Uint8Array(b):b,a=r.inflateSetDictionary(this.strm,f)),a===l.Z_BUF_ERROR&&!0===g&&(a=l.Z_OK,g=!1),a!==l.Z_STREAM_END&&a!==l.Z_OK)return this.g9(a),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&a!==l.Z_STREAM_END&&(0!==u.avail_in||i!==l.Z_FINISH&&i!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(n=o.utf8border(u.output,u.next_out),h=u.next_out-n,d=o.buf2string(u.output,n),u.next_out=h,u.avail_out=c-h,h&&s.arraySet(u.output,u.output,n,h,0),this.onData(d)):this.onData(s.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(g=!0)}while((u.avail_in>0||0===u.avail_out)&&a!==l.Z_STREAM_END);return a===l.Z_STREAM_END&&(i=l.Z_FINISH),i===l.Z_FINISH?(a=r.inflateEnd(this.strm),this.g9(a),this.ended=!0,a===l.Z_OK):i!==l.Z_SYNC_FLUSH||(this.g9(l.Z_OK),u.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.g9=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=i,a.eJ=n,a.inflateRaw=function(t,e){return e=e||{},e.raw=!0,n(t,e)},a.ungzip=n},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/eJ":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,a){function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var n in a)i(a,n)&&(t[n]=a[n])}}
return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,a,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+i),n);else
for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){var e,a,i,n,r,s;for(i=0,e=0,a=t.length;e<a;e++)i+=t[e].length;for(s=new Uint8Array(i),n=0,e=0,a=t.length;e<a;e++)r=t[e],s.set(r,n),n+=r.length;return s}},s={arraySet:function(t,e,a,i,n){for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,r)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,s))},a.setTyped(n)},{}],4:[function(t,e,a){function i(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var a="",i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a}
var n=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}
try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}
for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,a.string2buf=function(t){var e,a,i,r,s,o=t.length,l=0;for(r=0;r<o;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(i-56320),r++),l+=a<128?1:a<2048?2:a<65536?3:4;for(e=new n.Buf8(l),s=0,r=0;s<l;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(i-56320),r++),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},a.buf2binstring=function(t){return i(t,t.length)},a.binstring2buf=function(t){for(var e=new n.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,r,s,l=e||t.length,h=new Array(2*l);for(n=0,a=0;a<l;)
if((r=t[a++])<128)h[n++]=r;else if((s=o[r])>4)h[n++]=65533,a+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&a<l;)r=r<<6|63&t[a++],s--;s>1?h[n++]=65533:r<65536?h[n++]=r:(r-=65536,h[n++]=55296|r>>10&1023,h[n++]=56320|1023&r)}
return i(h,n)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":3}],5:[function(t,e,a){e.exports=function(t,e,a,i){for(var n=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{r=r+(n=n+e[i++]|0)|0}while(--s);n%=65521,r%=65521}
return n|r<<16|0}},{}],6:[function(t,e,a){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,a){var i=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}
return e}();e.exports=function(t,e,a,n){var r=i,s=n+a;t^=-1;for(var o=n;o<s;o++)t=t>>>8^r[255&(t^e[o])];return-1^t}},{}],8:[function(t,e,a){function i(t,e){return t.msg=A[e],e}
function n(t){return(t<<1)-(t>4?9:0)}
function r(t){for(var e=t.length;--e>=0;)t[e]=0}
function s(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(z.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}
function o(t,e){B._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}
function l(t,e){t.pending_buf[t.pending++]=e}
function h(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}
function d(t,e,a,i){var n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,z.arraySet(e,t.input,t.next_in,n,a),1===t.state.wrap?t.adler=S(t.adler,e,n,a):2===t.state.wrap&&(t.adler=E(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)}
function f(t,e){var a,i,n=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-it?t.strstart-(t.w_size-it):0,h=t.window,d=t.w_mask,f=t.prev,_=t.strstart+at,u=h[r+s-1],c=h[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+s]===c&&h[a+s-1]===u&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do{}while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<_);if(i=at-(_-r),r=_-at,i>s){if(t.match_start=e,s=i,i>=o)break;u=h[r+s-1],c=h[r+s]}}}while((e=f[e&d])>l&&0!=--n);return s<=t.lookahead?s:t.lookahead}
function _(t){var e,a,i,n,r,s=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-it)){z.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=a=t.hash_size;do{i=t.head[--e],t.head[e]=i>=s?i-s:0}while(--a);e=a=s;do{i=t.prev[--e],t.prev[e]=i>=s?i-s:0}while(--a);n+=s}
if(0===t.strm.avail_in)break;if(a=d(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=a,t.lookahead+t.insert>=et)
for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+et-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<et)););}while(t.lookahead<it&&0!==t.strm.avail_in)}
function u(t,e){for(var a,i;;){if(t.lookahead<it){if(_(t),t.lookahead<it&&e===Z)return _t;if(0===t.lookahead)break}
if(a=0,t.lookahead>=et&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-it&&(t.match_length=f(t,a)),t.match_length>=et)
if(i=B._tr_tally(t,t.strstart-t.match_start,t.match_length-et),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=et){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=B._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(o(t,!1),0===t.strm.avail_out))return _t}
return t.insert=t.strstart<et-1?t.strstart:et-1,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?_t:ut}
function c(t,e){for(var a,i,n;;){if(t.lookahead<it){if(_(t),t.lookahead<it&&e===Z)return _t;if(0===t.lookahead)break}
if(a=0,t.lookahead>=et&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=et-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-it&&(t.match_length=f(t,a),t.match_length<=5&&(t.strategy===H||t.match_length===et&&t.strstart-t.match_start>4096)&&(t.match_length=et-1)),t.prev_length>=et&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-et,i=B._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-et),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=et-1,t.strstart++,i&&(o(t,!1),0===t.strm.avail_out))return _t}else if(t.match_available){if((i=B._tr_tally(t,0,t.window[t.strstart-1]))&&o(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return _t}else t.match_available=1,t.strstart++,t.lookahead--}
return t.match_available&&(i=B._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<et-1?t.strstart:et-1,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?_t:ut}
function b(t,e){for(var a,i,n,r,s=t.window;;){if(t.lookahead<=at){if(_(t),t.lookahead<=at&&e===Z)return _t;if(0===t.lookahead)break}
if(t.match_length=0,t.lookahead>=et&&t.strstart>0&&(n=t.strstart-1,(i=s[n])===s[++n]&&i===s[++n]&&i===s[++n])){r=t.strstart+at;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<r);t.match_length=at-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}
if(t.match_length>=et?(a=B._tr_tally(t,1,t.match_length-et),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=B._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(o(t,!1),0===t.strm.avail_out))return _t}
return t.insert=0,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?_t:ut}
function g(t,e){for(var a;;){if(0===t.lookahead&&(_(t),0===t.lookahead)){if(e===Z)return _t;break}
if(t.match_length=0,a=B._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(o(t,!1),0===t.strm.avail_out))return _t}
return t.insert=0,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?_t:ut}
function m(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}
function w(t){t.window_size=2*t.w_size,r(t.head),t.max_lazy_match=x[t.level].max_lazy,t.good_match=x[t.level].good_length,t.nice_match=x[t.level].nice_length,t.max_chain_length=x[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=et-1,t.match_available=0,t.ins_h=0}
function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new z.Buf16(2*$),this.dyn_dtree=new z.Buf16(2*(2*Q+1)),this.bl_tree=new z.Buf16(2*(2*V+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new z.Buf16(tt+1),this.heap=new z.Buf16(2*J+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new z.Buf16(2*J+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}
function v(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Y,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?rt:dt,t.adler=2===e.wrap?0:1,e.last_flush=Z,B._tr_init(e),D):i(t,U)}
function k(t){var e=v(t);return e===D&&w(t.state),e}
function y(t,e,a,n,r,s){if(!t)return U;var o=1;if(e===L&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>G||a!==q||n<8||n>15||e<0||e>9||s<0||s>M)return i(t,U);8===n&&(n=9);var l=new p;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+et-1)/et),l.window=new z.Buf8(2*l.w_size),l.head=new z.Buf16(l.hash_size),l.prev=new z.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new z.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=a,k(t)}
var x,z=t("../utils/common"),B=t("./trees"),S=t("./adler32"),E=t("./crc32"),A=t("./messages"),Z=0,R=1,C=3,N=4,O=5,D=0,I=1,U=-2,T=-3,F=-5,L=-1,H=1,j=2,K=3,M=4,P=0,Y=2,q=8,G=9,X=15,W=8,J=286,Q=30,V=19,$=2*J+1,tt=15,et=3,at=258,it=at+et+1,nt=32,rt=42,st=69,ot=73,lt=91,ht=103,dt=113,ft=666,_t=1,ut=2,ct=3,bt=4,gt=3;x=[new m(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_(t),0===t.lookahead&&e===Z)return _t;if(0===t.lookahead)break}
t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+a;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,o(t,!1),0===t.strm.avail_out))return _t;if(t.strstart-t.block_start>=t.w_size-it&&(o(t,!1),0===t.strm.avail_out))return _t}
return t.insert=0,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):(t.strstart>t.block_start&&(o(t,!1),t.strm.avail_out),_t)}),new m(4,4,8,4,u),new m(4,5,16,8,u),new m(4,6,32,32,u),new m(4,4,16,16,c),new m(8,16,32,32,c),new m(8,16,128,128,c),new m(8,32,128,256,c),new m(32,128,258,1024,c),new m(32,258,258,4096,c)],a.deflateInit=function(t,e){return y(t,e,q,X,W,P)},a.deflateInit2=y,a.deflateReset=k,a.deflateResetKeep=v,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?U:(t.state.gzhead=e,D):U},a.eL=function(t,e){var a,o,d,f;if(!t||!t.state||e>O||e<0)return t?i(t,U):U;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===ft&&e!==N)return i(t,0===t.avail_out?F:U);if(o.strm=t,a=o.last_flush,o.last_flush=e,o.status===rt)
if(2===o.wrap)t.adler=0,l(o,31),l(o,139),l(o,8),o.gzhead?(l(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),l(o,255&o.gzhead.time),l(o,o.gzhead.time>>8&255),l(o,o.gzhead.time>>16&255),l(o,o.gzhead.time>>24&255),l(o,9===o.level?2:o.strategy>=j||o.level<2?4:0),l(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(l(o,255&o.gzhead.extra.length),l(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=E(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=st):(l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=j||o.level<2?4:0),l(o,gt),o.status=dt);else{var _=q+(o.w_bits-8<<4)<<8;_|=(o.strategy>=j||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(_|=nt),_+=31-_%31,o.status=dt,h(o,_),0!==o.strstart&&(h(o,t.adler>>>16),h(o,65535&t.adler)),t.adler=1}
if(o.status===st)
if(o.gzhead.extra){for(d=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending!==o.pending_buf_size));)l(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=ot)}else o.status=ot;if(o.status===ot)
if(o.gzhead.name){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending===o.pending_buf_size)){f=1;break}
f=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,l(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),0===f&&(o.gzindex=0,o.status=lt)}else o.status=lt;if(o.status===lt)
if(o.gzhead.comment){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending===o.pending_buf_size)){f=1;break}
f=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,l(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),0===f&&(o.status=ht)}else o.status=ht;if(o.status===ht&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(t),o.pending+2<=o.pending_buf_size&&(l(o,255&t.adler),l(o,t.adler>>8&255),t.adler=0,o.status=dt)):o.status=dt),0!==o.pending){if(s(t),0===t.avail_out)return o.last_flush=-1,D}else if(0===t.avail_in&&n(e)<=n(a)&&e!==N)return i(t,F);if(o.status===ft&&0!==t.avail_in)return i(t,F);if(0!==t.avail_in||0!==o.lookahead||e!==Z&&o.status!==ft){var u=o.strategy===j?g(o,e):o.strategy===K?b(o,e):x[o.level].func(o,e);if(u!==ct&&u!==bt||(o.status=ft),u===_t||u===ct)return 0===t.avail_out&&(o.last_flush=-1),D;if(u===ut&&(e===R?B._tr_align(o):e!==O&&(B._tr_stored_block(o,0,0,!1),e===C&&(r(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(t),0===t.avail_out))return o.last_flush=-1,D}
return e!==N?D:o.wrap<=0?I:(2===o.wrap?(l(o,255&t.adler),l(o,t.adler>>8&255),l(o,t.adler>>16&255),l(o,t.adler>>24&255),l(o,255&t.total_in),l(o,t.total_in>>8&255),l(o,t.total_in>>16&255),l(o,t.total_in>>24&255)):(h(o,t.adler>>>16),h(o,65535&t.adler)),s(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?D:I)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==rt&&e!==st&&e!==ot&&e!==lt&&e!==ht&&e!==dt&&e!==ft?i(t,U):(t.state=null,e===dt?i(t,T):D):U},a.deflateSetDictionary=function(t,e){var a,i,n,s,o,l,h,d,f=e.length;if(!t||!t.state)return U;if(a=t.state,2===(s=a.wrap)||1===s&&a.status!==rt||a.lookahead)return U;for(1===s&&(t.adler=S(t.adler,e,f,0)),a.wrap=0,f>=a.w_size&&(0===s&&(r(a.head),a.strstart=0,a.block_start=0,a.insert=0),d=new z.Buf8(a.w_size),z.arraySet(d,e,f-a.w_size,a.w_size,0),e=d,f=a.w_size),o=t.avail_in,l=t.next_in,h=t.input,t.avail_in=f,t.next_in=0,t.input=e,_(a);a.lookahead>=et;){i=a.strstart,n=a.lookahead-(et-1);do{a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+et-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++}while(--n);a.strstart=i,a.lookahead=et-1,_(a)}
return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=et-1,a.match_available=0,t.next_in=l,t.input=h,t.avail_in=o,a.wrap=s,D},a.deflateInfo="eM eL (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,a){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,a){e.exports=function(t,e){var a,i,n,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S;a=t.state,i=t.next_in,B=t.input,n=i+(t.avail_in-5),r=t.next_out,S=t.output,s=r-(e-t.avail_out),o=r+(t.avail_out-257),l=a.dmax,h=a.wsize,d=a.whave,f=a.wnext,_=a.window,u=a.hold,c=a.bits,b=a.lencode,g=a.distcode,m=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;t:do{c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=b[u&m];e:for(;;){if(v=p>>>24,u>>>=v,c-=v,0===(v=p>>>16&255))S[r++]=65535&p;else{if(!(16&v)){if(0==(64&v)){p=b[(65535&p)+(u&(1<<v)-1)];continue e}
if(32&v){a.mode=12;break t}
t.msg="invalid literal/length code",a.mode=30;break t}
k=65535&p,(v&=15)&&(c<v&&(u+=B[i++]<<c,c+=8),k+=u&(1<<v)-1,u>>>=v,c-=v),c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=g[u&w];a:for(;;){if(v=p>>>24,u>>>=v,c-=v,!(16&(v=p>>>16&255))){if(0==(64&v)){p=g[(65535&p)+(u&(1<<v)-1)];continue a}
t.msg="invalid distance code",a.mode=30;break t}
if(y=65535&p,v&=15,c<v&&(u+=B[i++]<<c,(c+=8)<v&&(u+=B[i++]<<c,c+=8)),(y+=u&(1<<v)-1)>l){t.msg="invalid distance too far back",a.mode=30;break t}
if(u>>>=v,c-=v,v=r-s,y>v){if((v=y-v)>d&&a.sane){t.msg="invalid distance too far back",a.mode=30;break t}
if(x=0,z=_,0===f){if(x+=h-v,v<k){k-=v;do{S[r++]=_[x++]}while(--v);x=r-y,z=S}}else if(f<v){if(x+=h+f-v,(v-=f)<k){k-=v;do{S[r++]=_[x++]}while(--v);if(x=0,f<k){k-=v=f;do{S[r++]=_[x++]}while(--v);x=r-y,z=S}}}else if(x+=f-v,v<k){k-=v;do{S[r++]=_[x++]}while(--v);x=r-y,z=S}
for(;k>2;)S[r++]=z[x++],S[r++]=z[x++],S[r++]=z[x++],k-=3;k&&(S[r++]=z[x++],k>1&&(S[r++]=z[x++]))}else{x=r-y;do{S[r++]=S[x++],S[r++]=S[x++],S[r++]=S[x++],k-=3}while(k>2);k&&(S[r++]=S[x++],k>1&&(S[r++]=S[x++]))}
break}}
break}}while(i<n&&r<o);i-=k=c>>3,u&=(1<<(c-=k<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=r<o?o-r+257:257-(r-o),a.hold=u,a.bits=c}},{}],11:[function(t,e,a){function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}
function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}
function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=N,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new u.Buf32(dt),e.distcode=e.distdyn=new u.Buf32(ft),e.sane=1,e.back=-1,z):E}
function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,r(t)):E}
function o(t,e){var a,i;return t&&t.state?(i=t.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?E:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,s(t))):E}
function l(t,e){var a,i;return t?(i=new n,t.state=i,i.window=null,(a=o(t,e))!==z&&(t.state=null),a):E}
function h(t){if(ut){var e;for(f=new u.Buf32(512),_=new u.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(m(p,t.lens,0,288,f,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;m(v,t.lens,0,32,_,0,t.work,{bits:5}),ut=!1}
t.lencode=f,t.lenbits=9,t.distcode=_,t.distbits=5}
function d(t,e,a,i){var n,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new u.Buf8(r.wsize)),i>=r.wsize?(u.arraySet(r.window,e,a-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>i&&(n=i),u.arraySet(r.window,e,a-i,n,r.wnext),(i-=n)?(u.arraySet(r.window,e,a-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}
var f,_,u=t("../utils/common"),c=t("./adler32"),b=t("./crc32"),g=t("./inffast"),m=t("./inftrees"),w=0,p=1,v=2,k=4,y=5,x=6,z=0,B=1,S=2,E=-2,A=-3,Z=-4,R=-5,C=8,N=1,O=2,D=3,I=4,U=5,T=6,F=7,L=8,H=9,j=10,K=11,M=12,P=13,Y=14,q=15,G=16,X=17,W=18,J=19,Q=20,V=21,$=22,tt=23,et=24,at=25,it=26,nt=27,rt=28,st=29,ot=30,lt=31,ht=32,dt=852,ft=592,_t=15,ut=!0;a.inflateReset=s,a.inflateReset2=o,a.inflateResetKeep=r,a.inflateInit=function(t){return l(t,_t)},a.inflateInit2=l,a.eJ=function(t,e){var a,n,r,s,o,l,f,_,dt,ft,_t,ut,ct,bt,gt,mt,wt,pt,vt,kt,yt,xt,zt,Bt,St=0,Et=new u.Buf8(4),At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return E;(a=t.state).mode===M&&(a.mode=P),o=t.next_out,r=t.output,f=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,_=a.hold,dt=a.bits,ft=l,_t=f,xt=z;t:for(;;)switch(a.mode){case N:if(0===a.wrap){a.mode=P;break}
for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(2&a.wrap&&35615===_){a.check=0,Et[0]=255&_,Et[1]=_>>>8&255,a.check=b(a.check,Et,2,0),_=0,dt=0,a.mode=O;break}
if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&_)<<8)+(_>>8))%31){t.msg="incorrect header check",a.mode=ot;break}
if((15&_)!==C){t.msg="unknown compression method",a.mode=ot;break}
if(_>>>=4,dt-=4,yt=8+(15&_),0===a.wbits)a.wbits=yt;else if(yt>a.wbits){t.msg="invalid window size",a.mode=ot;break}
a.dmax=1<<yt,t.adler=a.check=1,a.mode=512&_?j:M,_=0,dt=0;break;case O:for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(a.flags=_,(255&a.flags)!==C){t.msg="unknown compression method",a.mode=ot;break}
if(57344&a.flags){t.msg="unknown header flags set",a.mode=ot;break}
a.head&&(a.head.text=_>>8&1),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=b(a.check,Et,2,0)),_=0,dt=0,a.mode=D;case D:for(;dt<32;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.head&&(a.head.time=_),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,Et[2]=_>>>16&255,Et[3]=_>>>24&255,a.check=b(a.check,Et,4,0)),_=0,dt=0,a.mode=I;case I:for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.head&&(a.head.xflags=255&_,a.head.os=_>>8),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=b(a.check,Et,2,0)),_=0,dt=0,a.mode=U;case U:if(1024&a.flags){for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.length=_,a.head&&(a.head.extra_len=_),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=b(a.check,Et,2,0)),_=0,dt=0}else a.head&&(a.head.extra=null);a.mode=T;case T:if(1024&a.flags&&((ut=a.length)>l&&(ut=l),ut&&(a.head&&(yt=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),u.arraySet(a.head.extra,n,s,ut,yt)),512&a.flags&&(a.check=b(a.check,n,ut,s)),l-=ut,s+=ut,a.length-=ut),a.length))break t;a.length=0,a.mode=F;case F:if(2048&a.flags){if(0===l)break t;ut=0;do{yt=n[s+ut++],a.head&&yt&&a.length<65536&&(a.head.name+=String.fromCharCode(yt))}while(yt&&ut<l);if(512&a.flags&&(a.check=b(a.check,n,ut,s)),l-=ut,s+=ut,yt)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=L;case L:if(4096&a.flags){if(0===l)break t;ut=0;do{yt=n[s+ut++],a.head&&yt&&a.length<65536&&(a.head.comment+=String.fromCharCode(yt))}while(yt&&ut<l);if(512&a.flags&&(a.check=b(a.check,n,ut,s)),l-=ut,s+=ut,yt)break t}else a.head&&(a.head.comment=null);a.mode=H;case H:if(512&a.flags){for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(_!==(65535&a.check)){t.msg="header crc mismatch",a.mode=ot;break}
_=0,dt=0}
a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=M;break;case j:for(;dt<32;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
t.adler=a.check=i(_),_=0,dt=0,a.mode=K;case K:if(0===a.havedict)return t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=dt,S;t.adler=a.check=1,a.mode=M;case M:if(e===y||e===x)break t;case P:if(a.last){_>>>=7&dt,dt-=7&dt,a.mode=nt;break}
for(;dt<3;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
switch(a.last=1&_,_>>>=1,dt-=1,3&_){case 0:a.mode=Y;break;case 1:if(h(a),a.mode=Q,e===x){_>>>=2,dt-=2;break t}
break;case 2:a.mode=X;break;case 3:t.msg="invalid block type",a.mode=ot}
_>>>=2,dt-=2;break;case Y:for(_>>>=7&dt,dt-=7&dt;dt<32;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if((65535&_)!=(_>>>16^65535)){t.msg="invalid stored block lengths",a.mode=ot;break}
if(a.length=65535&_,_=0,dt=0,a.mode=q,e===x)break t;case q:a.mode=G;case G:if(ut=a.length){if(ut>l&&(ut=l),ut>f&&(ut=f),0===ut)break t;u.arraySet(r,n,s,ut,o),l-=ut,s+=ut,f-=ut,o+=ut,a.length-=ut;break}
a.mode=M;break;case X:for(;dt<14;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(a.nlen=257+(31&_),_>>>=5,dt-=5,a.ndist=1+(31&_),_>>>=5,dt-=5,a.ncode=4+(15&_),_>>>=4,dt-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=ot;break}
a.have=0,a.mode=W;case W:for(;a.have<a.ncode;){for(;dt<3;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.lens[At[a.have++]]=7&_,_>>>=3,dt-=3}
for(;a.have<19;)a.lens[At[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,zt={bits:a.lenbits},xt=m(w,a.lens,0,19,a.lencode,0,a.work,zt),a.lenbits=zt.bits,xt){t.msg="invalid code lengths set",a.mode=ot;break}
a.have=0,a.mode=J;case J:for(;a.have<a.nlen+a.ndist;){for(;St=a.lencode[_&(1<<a.lenbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(wt<16)_>>>=gt,dt-=gt,a.lens[a.have++]=wt;else{if(16===wt){for(Bt=gt+2;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(_>>>=gt,dt-=gt,0===a.have){t.msg="invalid bit length repeat",a.mode=ot;break}
yt=a.lens[a.have-1],ut=3+(3&_),_>>>=2,dt-=2}else if(17===wt){for(Bt=gt+3;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
dt-=gt,yt=0,ut=3+(7&(_>>>=gt)),_>>>=3,dt-=3}else{for(Bt=gt+7;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
dt-=gt,yt=0,ut=11+(127&(_>>>=gt)),_>>>=7,dt-=7}
if(a.have+ut>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=ot;break}
for(;ut--;)a.lens[a.have++]=yt}}
if(a.mode===ot)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=ot;break}
if(a.lenbits=9,zt={bits:a.lenbits},xt=m(p,a.lens,0,a.nlen,a.lencode,0,a.work,zt),a.lenbits=zt.bits,xt){t.msg="invalid literal/lengths set",a.mode=ot;break}
if(a.distbits=6,a.distcode=a.distdyn,zt={bits:a.distbits},xt=m(v,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,zt),a.distbits=zt.bits,xt){t.msg="invalid distances set",a.mode=ot;break}
if(a.mode=Q,e===x)break t;case Q:a.mode=V;case V:if(l>=6&&f>=258){t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=dt,g(t,_t),o=t.next_out,r=t.output,f=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,_=a.hold,dt=a.bits,a.mode===M&&(a.back=-1);break}
for(a.back=0;St=a.lencode[_&(1<<a.lenbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(mt&&0==(240&mt)){for(pt=gt,vt=mt,kt=wt;St=a.lencode[kt+((_&(1<<pt+vt)-1)>>pt)],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(pt+gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
_>>>=pt,dt-=pt,a.back+=pt}
if(_>>>=gt,dt-=gt,a.back+=gt,a.length=wt,0===mt){a.mode=it;break}
if(32&mt){a.back=-1,a.mode=M;break}
if(64&mt){t.msg="invalid literal/length code",a.mode=ot;break}
a.extra=15&mt,a.mode=$;case $:if(a.extra){for(Bt=a.extra;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.length+=_&(1<<a.extra)-1,_>>>=a.extra,dt-=a.extra,a.back+=a.extra}
a.was=a.length,a.mode=tt;case tt:for(;St=a.distcode[_&(1<<a.distbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(0==(240&mt)){for(pt=gt,vt=mt,kt=wt;St=a.distcode[kt+((_&(1<<pt+vt)-1)>>pt)],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(pt+gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
_>>>=pt,dt-=pt,a.back+=pt}
if(_>>>=gt,dt-=gt,a.back+=gt,64&mt){t.msg="invalid distance code",a.mode=ot;break}
a.offset=wt,a.extra=15&mt,a.mode=et;case et:if(a.extra){for(Bt=a.extra;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.offset+=_&(1<<a.extra)-1,_>>>=a.extra,dt-=a.extra,a.back+=a.extra}
if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=ot;break}
a.mode=at;case at:if(0===f)break t;if(ut=_t-f,a.offset>ut){if((ut=a.offset-ut)>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=ot;break}
ut>a.wnext?(ut-=a.wnext,ct=a.wsize-ut):ct=a.wnext-ut,ut>a.length&&(ut=a.length),bt=a.window}else bt=r,ct=o-a.offset,ut=a.length;ut>f&&(ut=f),f-=ut,a.length-=ut;do{r[o++]=bt[ct++]}while(--ut);0===a.length&&(a.mode=V);break;case it:if(0===f)break t;r[o++]=a.length,f--,a.mode=V;break;case nt:if(a.wrap){for(;dt<32;){if(0===l)break t;l--,_|=n[s++]<<dt,dt+=8}
if(_t-=f,t.total_out+=_t,a.total+=_t,_t&&(t.adler=a.check=a.flags?b(a.check,r,_t,o-_t):c(a.check,r,_t,o-_t)),_t=f,(a.flags?_:i(_))!==a.check){t.msg="incorrect data check",a.mode=ot;break}
_=0,dt=0}
a.mode=rt;case rt:if(a.wrap&&a.flags){for(;dt<32;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(_!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=ot;break}
_=0,dt=0}
a.mode=st;case st:xt=B;break t;case ot:xt=A;break t;case lt:return Z;case ht:default:return E}
return t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=dt,(a.wsize||_t!==t.avail_out&&a.mode<ot&&(a.mode<nt||e!==k))&&d(t,t.output,t.next_out,_t-t.avail_out)?(a.mode=lt,Z):(ft-=t.avail_in,_t-=t.avail_out,t.total_in+=ft,t.total_out+=_t,a.total+=_t,a.wrap&&_t&&(t.adler=a.check=a.flags?b(a.check,r,_t,t.next_out-_t):c(a.check,r,_t,t.next_out-_t)),t.data_type=a.bits+(a.last?64:0)+(a.mode===M?128:0)+(a.mode===Q||a.mode===q?256:0),(0===ft&&0===_t||e===k)&&xt===z&&(xt=R),xt)},a.inflateEnd=function(t){if(!t||!t.state)return E;var e=t.state;return e.window&&(e.window=null),t.state=null,z},a.inflateGetHeader=function(t,e){var a;return t&&t.state?0==(2&(a=t.state).wrap)?E:(a.head=e,e.done=!1,z):E},a.inflateSetDictionary=function(t,e){var a,i,n=e.length;return t&&t.state?0!==(a=t.state).wrap&&a.mode!==K?E:a.mode===K&&(i=1,(i=c(i,e,n,0))!==a.check)?A:d(t,e,n,n)?(a.mode=lt,Z):(a.havedict=1,z):E},a.inflateInfo="eM eJ (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,a){var i=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,l,h,d,f,_){var u,c,b,g,m,w,p,v,k,y=_.bits,x=0,z=0,B=0,S=0,E=0,A=0,Z=0,R=0,C=0,N=0,O=null,D=0,I=new i.Buf16(16),U=new i.Buf16(16),T=null,F=0;for(x=0;x<=15;x++)I[x]=0;for(z=0;z<l;z++)I[e[a+z]]++;for(E=y,S=15;S>=1&&0===I[S];S--);if(E>S&&(E=S),0===S)return h[d++]=20971520,h[d++]=20971520,_.bits=1,0;for(B=1;B<S&&0===I[B];B++);for(E<B&&(E=B),R=1,x=1;x<=15;x++)
if(R<<=1,(R-=I[x])<0)return-1;if(R>0&&(0===t||1!==S))return-1;for(U[1]=0,x=1;x<15;x++)U[x+1]=U[x]+I[x];for(z=0;z<l;z++)0!==e[a+z]&&(f[U[e[a+z]]++]=z);if(0===t?(O=T=f,w=19):1===t?(O=n,D-=257,T=r,F-=257,w=256):(O=s,T=o,w=-1),N=0,z=0,x=B,m=d,A=E,Z=0,b=-1,C=1<<E,g=C-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){p=x-Z,f[z]<w?(v=0,k=f[z]):f[z]>w?(v=T[F+f[z]],k=O[D+f[z]]):(v=96,k=0),u=1<<x-Z,B=c=1<<A;do{h[m+(N>>Z)+(c-=u)]=p<<24|v<<16|k|0}while(0!==c);for(u=1<<x-1;N&u;)u>>=1;if(0!==u?(N&=u-1,N+=u):N=0,z++,0==--I[x]){if(x===S)break;x=e[a+f[z]]}
if(x>E&&(N&g)!==b){for(0===Z&&(Z=E),m+=B,R=1<<(A=x-Z);A+Z<S&&!((R-=I[A+Z])<=0);)A++,R<<=1;if(C+=1<<A,1===t&&C>852||2===t&&C>592)return 1;h[b=N&g]=E<<24|A<<16|m-d|0}}
return 0!==N&&(h[m+N]=x-Z<<24|64<<16|0),_.bits=E,0}},{"../utils/common":3}],13:[function(t,e,a){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,a){function i(t){for(var e=t.length;--e>=0;)t[e]=0}
function n(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}
function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}
function s(t){return t<256?et[t]:et[256+(t>>>7)]}
function o(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}
function l(t,e,a){t.bi_valid>M-a?(t.bi_buf|=e<<t.bi_valid&65535,o(t,t.bi_buf),t.bi_buf=e>>M-t.bi_valid,t.bi_valid+=a-M):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}
function h(t,e,a){l(t,a[2*e],a[2*e+1])}
function d(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1}
function f(t){16===t.bi_valid?(o(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}
function _(t,e){var a,i,n,r,s,o,l=e.dyn_tree,h=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,_=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,c=e.stat_desc.max_length,b=0;for(r=0;r<=K;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<j;a++)(r=l[2*l[2*(i=t.heap[a])+1]+1]+1)>c&&(r=c,b++),l[2*i+1]=r,i>h||(t.bl_count[r]++,s=0,i>=u&&(s=_[i-u]),o=l[2*i],t.opt_len+=o*(r+s),f&&(t.static_len+=o*(d[2*i+1]+s)));if(0!==b){do{for(r=c-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[c]--,b-=2}while(b>0);for(r=c;0!==r;r--)
for(i=t.bl_count[r];0!==i;)(n=t.heap[--a])>h||(l[2*n+1]!==r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),i--)}}
function u(t,e,a){var i,n,r=new Array(K+1),s=0;for(i=1;i<=K;i++)r[i]=s=s+a[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=d(r[o]++,o))}}
function c(){var t,e,a,i,r,s=new Array(K+1);for(a=0,i=0;i<U-1;i++)
for(it[i]=a,t=0;t<1<<W[i];t++)at[a++]=i;for(at[a-1]=i,r=0,i=0;i<16;i++)
for(nt[i]=r,t=0;t<1<<J[i];t++)et[r++]=i;for(r>>=7;i<L;i++)
for(nt[i]=r<<7,t=0;t<1<<J[i]-7;t++)et[256+r++]=i;for(e=0;e<=K;e++)s[e]=0;for(t=0;t<=143;)$[2*t+1]=8,t++,s[8]++;for(;t<=255;)$[2*t+1]=9,t++,s[9]++;for(;t<=279;)$[2*t+1]=7,t++,s[7]++;for(;t<=287;)$[2*t+1]=8,t++,s[8]++;for(u($,F+1,s),t=0;t<L;t++)tt[2*t+1]=5,tt[2*t]=d(t,5);rt=new n($,W,T+1,F,K),st=new n(tt,J,0,L,K),ot=new n(new Array(0),Q,0,H,P)}
function b(t){var e;for(e=0;e<F;e++)t.dyn_ltree[2*e]=0;for(e=0;e<L;e++)t.dyn_dtree[2*e]=0;for(e=0;e<H;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Y]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}
function g(t){t.bi_valid>8?o(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}
function m(t,e,a,i){g(t),i&&(o(t,a),o(t,~a)),A.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}
function w(t,e,a,i){var n=2*e,r=2*a;return t[n]<t[r]||t[n]===t[r]&&i[e]<=i[a]}
function p(t,e,a){for(var i=t.heap[a],n=a<<1;n<=t.heap_len&&(n<t.heap_len&&w(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!w(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i}
function v(t,e,a){var i,n,r,o,d=0;if(0!==t.last_lit)
do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],n=t.pending_buf[t.l_buf+d],d++,0===i?h(t,n,e):(h(t,(r=at[n])+T+1,e),0!==(o=W[r])&&l(t,n-=it[r],o),h(t,r=s(--i),a),0!==(o=J[r])&&l(t,i-=nt[r],o))}while(d<t.last_lit);h(t,Y,e)}
function k(t,e){var a,i,n,r=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=j,a=0;a<l;a++)0!==r[2*a]?(t.heap[++t.heap_len]=h=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)r[2*(n=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=h,a=t.heap_len>>1;a>=1;a--)p(t,r,a);n=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],p(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=i,r[2*n]=r[2*a]+r[2*i],t.depth[n]=(t.depth[a]>=t.depth[i]?t.depth[a]:t.depth[i])+1,r[2*a+1]=r[2*i+1]=n,t.heap[1]=n++,p(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],_(t,e),u(r,h,t.bl_count)}
function y(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=s,s=e[2*(i+1)+1],++o<l&&n===s||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[2*q]++):o<=10?t.bl_tree[2*G]++:t.bl_tree[2*X]++,o=0,r=n,0===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4))}
function x(t,e,a){var i,n,r=-1,s=e[1],o=0,d=7,f=4;for(0===s&&(d=138,f=3),i=0;i<=a;i++)
if(n=s,s=e[2*(i+1)+1],!(++o<d&&n===s)){if(o<f)
do{h(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==r&&(h(t,n,t.bl_tree),o--),h(t,q,t.bl_tree),l(t,o-3,2)):o<=10?(h(t,G,t.bl_tree),l(t,o-3,3)):(h(t,X,t.bl_tree),l(t,o-11,7));o=0,r=n,0===s?(d=138,f=3):n===s?(d=6,f=3):(d=7,f=4)}}
function z(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),k(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*V[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}
function B(t,e,a,i){var n;for(l(t,e-257,5),l(t,a-1,5),l(t,i-4,4),n=0;n<i;n++)l(t,t.bl_tree[2*V[n]+1],3);x(t,t.dyn_ltree,e-1),x(t,t.dyn_dtree,a-1)}
function S(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)
if(1&a&&0!==t.dyn_ltree[2*e])return R;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return C;for(e=32;e<T;e++)
if(0!==t.dyn_ltree[2*e])return C;return R}
function E(t,e,a,i){l(t,(O<<1)+(i?1:0),3),m(t,e,a,!0)}
var A=t("../utils/common"),Z=4,R=0,C=1,N=2,O=0,D=1,I=2,U=29,T=256,F=T+1+U,L=30,H=19,j=2*F+1,K=15,M=16,P=7,Y=256,q=16,G=17,X=18,W=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(F+2));i($);var tt=new Array(2*L);i(tt);var et=new Array(512);i(et);var at=new Array(256);i(at);var it=new Array(U);i(it);var nt=new Array(L);i(nt);var rt,st,ot,lt=!1;a._tr_init=function(t){lt||(c(),lt=!0),t.l_desc=new r(t.dyn_ltree,rt),t.d_desc=new r(t.dyn_dtree,st),t.bl_desc=new r(t.bl_tree,ot),t.bi_buf=0,t.bi_valid=0,b(t)},a._tr_stored_block=E,a._tr_flush_block=function(t,e,a,i){var n,r,s=0;t.level>0?(t.strm.data_type===N&&(t.strm.data_type=S(t)),k(t,t.l_desc),k(t,t.d_desc),s=z(t),n=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=n&&(n=r)):n=r=a+5,a+4<=n&&-1!==e?E(t,e,a,i):t.strategy===Z||r===n?(l(t,(D<<1)+(i?1:0),3),v(t,$,tt)):(l(t,(I<<1)+(i?1:0),3),B(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),v(t,t.dyn_ltree,t.dyn_dtree)),b(t),i&&g(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(at[a]+T+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){l(t,D<<1,3),h(t,Y,$),f(t)}},{"../utils/common":3}],15:[function(t,e,a){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,a){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/eL"),t("./lib/eJ"),t("./lib/zlib/constants")),e.exports=i},{"./lib/eL":1,"./lib/eJ":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});class A7{static get body(){return document.body;}
static jP(C6){return document.createElementNS('http://www.w3.org/2000/svg',C6);}
static jQ(C6){return document.createElement(C6);}
static CE(C6,node){let el=A7.jP(C6);el.node=node;return el;}
static jR(node){return A7.CE("rect",node);}
static jS(node){return A7.CE("g",node);}
static jT(node){return A7.CE("text",node);}
static jU(node){return A7.CE("image",node);}
static BL(id,el,w,h,x=0,y=0,pUnits="userSpaceOnUse"){if(!A7.BY){A7.BY=A7.jP("defs");can.A6.eK.appendChild(A7.BY);}
let pt=A7.jP("pattern");if(x>0)pt.setAttribute("x",x);if(y>0)pt.setAttribute("y",y);if(w)pt.setAttribute("width",w);if(h)pt.setAttribute("height",h);pt.setAttribute("id",id);pt.setAttribute("patternUnits","userSpaceOnUse");pt.appendChild(el);A7.BY.appendChild(pt);return pt;}
static createFilter(id){if(!A7.BY){A7.BY=A7.jP("defs");can.A6.eK.appendChild(A7.BY);}
let el=A7.jP("filter");el.setAttribute("id",id);A7.BY.appendChild(el);return el;}
static jV(id){return document.getElementById(id);}
static jW(elmName){return document.getElementsByName(elmName);}
static setImageSrc(el,v,w,h){if(!v){A7.BN(el);return;}
el.setAttributeNS("http://www.w3.org/1999/xlink","href",v);if(w&&h){el.setAttribute("width",w);el.setAttribute("height",h);}}
static BM(el){el.getAttributeNS("http://www.w3.org/1999/xlink","href");}
static BN(el){el.removeAttributeNS("http://www.w3.org/1999/xlink","href");}
static jL(w,h){var c=document.createElement('canvas');c.width=w;c.height=h;return c;}
static jX(obj,C6="rect"){if(!A7.BY){A7.BY=A7.jP("defs");can.A6.eK.appendChild(A7.BY);}
var o=A7.jV(obj.name+"_clr");if(!o){var clp=A7.jP("clipPath"),m=A7.jP(C6);clp.appendChild(m);A7.BY.appendChild(clp);obj.jZ=m;}else{obj.jZ=o.childNodes[0];}
obj.jZ.parentNode.setAttribute("id",obj.name+"_clr");obj.eK.setAttribute("clip-path","url(#"+obj.name+"_clr)");}
static jY(obj){obj.eK.removeAttribute("clip-path");}
static BO(id,src,w,h,imgX=0,imgY=0){if(!A7.BY){A7.BY=A7.jP("defs");can.A6.eK.appendChild(A7.BY);}
let pt=A7.jV(id),img;if(!pt){pt=A7.jP("pattern"),img=A7.jP("image");pt.appendChild(img);pt.setAttribute("id",id);}else{img=pt.childNodes[0];}
pt.setAttribute("width",w);pt.setAttribute("height",h);img.setAttribute("width",w);img.setAttribute("height",h);if(imgX>0)img.setAttribute("x",imgX);if(imgY>0)img.setAttribute("y",imgY);pt.setAttribute("patternUnits","userSpaceOnUse");img.setAttributeNS("http://www.w3.org/1999/xlink","href",src);A7.BY.appendChild(pt);}
static BP(id){return A7.jV(id);}
static BQ(el,cacheId){if(isNaN(cacheId)&&cacheId.match(/http|\.png|\.jpg|\.jpeg|\.svg/i)){let n=cacheId.replace(/\.|\\|\/|:/g,"_");var o=A7.BP(n);if(o)el.setAttribute("fill","url(#"+n+")");else{A7.BO(n,(iJ.dS||"")+cacheId,el.getAttribute("width"),el.getAttribute("height"));el.setAttribute("fill","url(#"+n+")");}
return true;}else if(A7.BP(cacheId)){el.setAttribute("fill","url(#"+cacheId+")");return true;}else{el.setAttribute("fill","url(#"+cacheId+")");return false;}}
static fillImage(el,id){el.setAttribute("fill","url(#"+id+")");}
static BR(d){if(!d)d=iJ.hF?iJ.hF.data.clipping:can.data.data.clipping;if(!d)return;for(var n=0,l=d.length;n<l;n++){var i=d[n];clip(i.src,i.id,i.x||0,i.y||0,i.width,i.height);}
function clip(src,id,x,y,w,h){var s=ass[src];if(!p||!s)return;var fK=A7.jL(w,h),ctx=fK.getContext("2d");ctx.drawImage(s,x,y,w,h,0,0,w,h);can.data.images[id]=fK.toDataURL("image/png");fK=null;}}
static useImages(id){return;var a=id.split("/");if(a.length>0){id=a.pop().split(".")[0];}
can.data.data.USED_IMAGES=can.data.data.USED_IMAGES||[];if(can.data.data.USED_IMAGES.indexOf(id)<0){can.data.data.USED_IMAGES.push(id);console.log("fn="+id+"&dir="+can.data.projectName)
eE.ajax("copy_image.php","fn="+id+"&dir="+can.data.projectName+"&path="+iJ.dS,"POST");}}}
Object.defineProperties(SVGElement.prototype,{node:{configurable:true,enumerable:true,get:function(){return A0;},set:function(obj){if(!obj)return;A0=obj}}})
var p=String.prototype;p.cS=function(cT=";",cU=","){if(this.length==0){return[];}
let a=this.split(cT);let l=a.length;let r=[];for(let n=l-1;n>=0;n--){let aa=a[n].split(cU).map(f);r.unshift(aa);}
function f(v){if(isNaN(v)){return v;}else{return parseFloat(v);}}
return r;}
Array.CD=function(arr,cT=";",cU=","){if(arr.length==0){return'';}
let s='';let l=arr.length;for(var n=l-1;n>=1;n--){if(!arr[n]){arr[n]='';}
s=cT+f(arr[n])+s;}
s=f(arr[0])+s;function f(a){if(typeof(a)=="string"||typeof(a)=="number"){return a;}
let ss='';let ll=a.length;for(var n=ll-1;n>=1;n--){if(!a[n]){a[n]='';}
ss=cU+a[n]+ss;}
ss=a[0]+ss;return ss;}
return s;}
p.d8=function(value=null,start="{",end="}"){if(value==null){return this;}
var pattern=new RegExp(start+"(.*?)"+end,"g");return this.replace(pattern,function(){return value[arguments[1]];});}
p.fZ=function(s1,s2){return this.split(s1).join(s2);}
String.randomId=function(){return new Date().getTime().toString(36);}
Image.prototype.toBase64=function(){var fK=document.createElement("canvas");fK.width=this.width;fK.height=this.height;var ctx=fK.getContext("2d");ctx.drawImage(this,0,0,this.width,this.height);var r=fK.toDataURL("image/png");fK=null;return r;}
function Base64(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~-=";this.encode=function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=A1(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}else if(isNaN(chr3)){enc4=64;}
output=output+
_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+
_keyStr.charAt(enc3)+_keyStr.charAt(enc4);}
return output;}
this.decode=function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\-\=\~]/g,"");while(i<input.length){enc1=_keyStr.indexOf(input.charAt(i++));enc2=_keyStr.indexOf(input.charAt(i++));enc3=_keyStr.indexOf(input.charAt(i++));enc4=_keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2);}
if(enc4!=64){output=output+String.fromCharCode(chr3);}}
output=CC(output);return output;}
A1=function(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}
return utftext;}
CC=function(utftext){var string="";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++;}else if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}
return string;}}
String.A2=function(s,cT=";",cU=","){if(s.length==0){return{};}
let a=s.split(cT);let l=a.length;let r={};for(let n=l-1;n>=0;n--){let aa=a[n].split(cU).map(f);console.log(aa[0],aa[1])
r[aa[0]]=aa[1];}
function f(v){if(isNaN(v)){return v;}else{return parseFloat(v);}}
return r;}
Date.prototype.format=function(formatStr){var str=formatStr,Week=['日','一','二','三','四','五','六'],year=this.getYear()%100,mth=this.getMonth()+1,day=this.getDate()
h=this.getHours(),m=this.getMinutes(),s=this.getSeconds();str=str.replace(/yyyy|YYYY/,this.getFullYear());str=str.replace(/yy|YY/,year>9?year.toString():'0'+year);str=str.replace(/MM/,mth>9?mth.toString():'0'+mth);str=str.replace(/M/g,mth);str=str.replace(/w|W/g,Week[this.getDay()]);str=str.replace(/dd|DD/,day>9?day.toString():'0'+day);str=str.replace(/d|D/g,day);str=str.replace(/hh|HH/,h>9?h.toString():'0'+h);str=str.replace(/h|H/g,h);str=str.replace(/mm/,m>9?m.toString():'0'+m);str=str.replace(/m/g,m);str=str.replace(/ss|SS/,s>9?s.toString():'0'+s);str=str.replace(/s|S/g,s);return str;}
Date.A4=function(num){let m=parseInt(num/60)%60,s=parseInt(num%60);return String.CB(m,"00")+":"+String.CB(s,"00");}
String.CB=function(v,form="000000"){var l=String(v).length;if(l>=form.length)return v;return form.substr(l,form.length)+v;}
Date.A3=function(obj){var date=new Date(obj),y=1900+date.getYear(),m="0"+(date.getMonth()+1),d="0"+date.getDate(),h="0"+date.getHours(),mm="0"+date.getMinutes();return y+"-"+m.substring(m.length-2,m.length)+"-"+d.substring(d.length-2,d.length)+" "+h.substring(h.length-2,h.length)+":"+mm.substring(mm.length-2,mm.length);}
class A5{constructor(id,landscape,op){if(!id)var el=document.body;else el=A7.jV(id);el.innerHTML='<svg id="can_stage" width="100%" height="100%" fill="#fff" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>';this.eK=A7.jV("can_stage");this.parent=el;this.dB=Object.assign({iphone:"640 1136",ipad:"800 1280",android:"640 1136",scale:2},op);this.scale=this.dB.scale;if(can.device!="pc")this.landscape=landscape;}
fG(){can.dF();var b=this.parent,op=String(this.dB[can.device]).split(" ");op[1]=op[1]||op[0];op=b.offsetHeight>b.offsetWidth?op[0]:op[1];if(this.landscape&&b.offsetHeight>b.offsetWidth){var w=b.offsetHeight,h=b.offsetWidth;b.classList.add("can-landscape");this.rotation=-90;op=Math.max(h,op);var s=h/w,sw=op/s/w,sh=op/h;this.width=op/s;this.height=op;}else{this.rotation=0;b.style.width="100%";b.style.height="100%";b.style.position="fixed";b.classList.remove("can-landscape");if(can.device!="pc"){op=Math.max(A7.body.clientWidth,op);s=A7.body.clientWidth/A7.body.clientHeight,sw=op/A7.body.clientWidth,sh=op/s/A7.body.clientHeight;this.width=A7.body.clientWidth*sw;this.height=A7.body.clientHeight*sh;}else{s=this.scale;this.width=A7.body.clientWidth*s;this.height=A7.body.clientHeight*s;this.eK.setAttribute("viewBox","0,0,"+this.AJ*s+","+this.AI*s);return;}}
this.d7=this.AJ*sw;this.cW=this.AI*sh
this.eK.setAttribute("viewBox","0,0,"+this.d7+","+this.cW);this.clientWidth=this.AJ/this.d7*this.AJ;this.clientHeight=this.AI/this.cW*this.AI;}
get stageScaleX(){return this.d7/this.AJ;}
get stageScaleY(){return this.cW/this.AI;}
get width(){return this.AJ;}
set width(v){this.AJ=v;this.eK.setAttribute("width",v);can.AR.width=v;}
get height(){return this.AI;}
set height(v){this.AI=v;can.AR.height=v;this.eK.setAttribute("height",v);}}
class g5{constructor(g6=25){this.g7=[];this.g6=g6;var o=this;setInterval(function(){var d=o.g7;for(var n=d.length-1;n>=0;n--){var i=d[n];i[0]--;if(i[0]<=0){i[0]=i[1];if(i[3])i[3]();if(i[5]==true)continue;i[2]--;if(i[2]<=0){o.g7.splice(n,1);if(i[4]){i[4]();}}}}},1000/o.g6);}
play(delay,CP,g8,g9=null,gB=false,id=null){delay=e5.iS(delay);CP=e5.iS(CP);this.g7.push([delay,delay,CP,g8,g9,gB,id]);}
remove(id){var d=this.g7;for(var n=d.length-1;n>=0;n--){var i=d[n];if(i[6]&&i[6]==id){i[5]=false;this.g7.splice(n,1);return;}}}
reset(){this.g7.length=0;}}
class can{constructor(){}
static init(src,id=null,landscape=false,g6=25,op=null){let r=window.location.search.substr(1).match(/(^|&)src=([^&]*)(&|$)/i);if(r)src=r[2];can.dF();can.A6=new A5(id,landscape,op);can.timer=new g5(g6);can.AR=new gT();CG.init();if(src)can.jM(src,can.BF);else can.BF();if(can.device=="pc"){window.onmousewheel=function(e){if(hN.j1&&hN.j1.parent)hN.j1.onScroll(e.wheelDelta/5);}}
var tar=null,db=0,dA,dD;function d6(ev){if(can.A6.rotation==-90){Event.stageY=ev.clientX*can.A6.stageScaleY;Event.stageX=can.A6.width-ev.clientY*can.A6.stageScaleX;}else{Event.stageX=ev.clientX*can.A6.stageScaleX;Event.stageY=ev.clientY*can.A6.stageScaleY;}}
var t;Event.B3(can.AR,{mouseDown:function(ev){d6(ev);t=new Date().getTime();tar=Event.B8(Event.mouseEvent);hO.iG();if(!tar||!tar.enabled)return;if(gT.rightClickMenu&&tar.parent&&tar.AQ!=gT.rightClickMenu){gT.rightClickMenu.clear();gT.rightClickMenu=null;}
AB.j1=tar;if(dA&&!dA.style.activated)dA=null;if((!dA||tar.name!=dA.name)&&!tar._editMode){if(tar&&tar.style.active)tar.resetStyle();if(tar.style.active)tar.g3(tar.style.active);}
if(gT.gY)gT.gY.fS(tar.id);if(gT.gX)gT.gX.fS(tar.index);if(tar._editMode)return;e6.gE(tar.mouseDown,ev);e6.gE(can.AR.mouseDown,ev);},mouseMove:function(ev){d6(ev);if(Event.fC)can.timer.remove("gV");var t=Event.B8(Event.mouseEvent);if(!t||t._editMode||!t.enabled)return;if(!t||dD==t)return;if(dD){dD.resetStyle();dD=null;}
if(dA&&t.name==dA.name)return;if(t.style&&t.style.hover){dD=t;t.g3(t.style.hover);}
if(t)e6.gE(t.mouseMove,ev);},mouseUp:function(ev){d6(ev);can.timer.remove("gV");var o=Event.B8(Event.mouseEvent);if(!o||tar!=o||!tar.enabled){_ce();return;}
if(!tar._editMode){if(tar.style.active)tar.resetStyle();if(tar.style.activated){if(dA)dA.resetStyle();dA=tar;dA.g3(dA.style.activated);dD=null;}}
if(!tar._editMode){if(new Date().getTime()-t<200){e6.gE(o.onClick,ev);}
e6.gE(o.onDrop,ev);}
if(Event.fC)return;if(!tar._editMode)e6.gE(o.mouseUp,ev);if(o.dbClick){if(db==0){can.timer.play(can.timer.g6/3,1,null,function(){db=0;tar=null;},false,"DBCLICK");}
db++;if(db==2){e6.gE(o.dbClick,ev);db=0;tar=null;}
return;}else{tar=null;}
_ce();function _ce(){e6.gE(can.AR.mouseUp,ev);if(can.AR.dbClick){if(db==0){can.timer.play(can.timer.g6/3,1,null,function(){db=0;},false,"DBCLICK");}
db++;if(db==2){e6.gE(can.AR.dbClick,ev);db==0;}}}}});}
static BF(){can.data.images=can.data.images||{};can.AR.init();can.cV=new BI();function resize(){if(hO.hE)return;can.A6.fG();can.AR.resize();}
resize();function _resize(){this.setTimeout(resize,100);}
window.onresize=can.device=="pc"?resize:_resize;window.onorientationchange=_resize;e6.gE(can.AR.onLoad);can.cV.eC("",function(){e6.gE(can.AR.CL);});A7.body.addEventListener('touchmove',(e)=>{e.preventDefault();},{passive:false});}
static jM(src,onend,onerror=null){if(!src.match(/\./))src+=".json";CI.jA(src,function(v){var ex=src.split(".").pop(),_images=can.data?can.data.images:{};if(ex=="can"){}else{can.data=JSON.parse(v);can.g4();can.data.images=_images;}
if(onend)onend();},onerror);}
static dF(){var i=navigator.userAgent;console.log(i);if(i.match(/iphone/i)){can.device="iphone";}else if(i.match(/iPad/i)){can.device="ipad";}else if(i.match(/Android/i)){can.device="android";}else{can.device="pc";A7.body.onmousewheel=function(e){e=e||window.e;if(can.mouseWheelTarget){can.mouseWheelTarget.jN(e.deltaY);}};}
return i;}
static g4(){f(can.data.components.childNodes);function f(d){for(var i in d){if(!can.objects[i])Obj.push(i);if(d[i].childNodes){f(d[i].childNodes);}}}
console.log(can.objects)}
static BG(){var o={},ss=can.data.style;for(var s in ss){o["#"+s]=ss[s];if(ss[s].borderWidth>0&&!ss[s].borderStyle)ss[s].borderStyle="solid";}
s=JSON.stringify(o);var n=-1,a=[];s=s.replace(/\"\#.*?\"\:/g,function(){n++;a[n]=arguments[0];return"$__name__"+n;});s=s.replace(/[A-Z]/g,function(){return"-"+arguments[0].toLowerCase();});n=-1;s=s.replace(/\$\_\AM\_\_[0-9]+/g,function(){n++;return a[n];});s=s.replace(/\#class\-/g,".");s=s.replace(/\:\{/g,"{\n");s=s.replace(/\",|,\"/g,";\n").replace(/\"/g,"");s=s.replace(/\};/g,"}\n");s=s.replace(/[0-9]+;/g,function(){return arguments[0].substr(0,arguments[0].length-1)+"px;";});s=s.replace(/[0-9]+\}/g,function(){return arguments[0].substr(0,arguments[0].length-1)+"px\n}";});s=s.substr(1,s.length-2);var ss=document.getElementById("style");if(ss)document.body.removeChild(ss);ss=document.createElement("style");ss.id="style";A7.body.appendChild(ss);if(ss.styleSheet){ss.styleSheet.cssText=s;}else{ss.appendChild(document.createTextNode(s));}}
static super(obj){if(!obj)can.objects=window;else can.objects=obj;can.objects.show=(...v)=>can.objects.main.add(...v);can.objects.hide=eE.hideUI;can.objects.remove=eE.remove;can.objects.update=eE.update;can.objects.CE=(id,dE,parent=null,style=null)=>eE.createUI(id,-1,dE,parent,style);can.objects.set=eE.set;can.objects.get=eE.get;can.objects.val=eE.val;can.objects.load=eE.load;can.objects.http=can.http;can.objects.api=eE;}}
can.objects={};class Obj{constructor(id){this.id=id;}
show(){can.AR.hH(this.id);e6.gE(this.gR);}
showAt(parent){can.AR.hH(this.id,-1,0,parent);e6.gE(this.gR);}
get style(){return can.data.style[this.id];}
set style(v){can.data.style[this.id]=v;}
static push(id){if(can.objects[id])return can.objects[id];else if(Obj.AC[id])return Obj.AC[id];var o=new Obj(id);can.objects[id]=Obj.AC[id]=o;return o;}
static remove(id){can.objects[id]=Obj.AC[id];}
static set(obj){can.objects[obj.eZ]=obj;}
static get(id){return can.objects[id];}}
Obj.AC={};var eF=(function(){function send(id,method="POST",onsuccessed=null,onerror=null){if(!eF.protocol)return;var s="head="+id,a=eF.protocol[id];for(var n=0,l=a.length;n<l;n++){s=s+"&v"+(n+1)+"="+e5.iS(eF.protocol[id][n]);}
console.log(s);if(!eF.host)return;ajax(eF.host,s,method,onsuccessed,onerror,true);}
function ajax(url,data,method="POST",onsuccessed=null,onerror=null,parsejson=false){if(window.XMLHttpRequest)var t=new XMLHttpRequest();else if(window.ActiveXObject)t=new window.ActiveXObject();else return;if(t!=null){if(method=="POST"){t.open(method,url,true);t.setRequestHeader("Content-type","application/x-www-form-urlencoded");t.send(data);}else{data=data?"?"+data:""
t.open(method,url+data,true);t.send(null);}
t.onreadystatechange=function(){if(t.readyState==4&&t.status==200){if(t.responseText!=undefined){if(parsejson&&(t.responseText.match(/{(.*?)}/i)||t.responseText.match(/[(.*?)]/i))){try{var r=eval('('+t.responseText+')');}catch(error){r=t.responseText;}}else{r=t.responseText;}
if(onsuccessed)onsuccessed(r);}}else if(t.readyState==404){if(onerror)onerror();}};}}
return{send:send,ajax:ajax}})();can.http=eF;class e6{constructor(){e6.g7=[];e6.push([["DO0",this.runAction],["DO1",this.dM],["DO2",this.hR],["DO3",this.iZ],["TIMER1",this.gD],["TIMER2",this.h9],["EVL",this.jG],["SLEEP",function(t){return false;}]]);}
static push(v){if(v[0]instanceof Array==false){e6.g7[v[0]]=v[1];return;}
for(let n=0,l=v.length;n<l;n++){e6.g7[v[n][0]]=v[n][1];}}
static gE(src,e=null){if(typeof(src)=="function"){e?src(e):src();return;}
let o=can.data.methods[src];if(!o)o=src;if(!o||typeof o=="number"){return;}
var a=o.slice(),b;f();function f(){for(let n=0,l=a.length;n<l;n++){if(typeof a=="string")continue;b=a.shift();if(!b||!e6.g7[b.name]){console.log("方法："+b.name+"未定义")
continue;}
let r=b.value==null?e6.g7[b.name]():e6.g7[b.name](...b.value);if(typeof(r)=="boolean"&&r==false){console.log("------执行中断----",JSON.stringify(a),"-----",JSON.stringify(b));break;}}
if(b&&b.name=="SLEEP")setTimeout(f,1000*b.value/can.timer.g6)}}
gE(src){e6.gE(src);}
hR(content,fW,fX){let r=confirm(e5.iS(content));e6.gE(r==true?fW:fX);}
gD(delay,len,gA,g9,id=''){can.timer.play(delay,len,function(){e6.gE(gA);},function(){e6.gE(g9);},len==0,id);}
h9(id){can.timer.remove(id);}
runAction(v){e6.gE(e5.iS(v));}
dM(id,values,e7="action",e8=" "){id=e5.iS(id);var a=e5.e3(e7,"id",String(id));if(!a||!a[0])return;var s=JSON.parse(JSON.stringify(a[0]["data"])),v=values instanceof Array?values:String(values).split(e8),l=v.length;if(l>0){for(var n=0;n<l;n++){v[n]=e5.iS(v[n]);}
l=s.length;for(n=0;n<l;n++){var o=s[n].value;if(!o)continue;if(typeof o=="object")o=e5.C7(o);for(var m=0,ll=o.length;m<ll;m++){var ss=String(o[m]);if(ss.indexOf("#")>-1){s[n].value[m]=o[m].replace("#",v.shift());}}}}
e6.gE(s);}
iZ(hW,iX,e9){hW=e5.iS(hW);var o=hW=="main"?iJ.fK:AB.gG(hW);if(!o)return;iX=e5.iS(iX);if(hW=="main")var d=o.mod=="canvas"?iJ.hF.methods["main_"+iX]:can.data.methods["main_"+iX];else d=o._editMode?iJ.hF.methods[o.id+"_"+iX]:can.data.methods[o.id+"_"+iX];e5.fT(e9,d);}
jG(s,v=null,e8=" "){if(!v){s=e5.iS(s);if(!s.match(/\(/))s+='()';return eval(s);}else{v=String(v).split(e8);for(var n=0,l=v.length;n<l;n++){v[n]=e5.iS(v[n]);if(typeof v[n]=="string"){v[n]="'"+v[n]+"'";}}
return eval(s+"("+v+")");}}}
can.eB=new e6();var DisplayUtils={};e6.push(["IMG6",function(rgbValue,t,e9){rgbValue=e5.iS(rgbValue);t=e5.iS(t);rgbValue=String(rgbValue).replace("rgba(","");rgbValue=rgbValue.replace(")","");let aa=rgbValue.split(","),r=parseInt(aa[0]),g=parseInt(aa[1]),b=parseInt(aa[2]);a=Number(aa[3]).toFixed(2),v=null;switch(t){case("a"):v=a;break;case("r"):v=r;break;case("g"):v=g;break;case("b"):v=b;break;case("gray"):v=parseInt((r*299+g*587+b*114+500)/1000);break;}
e5.fT(e9,v);}]);class fJ{}
fJ.iK=null;e6.push([["PLG1",function(i3,url,i4,d,fW,fX){var o=AB.gG(i3);if(!o)return;fJ.iK=i3;var el=A7.jW(fJ.iK);if(!i3&&el){A7.body.removeChild(el);return;}
url=e5.iS(url);el=A7.jQ("iframe");el.id=el.name=fJ.iK;el.setAttribute("frameborder","0");el.style.position="fixed";if(o){let sw=can.A6.parent.clientWidth/can.AR.width,sh=can.A6.parent.clientHeight/can.AR.height,p=o.j8(0,0);el.style.width=o.width*sw+"px";el.style.height=o.height*sh+"px";el.style.left=p.x*sw+"px";el.style.top=p.y*sh+"px";}else{el.style.width="100%";el.style.height="100%";}
A7.body.insertBefore(el,can.A6.eK);el.src=url;el.onload=function(){d=i4=="DEBUG"?iJ.hF:e5.iS(d);el.contentWindow.postMessage({name:e5.iS(i4),value:d,onload:fW},'*');can.data.methods.onUploadPlugin=fX;}
can.timer.remove("gV");}],["PLG2",function(i4,d,fW){window.parent.postMessage({name:e5.iS(i4),value:e5.iS(d),onload:fW},"*");}],["PLG3",function(){let el=A7.jV(fJ.iK);if(el){A7.body.removeChild(el);e6.gE(can.data.methods.onUploadPlugin);}}],["KB1",function(keyBoardEventData){var kb=null;document.onkeydown=function(jF){var e=jF||window.event||arguments.callee.caller.arguments[0];if(e.key=="Control"||e.key=="Alt"||e.key=="Shift"||e.key=="Meta"){kb=e.key;}}
document.onkeyup=function(jF){if(hO.hE){kb=null;return;}
let e=jF||window.event||arguments.callee.caller.arguments[0],k=kb?kb+" ":"",a=e5.e3(keyBoardEventData,"key",k+e.key);console.log(k+e.key);if(e.key=="Control"||e.key=="Alt"||e.key=="Shift"||e.key=="Meta"){kb=null;}
if(!a||!a[0])return;e6.gE(JSON.parse(JSON.stringify(a[0]["action"])));}}]]);window.addEventListener('message',function(e){if(e.source!=window.parent){e5.fT(e.data.name,e.data.value);e6.gE(e.data.onload);}else{if(e.data.name=="DEBUG"){can.data=e.data.value;H5b.init(H5b.fK.id,_FPS);}else{e5.jB={};e5.jB.name=e.data.name;e5.jB.value=e.data.value;e5.jB.onReceive=e.data.onload;}}},false);class BI{constructor(){e6.push([["FILE1",this.iA],["FILE2",this.iB],["FILE3",this.dN],["FILE6",this.eC],["SCR",this.i7]]);}
iA(i4,path,e9,fW,fX){i4=e5.iS(i4);path=e5.iS(path);if(path=='local'){var a=i4.split(".");path=a[0];if(!data.data[path])data.data[path]={};var d=e5.fR(i4);if(!d)d=[];if(e9)data.data[e9]=d;e6.gE(fW);return d;}else if(path=="server"){BI.jA(i4,null,e9,"GET",fW,fX);return;}
let f=i4.split(".")[0];try{d=e5.iD(localStorage[f]);}catch(e){}
if(!d&&d!==0)return;can.data.data[e9]=JSON.parse(d);e6.gE(fW);}
iB(d,i4,path){d=e5.iS(d);i4=e5.iS(i4);path=e5.iS(path);if(path=='local'){e5.fS(i4,d.slice());return;}
let f=i4.split(".")[0];try{if(!d)delete localStorage[f];else localStorage[f]=e5.iC(JSON.stringify(d));}catch(e){}}
dN(hW,end=null,type="image"){var i=A7.jQ("input");A7.body.appendChild(i);i.style.position="fixed";i.style.display="hidden";i.type="file";function loadFile(){if(i.files&&i.files[0]){var reader=new FileReader();reader.onloadend=function(e){e1(e.target.result);}
if(type=="text")
reader.readAsText(i.files[0]);else if(type=="image")
reader.readAsDataURL(i.files[0]);}}
hW=e5.iS(hW);function e1(v){var f=i.files['0'],a=f.name.split("."),ex=a.pop();if(!hW)hW=a.join(".");if(type=="text"){if(ex=="can")v=e5.decodeComp64(v);else if(ex=="csv")v=BI.CA(v);else if(ex=="json"||ex=="comp")v=JSON.parse(v);else if(ex=="cans")eval('('+v+')');e5.fT(hW,v);console.log("已导入：",v);e6.gE(end,v);i.value='';return;}
A7.body.removeChild(i);i.value="";i=null;e6.gE(end,v);}
i.click();i.onchange=loadFile;}
i7(url,gC){url=e5.iS(url);var a=url.cS("/","."),id=a[a.length-1][0],s=A7.jV(id);if(s){try{A7.body.removeChild(s);}catch(e){}}
s=document.createElement("script");s.type="text/javascript";if(typeof(gC)!="undefined"){if(s.readyState){s.onreadystatechange=function(){if(s.readyState=="loaded"||s.readyState=="complete"){s.onreadystatechange=null;e6.gE(gC);}};}else{s.onload=function(){e6.gE(gC);};}}
s.id=id;s.src=url+"?t="+new Date().getTime();A7.body.appendChild(s);}
eC(eD,fW,eG){if(typeof eD=="string")
eD=e5.fR(eD);if(!eD)eD=can.data.data.assets;if(!eD){e6.gE(fW);return;}
CI.CN(eD,function(){can.data.images=can.data.images||{};for(var i in CI.images){var ii=CI.images[i];if(!ii)continue;can.data.images[i]=ii;A7.BO(i,ii.src,ii.naturalWidth,ii.naturalHeight);}
if(eG instanceof Array)var d=eG;else d=e5.fR(eG);if(!d)d=iJ.hF?iJ.hF.data.clipping:can.data.data.clipping;if(!d){e6.gE(fW);return;}
for(var n=0,l=d.length;n<l;n++){var i=d[n];clip(i.src,i.id,i.x||0,i.y||0,i.width,i.height);}
function clip(src,id,x,y,w,h){var s=can.data.images[src];if(!s||!s.src||!s.complete||!s.width)return;var fK=A7.jL(w,h),ctx=fK.getContext("2d"),eW=new Image();ctx.drawImage(s,x,y,w,h,0,0,w,h);eW.src=fK.toDataURL("image/png");can.data.images[id]=eW;eW.id=id;if(eW.complete)A7.BO(id,eW.src,eW.naturalWidth,eW.naturalHeight);else eW.onload=function(){A7.BO(this.id,this.src,this.naturalWidth,this.naturalHeight);}
fK=null;}
e6.gE(fW);});}
static CA(s,e8=","){e8=(e8||",");var r=new RegExp(("(\\"+e8+"|\\r?\\n|\\r|^)"+"(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|"+"([^\"\\"+e8+"\\r\\n]*))"),"gi");var d=[[]],a=null;while(a=r.exec(s)){var m=a[1];if(m.length&&(m!=e8))d.push([]);if(a[2]){var v=a[2].replace(new RegExp("\"\"","g"),"\"");}else{v=a[3];}
d[d.length-1].push(v);}
r=[];for(var n=1,l=d.length;n<l;n++){var rr={};for(var m=0,ll=d[n].length;m<ll;m++){if(d[0][m])rr[d[0][m]]=d[n][m];}
r.push(rr);}
return(r);}
static jA(iY,d,e9,m="GET",fW=null,fX=null){eF.ajax(can.path+iY,d,m,function(r){if(r!=0){var ex=iY.split(".").pop();if(ex=="can"){r=e5.decodeComp(r);}else if(r.match(/{(.*?)}/i)){if(r.indexOf('"0":{')>0)var c=true;r=eval('('+r+')');if(c)r=e5.fixJson(r);}
e5.fT(e9,r);if(!r)e6.gE(fX);else e6.gE(fW);}else{e6.gE(fX);}},fX);}}
class e5{constructor(){e6.push([["CONF",this.config],["DAT1",this.j9],["DAT2",this.dP],["DAT3",this.dQ],["DAT4",this.i5],["DAT5",this.i6],["DAT6",this.dR],["DAT7",this.dU],["DAT8",this.e3],["DAT9",this.dY],["DAT10",this.dZ],["DAT12",this.e0],["DAT13",this.A8],["DAT14",this.fM],["DAT15",this.hS],["DAT16",this.i9],["DAT17",this.jC],["DAT18",this.jD],["DAT19",this.A9],["DAT20",this.AA],["DAT21",this.C8],["DAT22",this.C9],["DAT23",this.e2],["EXP",this.fN],["CEXP",this.fO],["REPL",this.hT],["URL1",this.hU]]);}
j9(i4,key,from=0,e9='',e8=""){i4=e5.iS(i4);let o=e5.fR(i4);let k=e5.iS(key);if(k instanceof String||k.length==1){if(e8!=''){k=String(k).split(e8);}else{k=[k];}}
if(!k||k.length==0){return;}
let r=o;for(let n=from;n<k.length;n++){if(!k[n]||k[n]=='')continue;r=r.filter(function(e,i,o){for(let ee in e){if(e[ee]&&String(e[ee]).indexOf(k[n])>-1){return true;}}
return false;});}
e5.fT(e9,r);return r;}
dP(i4,field,e9){i4=e5.iS(i4);let d=e5.fR(i4);if(!d)return;let a=[];let r=d.filter(function(e,i,o){if(a.indexOf(e[field])<0){a.push(e[field]);return true;}
return false;});e5.fT(e9,r);}
dQ(i4=null){if(!i4){can.data.data=[];return;}
i4=e5.iS(i4);if(i4=="IMAGES"){can.data.images={};return;}
e5.fS(i4,null);}
i5(i4,hV,values,index=-1,dr=0,e8=""){i4=e5.iS(i4);var d=e5.fR(i4);if(!d||d instanceof Array==false)d=e5.fS(i4,"[]");if(hV==""){if(index=="push"){if(!d)return;d.push({});return;}else if(index==-1){e5.fT(i4,e5.iS(values));return;}}
if(e8!=''){if(hV.indexOf(e8)<0)hV=e5.iS(hV);if(String(values).indexOf(e8)<0)values=e5.iS(values);var f=hV.split(e8),v=String(values).split(e8);}else{f=[hV];v=[values];}
var a={};for(let n=0,l=f.length;n<l;n++){a[e5.iS(f[n])]=e5.iS(v[n]);}
index=e5.iS(index);if(index=="push"){d.push(a);}else if(index=="unshift"){d.length==0?d.push(a):d.unshift(a);}else if(dr==1){d.splice(index,0,a);}else if(dr==2){d.splice(index+1,0,a);}else if(dr==3){d.unshift(a);d.removeAt(index);}else if(dr==4){d.removeAt(index);d.push(a);}else if(dr==5&&d[index]){d[index]=Object.assign(d[index],a);}else{d[index]=a;}}
i6(i4,e9){i4=e5.iS(i4);e5.fT(e9,e5.fR(i4));}
dR(i4,gI){i4=e5.iS(i4);let d=e5.fR(i4);if(!d)return;gI=e5.iS(gI);if(i4.substr(-1)!="]"){if(d instanceof Array){var r=d.slice();}else{r=d;}
e5.fT(gI,r);}else{let dd=e5.fR(gI);if(!dd)dd=e5.fS(gI,"[]");dd.push(e5.fR(i4));}}
dU(i4,index,e9=''){index=e5.iS(index);i4=e5.iS(i4);let d=e5.fR(i4);if(index=="random")index=parseInt(d.length*Math.random());else if(index=="sel")index=AB.gF();else if(index=="last")index=d.length-1;if(!d||!d[index])return;e5.fT(e9,d[index]);return d[index];}
e3(i4,field,key,e9='',mode='strict'){return e5.e3(i4,field,key,e9,mode);}
dY(i4,fW=null,fX=null,gH=false){var r=false,n=i4.charAt(0);if(n=="@"||n=="$"){i4=e5.iS(i4);r=!Boolean(i4!==0&&!i4);}else{i4=e5.iS(i4);if(i4!=''){let d=e5.fR(i4);r=!Boolean(d!==0&&!d);}}
if(r==true){e6.gE(fW);return gH=="!true"?false:true;}else{e6.gE(fX);gH=e5.iS(gH);return gH==true?false:true;}}
dZ(v,type='',e9=''){v=e5.iS(v);if(type=='string'){var l=String(v).length;}else if(type=='data'){var d=e5.fR(v);l=!d?0:d.length;}else if(type=='AW'){d=AB.C4(v);l=d.AW.length;}else if(type=='object'){d=AB.AX[v];d=d.filter(function(i){return i!=null;});l=d.length;}
e5.fT(e9,l);}
e0(hX,fY,mode="all"){let d=e5.fV(e5.iS(fY));if(d){d=d.slice();var n=e5.iS(hX);if(mode!="all"){d.setChildren("[]");}else{e5.fT(n,d);}}}
A8(i4,e9,e8=""){i4=e5.iS(i4);let d=e5.fR(i4);if(!d){return;}
let a=[];for(let n in d[0]){a.push(n);}
e5.fT(e9,Array.CD(a,e8));}
fM(i4,field,key,fW=null,fX=null,gH=false){i4=e5.iS(i4);var r=false,d=e5.fR(i4);if(d){field=e5.iS(field);key=e5.iS(key);for(let n=0,l=d.length;n<l;n++){if(d[n][field]){if(d[n][field]==key){r=true;break;}}}}
gH=e5.iS(gH);if(r){e6.gE(fW);return gH=="!true"?false:true;}else{e6.gE(fX);return gH==true?false:true;}}
hS(i4,field,key,e9,e8=""){e5.fT(e9,e5.hS(i4,field,key,e8));}
i9(i4,iM,iN){var d=e5.fR(e5.iS(i4));if(!d)return;let i=e5.iS(iM);iN=e5.iS(iN);let v=d[i];d.splice(i,1);d.splice(iN,0,v);}
jC(i4,eH,valuefield,key){var d=e5.iS(i4),ls=AB.gG(eH),dl=e5.fV(e5.iS(ls.data)),valuefield=e5.iS(valuefield),key=e5.iS(key);if(!d||!dl)return;for(var n=0,l=dl.length;n<l;n++){dl[n][valuefield]=f(dl[n][key]);}
function f(s){for(var i in d)
if(i==s)return d[i];}
ls.gP();}
jD(i4,index,CR,eI,valuefield,key){var d=e5.fR(e5.iS(i4)),u=AB.h5[eI],dl=e5.fV(e5.iS(CR)),valuefield=e5.iS(valuefield),key=e5.iS(key);var index=e5.iS(index);if(!d||!dl)return;d=d[index];for(var n=0,l=dl.length;n<l;n++){if(dl[n]&&dl[n][key])
d[dl[n][key]]=u[n].fR();}}
A9(i4,field,type,e9){var d=e5.fR(i4);if(!d)return 0;field=e5.iS(field);var r=type=="number"?0:"";for(var n=0,l=d.length;n<l;n++){if(type=="number"&&!isNaN(d[n][field]))
r+=Number(d[n][field]);else
r+=String(d[n][field]);}
e5.fT(e9,r);return r;}
AA(i4,m,e9){var d=e5.iS(i4);if(typeof d=="object"){d=JSON.stringify(d);}
switch(m){case"uri":var r=encodeURIComponent(d);break;case"b64":r=new Base64().encode(d);break;case"md5":break;}
e5.fT(e9,r);}
C8(i4,m,e9){var d=e5.iS(i4);switch(m){case"uri":var r=decodeURIComponent(d);break;case"b64":r=new Base64().decode(d);break;case"md5":break;}
r=JSON.parse(r);e5.fT(e9,r);}
C9(i4,n1,n2){var d=e5.iS(i4);if(!d){console.log("can,t find data named: "+i4);return;}
d=e5.fR(d);n1=e5.iS(n1);n2=e5.iS(n2);for(let n=0,l=d.length;n<l;n++){d[n][n2]=d[n][n1];}}
e2(i4,e4){i4=e5.iS(i4);let d=e5.fR(i4);if(!d)return;e4=e5.iS(e4);if(i4==e4)return;if(d instanceof Array){var r=d.slice();}else{r=d;}
e5.fT(e4,r);e5.fS(i4,null);}
fN(str){if(!isNaN(str))return;let p1=/\w+\.\w+/g,p2=/@(\w+?)\b/g,p3=/{(.*?)}/g,g=str.split(";");for(let n=0;n<g.length;n++){ff(g[n]);}
function ff(str){let a=str.split("="),r=a[0].split(".");if(a[1]=="TARGET"){e5.fT(a[0].substr(1),AB.j1);return;}
var aa=r[0].charAt(0);if(aa=="@"){let o=AB.gG(r[0].substr(1));if(o)o.fS(e5.iS(a[1]));}else if(aa=="$"){let d=e5.iS(a[1]);e5.fT(a[0].substr(1),d);}}
function g0(d,f,n){let dd=data[d];if(!dd||!dd[n]||!dd[n][f]){return 0;}
return dd[n][f];}}
fO(str,fW=null,fX=null,gH=false){let b=e5.jK(str);gH=e5.iS(gH);if(b==true){e6.gE(fW);return gH=="!true"?false:true;}else{e6.gE(fX);return gH==true?false:true;}
return false;}
hT(src,v1,v2,e9){src=e5.iS(src);v1=e5.iS(v1);v2=e5.iS(v2);src=String(src).fZ(v1,v2);e5.fT(e9,src);}
hU(i4,e9,fW,fX,gH=false){var gZ=new RegExp("(^|&)"+i4+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(gZ);if(r!=null){r=decodeURIComponent(r[2]);e5.fT(e9,r);e6.gE(fW);return gH=="!true"?false:true;}
e6.gE(fX);gH=e5.iS(gH);return gH==true?false:true;}
static iS(v){if(!isNaN(v)&&v!=="")return Number(v);else if(typeof v=="boolean")return v;else if(v=="")return"";else if(v==null)return null;if(isNaN(v)){v=String(v);if(AB.j1&&AB.j1.index>-1)v=v.replace(/\[\]/g,"["+AB.j1.index+"]");if(v.match(/{(.*?)}/))v=e5.d8(v);var a=v.charAt(0);if(a=="@"){let s=v.substr(1);a=s.split(".");if(!a[1]){var r=AB.gG(s);if(r==undefined)return;r=r.fR();}else{r=AB.gG(a[0]);if(r)r=r[a[1]];}}else if(a=="$"){r=e5.fR(v.substr(1));}else r=v;}else{r=v;}
if(r==undefined||r==null||r=="null")return null;else if(!isNaN(r)&&r!==""){let s=String(r).charAt(0);if(s!=" "&&s!="0")return Number(r);}
else if(r=="true")return true;else if(r=="false")return false;return r;}
static fR(src){if(src==undefined)return;if(String(src).match(/\$|\{/)){return e5.iS(src);}
var a=String(src).split(".");if(!a[1]){return e5.fU(null,a[0]);}
var d;for(var n=0,l=a.length;n<l;n++){d=e5.fU(d,a[n]);if(d==null){return null;}}
return d;}
static fU(d,src){var i4=src.split("[")[0];if(!d){d=can.data.data[i4];}else{d=d[i4];}
if(d==null){return null;}
var a=src.match(/\[.*?\]/);if(!a)return d;d=d[a[0].substr(1,a[0].length-2)];if(!d){return null;}
return d;}
static fS(src,v){if(src==null)return;src=String(e5.iS(src));var a=src.split(".");if(!a[1]){if(v==undefined){var b=src.split("[");if(b[0]&&b[1])can.data.data[b[0]].splice(b[1].substr(0,b[1].length-1),1);else delete can.data.data[a[0]];return;}
return e5.dO(null,a[0],v);}
for(var n=0,l=a.length,d=null;n<l;n++){d=e5.dO(d,a[n],n==l-1?v:undefined,l-n);if(!d)break;}
return d;}
static dO(d,src,v,n=0){var i4=src.split("[")[0];var a=src.match(/\[.*?\]/);if(!d){if(v!=undefined){if(v=="[]"){can.data.data[i4]=[];}else if(v=="{}"){can.data.data[i4]={};}else{can.data.data[i4]=v;}
return can.data.data[i4];}
if(!can.data.data[i4]){can.data.data[i4]=!a?{}:[];}
d=can.data.data[i4];}else if(!d[i4]){if(v!=undefined){if(v=="[]"){d[i4]=[];}else if(v=="{}"){d[i4]={};}else if(v==undefined){return undefined;}else{d[i4]=v;}
return d[i4];}else{if(d instanceof Array){for(var n in d)delete d[n][i4];return;}}
d[i4]=!a?{}:[];d=d[i4];}else{if(!a){if(v)d[i4]=v;else if(v==undefined&&n==1){delete d[i4];return undefined;}}
d=d[i4];}
if(!a)return d;var k=a[0].substr(1,a[0].length-2);if(!d[k]){if(v==undefined)return undefined;d[k]=!v?{}:v;}else if(v==undefined){d.splice(k,1);return undefined;}else{d[k]=v;return d;}
return d[k];}
static d8(s){var p1=/{(.*?)}/g,p2=/[\$|@][\u4e00-\u9fa5_a-zA-Z0-9\.]+(\[[0-9]+\])?/g;s=s.replace(p1,function(){return rp(arguments[0]);});function rp(ss){var m=false;ss=ss.replace(p2,function(){let r=e5.iS(arguments[0]);if(r!==0&&typeof r=="object"){m=true;r="Can.api.data."+arguments[0].substr(1);}
return r;});ss=ss.substr(1,ss.length-2);if(ss.charAt(0)=="?"){ss=ss.replace(/ /g,"+").substr(1);m=true;}
if(m){try{var rs=eval(ss);if(!rs&&rs!==0)return"";return rs;}catch(e){console.log("表达式错误：",ss)
return null;}}
return ss;}
return s;}
static fT(i4,v){if(i4=='')return;var a=String(i4).charAt(0);if(a=="@"){i4=i4.substr(1);var o=AB.gG(i4);if(o){o.fS(v);}}else if(a=="$"){e5.fS(e5.iS(i4.substr(1)),v);}else{e5.fS(i4,v);}}
static jK(str){if(!str||str=="false")return false;if(str=="true")return true;str=String(str);if(str.match(/{(.*?)}/)){return e5.iS(str);}
let s=str.match(/(\=|\<|\>|\<\=|\>\=)+/);if(!s){var r=false,n=str.charAt(0);if(n=="@"||n=="$"){str=e5.iS(str);r=Boolean(str);}else{str=e5.iS(str);if(str!=''){let d=e5.fR(str);r=!(d!==0&&!d);}}
return r;}
let a=str.split(s[0]),v1=e5.iS(a[0]),v2=e5.iS(a[1]),b=false;switch(s[0]){case("="):b=v1==v2;break;case("=="):b=v1==v2;break;case("<"):b=v1<v2;break;case(">"):b=v1>v2;break;case("<="):b=v1<=v2;break;case(">="):b=v1>=v2;break;}
return b;}
static e3(i4,field,key,e9='',mode='strict'){i4=e5.iS(i4);var d=e5.fR(i4);if(!d)return;var a=[],aa=[],len=d.length;field=e5.iS(field);key=e5.iS(key);for(var n=0;n<len;n++){if(d[n]&&d[n][field]!=null){if(mode=="strict"&&d[n][field]==key){a.push(d[n]);}else if(mode=="blur"&&d[n][field].indexOf(key)>-1){a.push(d[n]);}}}
if(a.length==0){a=null;}
e5.fT(e9,a);return a;}
static i8(i4,field,key,index){var d=e5.fR(i4);if(!d){return;}
var i=e5.hS(i4,field,key);let v=d[i];d.splice(i,1);d.splice(index,0,v);}
static hS(i4,field,key,e8=""){var d=e5.fR(i4);if(e8=="")e8=",";if(!d)return null;var f=field.split(e8),k=key.split(e8);for(var n=0;n<f.length;n++){f[n]=e5.iS(f[n]);k[n]=e5.iS(k[n]);}
for(var n=0,l=d.length;n<l;n++){if(ff(d[n]))return n;}
function ff(dd){var b=true;for(var n=0;n<f.length;n++){if(dd[f[n]]===0||dd[f[n]])
if(dd[f[n]]!=k[n])return false;}
return b;}
return null;}
static d9(s){for(var k in s){if(!r)var r=typeof s==="object"&&!isNaN(k)?[]:{};r[k]=typeof s[k]==="object"||s[k]instanceof Array?e5.d9(s[k]):s[k];}
return r;}
static C7(o){var a=[];for(var i in o){a[i]=o[i];}
return a;}
static fV(id){return can.data.data[id];}
static hU(i4,fW){var gZ=new RegExp("(^|&)"+i4+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(gZ);if(r!=null){r=decodeURIComponent(r[2]);fW(r);return true;}
return false;}
static iD(str){return eM.eJ(str,{to:'string'});}
static iC(str){return eM.eL(str,{to:'string'});}
static decodeComp(s){return JSON.parse(e5.iD(s));}
static encodeComp(s){return e5.iC(JSON.stringify(s));}
static decodeComp64(s){return JSON.parse(e5.iD(new Base64().decode(s)));}
static encodeComp64(s){return new Base64().encode(e5.encodeComp(s));}
static C5(iY,d){if(d)d=e5.fR(d);else d=can.data;var ex=iY.split(".").pop();if(ex=="can")d=e5.encodeComp64(d);else d=JSON.stringify(d);var a=document.createElement('a'),b=new Blob([d]);a.download=iY;a.href=URL.createObjectURL(b);a.click();}}
new e5();class AB{constructor(C6="rect"){this.data;this.parent;this.style;this.f0;this.iU;this.AK=this.AL=this.AE=0;this.AJ=this.AI=this.AG=this.AF=this.AH=1;this.name;this.mod;this.eK=A7.CE(C6,this);this.dK=true;this.AV=false;this.AD="i"+AB.f9;AB.f9++;AB.AC[this.AD]=this;this.update=this.gP;this.hide=this.clear;this.appendStyle=this.draw=this.g3;this.childNodes={};this.eK.setAttribute("fill","none");}
get id(){return this.f0;}
set id(v){this.f0=v;this.iU=this.iU===undefined?-1:this.iU;this.AM();}
get index(){return this.iU;}
set index(v){this.iU=v===undefined?-1:v;this.AM();}
AM(){this.eK.name=this.name=this.iU<0?this.f0:this.f0+"["+this.iU+"]";this.eK.setAttribute("id",this.name);this.eK.AD=this.AD;}
AN(){var s='';if(this.AK||this.AL){s+="translate("+this.AK+" "+this.AL+")";}
if(this.AG!="Infinity"&&this.AF!="Infinity"&&(this.AG!=1||this.AF!=1)){s+=" scale("+this.AG+" "+this.AF+")";}
if(this.AE){s+=" rotate("+this.AE+")";}
if(!s){this.eK.removeAttribute("transform");return;}
this.eK.setAttribute("transform",s);}
AO(x,y,sx,sy,r){this.AK=x;this.AL=y;this.AG=sx;this.AF=sy;this.AE=r;this.AN();}
get x(){return this.AK;}
set x(v){this.AK=v;this.AN();}
get y(){return this.AL;}
set y(v){this.AL=v;this.AN();}
get regX(){return this._regx;}
set regX(v){this._regx=v;this.eK.setAttribute("x",v);}
get regY(){return this._regy;}
set regY(v){this._regy=v;this.eK.setAttribute("y",v);}
get width(){return this.AJ;}
set width(v){v=v>0?v:1;this.AJ=v;this.eK.setAttribute("width",v);}
get height(){return this.AI;}
set height(v){v=v>0?v:1;this.AI=v;this.eK.setAttribute("height",v);}
getRect(){let r=this.eK.getBBox();return r;}
AP(x,y){this.AK=x;this.AL=y;this.AN();}
get scaleX(){return this.AG;}
set scaleX(v){this.AG=v;this.AN();}
get scaleY(){return this.AF;}
set scaleY(v){this.AF=v;this.AN();}
scale(x,y){this.AG=x;this.AF=y;this.AN();}
get rotation(){return this.AE;}
set rotation(v){this.AE=v;this.AN();}
get alpha(){return this.AH;}
set alpha(v){this.AH=v;if(v>=1)this.eK.removeAttribute("opacity",v);else this.eK.setAttribute("opacity",v);}
get visible(){return this.d3;}
set visible(v){this.d3=v;if(v)this.eK.classList.remove("can-hidden");else this.eK.classList.add("can-hidden");}
get draggable(){return this.f1;}
set draggable(v){this.f1=v;if(v)this.CS();}
get _editMode(){return this.f2;}
set _editMode(v){this.f2=v;if(v){this.eK.classList.add("can-edit");}else{this.eK.classList.remove("can-edit");}}
get enabled(){return this.dK;}
set enabled(v){this.dK=e5.iS(v);if(this.style.disabled){if(!this.dK&&!this._editMode)
this.g3(this.style.disabled);else
this.resetStyle();}}
g4(d,parent,style){this.data=d;this.id=d.id;if(!this._editMode&&d.index!==undefined)this.index=d.index;this.parent=parent;this.AQ=parent==can.AR?this:parent.AQ;this.set(d,style);this.eZ=this.id+(this.index>-1?this.index:"");Obj.set(this);}
set(d,style){this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.g3();this.AS();this.enabled=d.enabled||true;AB.gJ(this);}
g3(s=null){if(s)this.style=AB.g2(this,s);if(this.style)this.draggable=e5.iS(this.style.draggable);this.AT();}
resetStyle(){this.g3(this.id);}
AT(el=null){if(!this.style)return;var s=this.style,el=el||this.eK;this.gK();this.cZ(el,s);this.d4(el,s);if(s.borderRadius>0){el.setAttribute("rx",s.borderRadius);el.setAttribute("ry",s.borderRadius);}else{el.removeAttribute("rx");el.removeAttribute("ry");}}
cZ(el,s){if(s.backgroundImage){var CX=s.backgroundImage;if(this._editMode)delete this.data.cacheId;if(this.data.cacheId&&A7.BQ(el,this.data.cacheId)){}else{if(s.clipping){var cid=this.data.cacheId=(this.data.bindStyle?this.data.bindStyle:this.id)+"_CACHE_";if(A7.BP(cid)){A7.BQ(el,cid);}else{var isUrl=String(CX).match(/http|\.png|\.jpg|\.jpeg|\.svg/i);if(s.clipping==9){delete this.data.cacheId;if(!isUrl)cid=this.id+"_TEMP_";else(iJ.dS||"")+CX;}else if(s.clipping=="9C"){};if(!can.data.images[CX]){if(isUrl)
var src=(iJ.dS||"")+CX;else
console.log("no image:"+CX)}else{src=can.data.images[CX].src;}
hK.BX(cid,src,this.width,this.height,function(id){A7.BQ(el,id);});}}else{A7.BQ(el,CX);}}}else{if(s.backgroundColor){el.setAttribute("fill",s.backgroundColor);}else{el.setAttribute("fill","none");}}}
d4(el,s){if(s.borderWidth>0){el.setAttribute("stroke-width",s.borderWidth);el.setAttribute("stroke",s.borderColor);if(!s.borderStyle||s.borderStyle=="solid"){el.removeAttribute("stroke-dasharray");}else if(s.borderStyle=="dashed"){el.setAttribute("stroke-dasharray",s.borderWidth*2+","+s.borderWidth);}else if(s.borderStyle=="dotted"){el.setAttribute("stroke-dasharray",s.borderWidth+","+s.borderWidth);}else{el.setAttribute("stroke-dasharray",s.borderStyle);}}else{el.removeAttribute("stroke");el.removeAttribute("stroke-width");}}
d5(el){if(e5.iS(this.style.shadow)){el.setAttribute("filter","url(#shadow)");}else{el.removeAttribute("filter");}}
clear(){if(!this.parent)return;this.AU();this.parent.removeChild(this);AB.gL(this);}
add(...v){for(var n=0,l=arguments.length;n<l;n++){var o=arguments[n];if(typeof o=="string"){o=AB.gG(o);if(!o){o=Obj.get(arguments[n]);}}
if(o){o.style.zIndex=0;o.showAt(this);}}}
clone(id){var o=AB.dC(id,-1,this.id,this.parent);console.log(o,can.data)
return o;}
AU(){if(this.eZ)Obj.remove(this.eZ);delete AB.AC[this.AD];Event.BC(this);return;this.eK.removeAttribute("transform");this.eK.removeAttribute("class");this.eK.removeAttribute("fill");this.eK.removeAttribute("opacity");this.eK.removeAttribute("style");this.eK.removeAttribute("stroke");this.eK.removeAttribute("stroke-width");this.AE=this.AJ=this.AI=this.AK=this.AL=0;this.AH=this.AG=this.AF=1;this.draggable=this._editMode=this.AV=false;}
eN(classname=null){if(!classname)this.eK.classList.remove(classname);else this.eK.classList.add(classname);}
get computedWidth(){var o=this,v=o.style.width;if(!v)v=64;if(isNaN(v)){var s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(o.parent){if(s=="%"){v=o.parent.width*v*0.01;}else if(s=="R"){v=o.parent.width-v-(o.style.left>0?o.style.left:0);}}}
return v;}
get computedHeight(){var o=this,v=o.style.height;if(!v)v=64;if(isNaN(v)){var s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(o.parent){if(s=="%"){v=o.parent.height*v*0.01;}else if(s=="B"){v=o.parent.height-v-(o.style.top>0?o.style.top:0);}}}
return v;}
gK(){if(!this.style)return;var o=this;o.AG=o.style.scaleX||1;o.AF=o.style.scaleY||1;o.AE=o.style.rotation||0;o.alpha=o.style.alpha||1;o.width=this.computedWidth;o.height=this.computedHeight;if(o.AV==true)return;if(o.style.left){var v=o.style.left;if(!v)v=0;if(isNaN(v)){var s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(o.parent){if(s=="%"){v=o.parent.width*v*0.01;}else if(s=="R"){v=o.parent.width-o.width-v;}else if(s=="C"){v=(o.parent.width-o.width)/2+parseInt(v);}}}
o.AK=v;}else{o.AK=0;}
if(o.style.top){v=o.style.top;if(!v)v=0;if(isNaN(v)){s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(o.parent){if(s=="%"){v=o.parent.height*v*0.01;}else if(s=="B"){v=o.parent.height-o.height-v;}else if(s=="C"&&o.parent&&o.parent.style){v=(o.parent.height-o.height)/2+parseInt(v);}}}
o.AL=v;}else{o.AL=0;}
o.AN();}
gN(attr){if(attr=="parent")return this.parent.id;return this[attr];}
gO(attr,v){if(attr=="data"){this.data.data=v;}
this[attr]=v;}
hY(atr,value,eO=true){if(atr=="alpha"){this.alpha=value;return;}
if(atr=="backgroundAlpha"){if(!this.style["backgroundColor"])return;this.style["backgroundColor"].replace(/[0-9]*\.+[0-9]+/,value);}else if(atr=="borderAlpha"){if(!this.style["borderColor"])return;this.style["borderColor"].replace(/[0-9]*\.+[0-9]+/,value);}else if(atr.indexOf("borderRadius")>-1){var a=this.style.borderRadius?String(this.style.borderRadius).split(" "):[0,0,0,0];var i=atr.substr(-1);if(!isNaN(i)){a.length=4;a[i]=value;a=a.map(function(v){return!v?0:v;});this.style["borderRadius"]=String(a).replace(/,/g," ");}else{this.style["borderRadius"]=value;}}else{this.style[atr]=value;}
if(eO)this.g3();}
hZ(atr){if(atr.indexOf("borderRadius")>-1){if(this.style.borderRadius&&String(this.style.borderRadius).indexOf(" ")<0){return this.style.borderRadius;}
var a=this.style.borderRadius?String(this.style.borderRadius).split(" "):[0,0,0,0];var i=atr.substr(-1);return!a[i]?0:a[i];}
return this.style[atr];}
resize(){this.g3();if(!this.AW||this.AW.length==0)return;for(let n=0,l=this.AW.length;n<l;n++){if(this.AW[n].resize)this.AW[n].resize();}}
j8(x=0,y=0){var v={x:this.x+x,y:this.y+y}
f(this);function f(o){o=o.parent;if(o&&o.id){v.x+=o.AK;v.y+=o.AL;f(o);}}
return v;}
fF(x=0,y=0){var v={x:-this.x+x,y:-this.y+y}
f(this);function f(o){o=o.parent;if(o&&o.id){v.x-=o.x;v.y-=o.y;f(o);}}
return v;}
CS(){if(this._editMode||!this.draggable){Event.BC(this);return;}
var o=this;Event.B3(this,{mouseMove:function(ev){console.log(o.name,"-----",o.draggable)
if(!o.dK||o!=AB.j1)return;o.AK=ev.B9;o.y=ev.BA;}});}
AS(){if(!this._editMode){if(this.data.visible){if(this.index>-1)var s=String(this.data.visible).replace(/\[\]/g,"["+this.index+"]");else s=this.data.visible;this.visible=e5.jK(s);}else this.visible=true;}else{this.visible=!this.data.hidden;}}
d2(eT){if(eT.parent&&eT.name)delete eT.parent.childNodes[eT.name];this.AW.splice(this.AW.indexOf(eT),1);}
gP(){this.AS();}
show(){}
showAt(parent){var o=typeof parent=="string"?AB.gG(parent):o;if(o)o.addChild(this);}
static h2(o){if(!o||!o.parent||o.parent==can.AR){return o;}
while(o.parent!=can.AR){o=o.parent;}
return o;}
static gJ(o){AB.AC[o.AD]=o;if(!AB.AX[o.id])AB.AX[o.id]=new Array();if(o._editMode&&AB.AX[o.id][o.index])return;AB.AX[o.id][o.index]=o;AB.h5[o.name]=o;}
static gL(o){if(AB.h5[o.name]==o){delete AB.h5[o.name];if(AB.AX[o.id]){delete AB.AX[o.id][o.index];if(AB.AX[o.id].length==0)delete AB.AX[o.id];}}
o.index=-1;}
static gG(name){if(name=="TARGET")return AB.j1;return AB.h5[name];}
static C4(id,index=-1){if(id=="TARGET")return AB.j1;if(!AB.AX[id]||!AB.AX[id][index])return null;return AB.AX[id][index];}
static C3(name){return A7.jW(name);}
static gM(type){if(!AB.hB[type])return;return new AB.hB[type];if(!AB.hA[type]){AB.hA[type]=[];}
for(var n=AB.hA[type].length-1;n>=0;n--){var i=AB.hA[type][n];if(!i.parent){return i;}}
var i=new AB.hB[type];AB.hA[type].push(i);return i;}
static h1(d,k){if(d.id==k)return d;if(d.childNodes){for(var i in d.childNodes){var r=AB.h1(d.childNodes[i],k);if(r)return r;}}
return null;}
static h0(d){if(!d.childNodes)return[];var a=[];f(d.childNodes);function f(dd){for(let i in dd){a.push(dd[i]);if(dd[i].childNodes){f(dd[i].childNodes);}}}
return a;}
static g2(o,src){if(!o.data){if(src)return src;return{};}
var cl=o.data.bindStyle,id=o.id,ss={},s1=o._editMode?iJ.hF.style[cl]:can.data.style[cl];ss=Object.assign(ss,s1);var s2=o._editMode?iJ.hF.style[id]:can.data.style[id];if(s2)
for(let st in s2){if(s2[st]!=undefined){var v=s2[st];if(!v)continue;if(isNaN(v)&&String(v).match(/{(.*?)}/)){if(o.index>-1){v=v.replace(/\[\]/g,"["+o.index+"]");}
ss[st]=e5.iS(v);}else ss[st]=v;}}
if(src!=null&&src!=id){if(typeof src=="object"){if(src.reset!==undefined&&src.reset===false){ss.left=o.x;ss.top=o.y;ss.width=o.width;ss.height=o.height;ss.rotation=o.rotation;ss.alpha=o.alpha;ss.scaleX=o.scaleX;ss.scaleY=o.scaleY;}
ss=Object.assign(ss,src);}else{s2=o._editMode?iJ.hF.style[src]:can.data.style[src];if(s2)ss=Object.assign(ss,s2);}}
return ss;}
static C2(o){if(o.data.bindStyle){AB.B0("class-"+o.data.bindStyle,AB.AZ(o.data.bindStyle));o.eK.classList.add(o.data.bindStyle);}
o.gK();var ss=AB.AZ(o.id),s=o.style;if(!s||!ss)return;if(!s.borderWidth)delete ss.borderStyle;if(s.scaleX)ss.transform="scale("+s.scaleX+","+(s.scaleY||1)+")";if(s.scaleY)ss.transform="scale("+(s.scaleX||1)+","+s.scaleY+")";delete ss.scaleX;delete ss.scaleY;if(s.alpha){ss.opacity=s.alpha+" ";delete ss.alpha;}
if(s.rotation){ss.transform="rotate("+s.rotation+"deg)";delete ss.rotation;}
if(s.backgroundImage){ss.backgroundSize=s.backgroundSize||"contain";if(s.backgroundPosition)ss.backgroundPosition=s.backgroundPosition.replace(/[0-9]+/g,function(){return arguments[0]+"px";});else if(s.clipping=="9")o._drawBackground9(s.backgroundImage,o.eK,o.width,o.height);else ss.backgroundImage="url("+s.backgroundImage+")";}else{delete o.eK.style.background;}}
static AY(eQ,eR,attr,eP=false){var a=eR.getAttribute(attr);if(a)eQ.setAttribute(attr,a);if(eP)eR.removeAttribute(attr);}
static AZ(id){return can.data.style[id];}
static B0(id,v){can.data.style[id]=v;}
static hY(id,attr,v){if(v===null){delete can.data.style[id][attr];}else{can.data.style[id][attr]=v;}}
static d9(ss,d,n1='',n2=''){let id,s=e5.d9(ss);if(s.id.charAt(0)=="_")
id="_"+s.mod+String.randomId().substr(5);else
id=n1+s.id+n2;d.style[id]=e5.d9(d.style[ss.id]);s.id=id;var n=0;function f(dd){var o={};for(let k in dd){n++;if(k==="childNodes"){if(!o[k])o[k]={};for(let kk in dd[k]){n++;if(kk.charAt(0)=="_")
var id="_"+dd[k][kk].mod+n+String.randomId().substr(5);else
id=n1+kk+n2;d.style[id]=e5.d9(d.style[kk]);dd[k][kk].id=id;o[k][id]=f(dd[k][kk]);}}else if(k.indexOf("on")>-1){delete d[k];}else o[k]=dd[k];}
return o;}
return f(s);}
static dC(id,index,dE,parent,style,hF){if(!hF)hF=can.data;var d=e5.d9(AB.h1(hF.components,dE));if(!d){console.log("there is not template named:"+dE);return;}
var o=typeof parent=="string"?AB.gG(parent):parent;if(!o)o=can.AR;if(!o._editMode){if(id){d=AB.d9(d,hF,id+"_");d.id=id;}}
var i=AB.gM(d.mod);i.index=index;i._editMode=o._editMode;o.addChild(i);i.g4(d,o,style);return i;}
getXY(j=null){if(!j)j=this;var r={},v=j.x;if(!v)v=0;if(isNaN(v)){var s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(s=="%"){v=this.parent.width*v*0.01;}else if(s=="R"){v=this.parent.width-this.width-v;}else if(s=="C"){v=(this.parent.width-this.width)/2+parseInt(v);}}
r.x=v;v=j.y;if(!v)v=0;if(isNaN(v)){s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(s=="%"){v=this.parent.height*v*0.01;}else if(s=="B"){v=this.parent.height-this.height-v;}else if(s=="C"&&this.parent){v=(this.parent.height-this.height)/2+parseInt(v);}}
r.y=v;return r;}
toString(w=256,h=256){let el=A7.jP("svg");el.setAttribute("viewBox","0,0,"+this.width+","+this.height);el.setAttribute("width",w);el.setAttribute("height",h);let t=this.eK.cloneNode(true);t.removeAttribute("transform");t.removeAttribute("style");el.appendChild(t);return el.outerHTML;}
distroy(){delete can.objects[this.eZ];this.eZ=null;this.AU();}}
AB.hB=[];AB.hA=[];AB.h5=[];AB.AC=[];AB.AX=[];AB.f9=0;class B1 extends AB{constructor(){super("g");this.AW=[];this.CX=A7.jR(this);this.eK.appendChild(this.CX);}
AM(){this.CX.name=this.eK.name=this.name=this.iU<0?this.f0:this.f0+"["+this.index+"]";this.eK.setAttribute("id",this.name);this.CX.setAttribute("id",this.name+"_background");this.CX.AD=this.eK.AD=this.AD;}
get width(){return this.AJ;}
set width(v){v=v>0?v:1;this.AJ=v;this.CX.setAttribute("width",v);}
get height(){return this.AI;}
set height(v){v=v>0?v:1;this.AI=v;this.CX.setAttribute("height",v);}
set(d,style){super.set(d,style);var c=d.childNodes;if(c){for(let n in c){let i=AB.gM(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;this.addChild(i);i.g4(c[n],this);this.childNodes[i.name]=i;}}
this.C1();this.enabled=d.enabled||true;this.eA(d);}
eA(d){this.CS();}
fS(v){for(var n=0,l=this.AW.length;n<l;n++){this.AW[n].fS(v);}
this.AS();}
g3(s=null){if(s)this.style=AB.g2(this,s);this.draggable=this.style.draggable;this.AT(this.CX);this.d5(this.CX);}
addChild(eT){if(eT.parent)eT.parent.d2(eT);eT.parent=this;if(eT.name)this.childNodes[eT.name]=eT;if(eT.eK)this.eK.appendChild(eT.eK);if(this.AW.indexOf(eT)<0)this.AW.push(eT);}
addChildAt(eT,index){this.addChild(eT);this.setChildIndex(eT,index);}
removeChild(eT){this.d2(eT);eT.parent=null;if(eT.eK&&this.eK.contains(eT.eK))this.eK.removeChild(eT.eK);eT.clear();}
B2(eQ,eR){this.eK.replaceChild(eQ,eR);}
setChildIndex(eT,index){this.eK.insertBefore(eT.eK,this.eK.childNodes[index]);}
C1(){if(this.AW.length<2)return;this.AW.sort(function(o1,o2){if(!o2.style)return 1;if(!o1.style)return-1;if(o1.style.zIndex>o2.style.zIndex){return 1;}
if(o1.style.zIndex<o2.style.zIndex){return-1;}
return 0;});for(var n=0,l=this.AW.length;n<l;n++){if(this.AW[n].eK)this.eK.appendChild(this.AW[n].eK);}}
gP(){super.gP();for(var n=0,l=this.AW.length;n<l;n++){this.AW[n].gP();}}
clear(){if(!this.parent)return;this.AU();while(this.AW[0]){this.AW[0].clear();}
this.AW.length=0;if(this.parent)this.parent.removeChild(this);e6.gE(this.onHide);AB.gL(this);}
fR(){let r;for(let n=0,l=this.AW.length;n<l;n++){let o=this.AW[n],v=o.fR();if(o&&v){r=r||{};if(typeof v!="object")
r[o.id]=v;else
r=Object.assign(r,v);}}
return r;}
static iQ(parent,childId){var a=[];f(parent);function f(p){if(!p.AW)return;for(var n=0,l=p.AW.length;n<l;n++){if(p.AW[n].id==childId){a.push(p.AW[n]);}else{f(p.AW[n]);}}}
return a;}}
class hJ extends AB{constructor(C6="rect"){super(C6);this.AW=[];this.mod="box";this.CX=null;}
get width(){return this.AJ;}
set width(v){v=v>0?v:1;this.AJ=v;let el=this.CX||this.eK;el.setAttribute("width",v);}
get height(){return this.AI;}
set height(v){v=v>0?v:1;this.AI=v;let el=this.CX||this.eK;el.setAttribute("height",v);}
get visible(){return this.d3;}
set visible(v){this.d3=v;if(v){if(this.CX)delete this.CX.classList.remove("can-hidden");this.eK.classList.remove("can-hidden");}else{if(this.CX)this.CX.classList.add("can-hidden");this.eK.classList.add("can-hidden");}}
set(d,style){B1.prototype.set.call(this,d,style);this.AS();this.enabled=d.enabled||true;e6.gE(this.gR);}
g3(s=null){if(s)this.style=AB.g2(this,s);this.draggable=this.style.draggable;var el=this.CX||this.eK;this.AT(el);this.d5(el);}
eA(d){if(!this._editMode){this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.mouseMove=d.onmousemove;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.onClick=d.onclick;this.dbClick=d.ondbclick;this.onDrop=d.ondrop;this.CS();if(d.hitarea){var o=this;setTimeout(function(){var h=AB.gG(d.hitarea);if(h){h.mouseUp=o.mouseUp;h.mouseDown=o.mouseDown;}},100);}}}
addChild(eT){if(eT.parent)eT.parent.d2(eT);eT.parent=this;if(eT.name)this.childNodes[eT.name]=eT;if(eT.eK){if(this.AW.length>0){this.eK.appendChild(eT.eK);}else{var g=A7.jS(this);g.id=this.name;AB.AY(g,this.eK,"transform",true);AB.AY(g,this.eK,"style",true);this.parent.B2(g,this.eK);g.appendChild(this.eK);this.CX=this.eK;this.CX.setAttribute("id",this.name+"_background");this.eK=g;}
this.eK.appendChild(eT.eK);}
if(this.AW.indexOf(eT)<0)this.AW.push(eT);}
addChildAt(eT,index){this.addChild(eT);this.setChildIndex(eT,index);}
removeChild(eT){this.d2(eT);eT.eK.classList.remove("can-hidden");eT.parent=null;eT.clear();}
d2(eT){if(eT.parent&&eT.name)delete eT.parent.childNodes[eT.name];this.AW.splice(this.AW.indexOf(eT),1);if(eT.eK&&this.eK.contains(eT.eK))this.eK.removeChild(eT.eK);if(this.AW.length<1){if(this.CX){AB.AY(this.CX,this.eK,"transform");AB.AY(this.CX,this.eK,"style");if(this.parent)this.parent.B2(this.CX,this.eK);this.eK=this.CX;this.eK.setAttribute("id",this.name);this.CX=null;}}}
B2(eQ,eR){let el=this.eS||this.eK;if(el.contains(eR))
el.replaceChild(eQ,eR);}
setChildIndex(eT,index){var el=this.eS?this.eS:this.eK;el.insertBefore(eT.eK,el.childNodes[index]);}
C1(){B1.prototype.C1.call(this);}
get numChildren(){return this.AW.length;}
clear(){if(!this.parent)return;this.AU();while(this.AW[0]){this.AW[0].clear();}
this.AW.length=0;this.parent.removeChild(this);if(this.CX){this.CX.removeAttribute("transform");this.CX.removeAttribute("class");this.CX.removeAttribute("fill");this.CX=null;}
e6.gE(this.onHide);AB.gL(this);}
C0(){for(var n=this.AW.length-1;n>=0;n--){this.AW[n].clear();}
this.AW.length=0;var c=this.data.childNodes;if(c){for(let n in c){var i=AB.gM(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;this.addChild(i);i.g4(c[n]);this.childNodes[i.name]=i;}}}
fS(v){B1.prototype.fS.call(this,v);}
fR(){return B1.prototype.fR.call(this);}
gP(){B1.prototype.gP.call(this);}}
AB.hB.box=hJ;class BZ extends AB{constructor(){super("g");this.mod="container";this.container=new AB("g");this.CX=A7.jR(this);this.eK.appendChild(this.CX);this.eK.appendChild(this.container.eK);this.AW=[];this.jZ;}
AM(){B1.prototype.AM.call(this);}
get width(){return this.AJ;}
set width(v){v=v>0?v:1;this.AJ=v;this.CX.setAttribute("width",v);if(this.jZ)this.jZ.setAttribute("width",v);}
get height(){return this.AI;}
set height(v){v=v>0?v:1;this.AI=v;this.CX.setAttribute("height",v);if(this.jZ)this.jZ.setAttribute("height",v);}
get dW(){return this.container.eK.getBBox().height}
get dX(){return this.container.eK.getBBox().width;}
addChild(eT){if(eT.parent)eT.parent.d2(eT);eT.parent=this;if(eT.name)this.childNodes[eT.name]=eT;if(eT.eK)this.container.eK.appendChild(eT.eK);if(this.AW.indexOf(eT)<0)this.AW.push(eT);}
setChildIndex(eT,index){this.container.eK.insertBefore(eT.eK,this.container.eK.childNodes[index]);}
addChildAt(eT,index){this.addChild(eT);this.setChildIndex(eT,index);}
B2(eQ,eR){this.container.eK.replaceChild(eQ,eR);}
removeChild(eT){this.d2(eT);eT.parent=null;if(eT.eK&&this.container.eK.contains(eT.eK))this.container.eK.removeChild(eT.eK);eT.clear();}
C1(){if(this.AW.length<2)return;this.AW.sort(function(o1,o2){if(!o2.style)return 1;if(!o1.style)return-1;if(o1.style.zIndex>o2.style.zIndex){return 1;}
if(o1.style.zIndex<o2.style.zIndex){return-1;}
return 0;});for(var n=0,l=this.AW.length;n<l;n++){this.container.eK.appendChild(this.AW[n].eK);}}
clear(){clearInterval(this._rollHandler);this.CX.removeAttribute("fill");while(this.AW[0]){this.AW[0].clear();}
this.AW.length=0;super.clear();Event.BC(this);e6.gE(this.onHide);}
resize(){super.resize();this.flex();}
set(d,style){this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.g3();var c=d.childNodes;if(c){for(let n in c){let i=AB.gM(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;i.AV=this.style.display=="flex";this.addChild(i);i.g4(c[n],this);this.childNodes[i.name]=i;}}
this.flex();this.eA(d,this.style);this.enabled=d.enabled||true;AB.gJ(this);}
g3(s=null){if(s)this.style=AB.g2(this,s);s=this.style;if(!s)return;this.draggable=s.draggable;if(s.overflow!="visible"&&s.overflow!="fixed")A7.jX(this);else A7.jY(this);this.AT(this.CX);var el=this.jZ;if(s&&el){if(s.borderRadius>0){el.setAttribute("rx",s.borderRadius);el.setAttribute("ry",s.borderRadius);}else{el.removeAttribute("rx");el.removeAttribute("ry");}}
this.d5(this.CX);}
eA(d,ss){if(this._editMode)return;this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.onClick=d.onclick;this.dbClick=d.ondbclick;this.CS();e6.gE(this.gR);}
fS(v){B1.prototype.fS.call(this,v);}
flex(){var s=this.style,o=this.AW;if(!o[0]){this.d0();return;}
this.C1();if(o.length>1){o.sort(function(o1,o2){return o2.style.zIndex-o1.style.zIndex;});}
if(!this._editMode&&this.data.arrangement){eval(this.data.arrangement+"(this.AW,this.style)");return;}
var lw=0,lh=0,len=o.length;if(s.display!="flex"){for(n=0;n<len;n++){var i=o[n];if(i.x+i.width>lw)lw=i.x+i.width;if(i.y+i.height>lh)lh=i.y+i.height;}}else{var fd=s.flexDirection,wp=s.flexWrap;lw=s.lineWidth?s.lineWidth:0;lh=s.lineHeight?s.lineHeight:0;if(fd=="row"){var my=0;for(var n=0;n<len;n++){i=o[n];if(n==0){i.AK=lw;i.y=lh;continue;}
i.AK=o[n-1].width+o[n-1].x+lw;if(wp=="nowrap"){i.y=lh;continue;}
let _my=o[n-1].y+o[n-1].height+lh;if(_my>my)my=_my;if(i.x+i.width>this.width){i.AK=lw;i.y=my;}else{i.y=o[n-1].y;}}}else if(fd=="rowReverse"){var w=this.width;for(n=len-1;n>=0;n--){i=o[n];if(n==0){i.AK=w-lw;i.y=lh;continue;}
i.AK=w-i.width-o[n-1].x-lw;if(wp=="nowrap"){i.y=lh;continue;}
let _my=o[n-1].y+o[n-1].height+lh;if(_my>my)my=_my;if(i.x<0){i.AK=w-lw;i.y=my;}else{i.y=o[n-1].y;}}}else if(fd=="column"){for(n=0;n<len;n++){i=o[n];if(n>0){i.AL=o[n-1].height+o[n-1].y+lh;}else{i.AL=lh;}
i.x=lw;}}else if(fd=="columnReverse"){var h=this.height;for(n=len-1;n>=0;n--){i=o[n];if(n<len-1){i.AL=o[n+1].y-i.height-lh;}else{i.AL=h-i.height-lh;}
i.x=lw;}}}
this.d0();}
d0(){var s=this.style.overflow;if(this._editMode)return;if(s=="fixed"||s=="visible"){this.width=this.computedWidth;this.height=this.computedHeight;A7.jY(this);if(s=="fixed"){if(this.AW.length<1)return;}
let b=this.eK.getBBox();this.width=b.width;this.height=b.height;}else if(s=="hidden")return;else this.B4();}
add(...v){super.add(...v);this.flex();}
B4(){var B5=this,o=B5.container,t,isLandscape=can.A6.rotation==-90,h,w,W,H,ss=B5.style;Event.B3(o,{mouseDown:function(ev){h=B5.AI;w=B5.AJ;W=B5.dX;H=B5.dW;clearInterval(B5._rollHandler);t=new Date().getTime();B5.fH=ev.clientX;B5.fI=ev.clientY;},mouseMove:function(ev){var s=B5.style.overflow;if(s!="autoY"&&w<W){o.x=ev.B9;if(o.x>0){o.x=0;}else if(o.x<w-W){o.x=w-W;}}else if(s!="autoX"&&h<H){o.y=ev.BA;if(o.y>0){o.y=0;}else if(o.y<h-H){o.y=h-H;}}},mouseUp:function(ev){var l=new Date().getTime()-t;if(ss.overflow=="autoY"){W=w;if(o.y<0){if(H<h)o.y=0;else if(H+o.y<h)o.y=h-H;}}else if(ss.overflow=="autoX"){H=h;if(o.x<0){if(W<w)o.x=0;else if(W+o.x<w)o.x=w-W;}}
if(l>500){if(o.y>0){o.AL=0;}
if(o.x>0){o.AK=0;}
o.AN();return;}
ss=20;var tt=400;if(Math.abs(B5.fI-ev.clientY)>5&&((h<H&&!isLandscape)||(w<W&&isLandscape))){var sp=B5.fI>ev.clientY?Math.min((B5.fI-ev.clientY)*ss/l,ss):Math.max((B5.fI-ev.clientY)*ss/l,-ss),s=sp*0.0025,ff=isLandscape?f2:f1;B5._rollHandler=setInterval(ff,5);return;}else if(Math.abs(B5.fH-ev.clientX)>5&&((w<W&&!isLandscape)||(h<H&&isLandscape))){sp=(B5.fH-ev.clientX)*ss/l;s=sp*0.0025;ff=isLandscape?f1:f2;B5._rollHandler=setInterval(ff,5);return;}
function f1(){if(tt<=0){clearInterval(B5._rollHandler);return;}
tt--;var AL=h-H;if(o.y>=0||AL>=0){o.y=0;clearInterval(B5._rollHandler);return;}else if(o.y<=AL&&AL<=0){o.y=AL;clearInterval(B5._rollHandler);return;}
o.y-=sp;sp-=s;}
function f2(){if(tt<=0){clearInterval(B5._rollHandler);return;}
tt--;var AK=w-W;if(o.x>=0||AK>=0){o.x=0;clearInterval(B5._rollHandler);return;}else if(o.x<=AK&&AK<=0){o.x=AK;clearInterval(B5._rollHandler);return;}
o.x-=sp*(isLandscape?-1:1);sp-=s;}}});}
gP(){B1.prototype.gP.call(this);this.flex();}
C0(){for(var n=this.AW.length-1;n>=0;n--){this.AW[n].clear();}
this.AW.length=0;var c=this.data.childNodes;if(c){for(let n in c){var i=AB.gM(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;this.addChild(i);i.g4(c[n],this);this.childNodes[i.name]=i;}}
this.g3();this.flex();}
gO(attr,v,eO=true){if(attr=="containerX"){this.container.x=v;return;}else if(attr=="containerY"){this.container.y=v;return;}
this[attr]=v;}}
AB.hB.container=BZ;class eU extends BZ{constructor(){super();this.mod="containerplus";}}
AB.hB.containerplus=eU;class hK extends AB{constructor(){super("image");this.mod="image";this.dK=false;}
set(d){super.set(d);this.enabled=this._editMode;if(d.data)var dd=e5.fR(d.data+"."+this.id+this.index);this._defaultSrc=d.src;if(this._editMode){if(d._src){this.fS(d._src);return;}else if(!d.src||String(d.src).match(/\$|\@|\{/i)){this.fS("https://can.alxmo.com/ico/imagePreview.png");return;}}
if(dd)this.fS(dd);else this.fS(d.src);}
get src(){return this._src;}
set src(v){if(!v){A7.BN(this.eK);return;}
this._src=v;A7.useImages(v);if(this._editMode){if(String(v).match(/\.[png|jpg|gif|svg|jpeg]/i)&&!String(v).match(/http/i))
v=(iJ.dS||"")+v;}
A7.setImageSrc(this.eK,v);this.fix();}
bind(v){this._defaultSrc=v;}
fS(v){if(!v)v=this._defaultSrc;if(!v){this.src=null;return;}
var o=this;let s=o._editMode&&(!o._defaultSrc||String(o._defaultSrc).match(/\$|\@|\{/i))?o.data._src:o._defaultSrc;can.data.images=can.data.images||{};if(s){var r=String(s);if(r.charAt(0)=="$"){v=e5.iS(r);}else if(r.match(/{(.*?)}/)){r=r.replace(/\[\]/g,"["+o.index+"]");if(this.type=="url"){r=r.substr(1,r.length-2);if(typeof v=="object"&&v[r])v=v[r];}else if(r.match(/\$|\@|\%|\*|\+|\/|\-|\(/i)){r=e5.iS(r);if(can.data.images[r])
v=can.data.images[r];else
v=r;}else{r=r.substr(1,r.length-2);if(typeof v=="object"&&v[r])v=v[r];else if(typeof v=="string")v=can.data.images[v];else if(!v[r])return;else if(String(v[r]).match(/\.[png|jpeg|jpg|gif|svg]/i))v=v[r];else v=can.data.images[v[r]];}}else if(r.indexOf(".")>-1){v=r;}else{if(isNaN(v))v=can.data.images[v];}}else if(o.data.data){e5.fS(o.data.data+"."+o.id+o.index,v);}
if(v&&v.src){this.eW=v;v=v.src;}else{this.eW=null;}
if(!v||(typeof v!="string"&&typeof v!="number")){if(this.onChange)e6.gE(this.onChange);return;}
if(o.data.clipping){let a=eval("["+o.hF.clipping+"]");o.src=hK.clip(v,a[0],a[1],a[2],a[3]);}else{if(isNaN(v)&&v.match(/http|png|jpg|jpeg|svg/i)){o.src=v;}else if(can.data.images&&can.data.images[v]){o.src=can.data.images[v].src;}else{console.log("error: no image named "+v);o.src=null;}}
if(this.onChange)e6.gE(this.onChange);}
AT(el=null){if(!this.style)return;this.gK();}
fR(){return this.src;}
clear(){super.clear();this.eW=null;this.eK.removeAttribute("width");this.eK.removeAttribute("height");A7.BN(this.eK);}
cache(){let pt=A7.jP("pattern"),img=A7.jP("image");pt.appendChild(img);A7.BY.appendChild(pt);}
gP(){super.gP();this.gK();this.fS(this._defaultSrc);}
fix(){if(this.style.justify=="auto"||!this.src)return;let s=this.style.justify,o=this;if(s=="none")s="fix";if(!o.eW){o.eW=new Image();if(!o.src.match(/data\:image/))
o.eW.src=((o._editMode&&iJ.dS)||"")+o.src;else
o.eW.src=o.src;if(o.eW.complete)f();else o.eW.onload=function(){f();o.eW=null;}
return;}
f();function f(){if(!o.eW)return;let w=o.eW.width,h=o.eW.height;if(s=="fix"){o.scaleX=o.width/w;o.scaleY=o.height/h;}else if(s=="width"){o.scaleX=o.scaleY=o.width/w;o.AI=h*o.scaleY;}else if(s=="height"){o.scaleX=o.scaleY=o.height/h;o.AJ=w*o.scaleX;}else if(s=="inherit"&&o.parent){o.scaleX=o.parent.width/w;o.scaleY=o.parent.height/h;o.AI=h*o.scaleY;o.AJ=w*o.scaleX;o.y=o.AK=0;}else{o.AI=h;o.AJ=w;}
o.eK.setAttribute("width",w);o.eK.setAttribute("height",h);}}
get width(){return this.AJ;}
set width(v){v=v>0?v:1;this.AJ=v;if(this.style.justify=="auto")this.eK.setAttribute("width",v);else this.fix();}
get height(){return this.AI;}
set height(v){v=v>0?v:1;this.AI=v;if(this.style.justify=="auto")this.eK.setAttribute("height",v);else this.fix();}
resize(){this.gP();}
toBase64(ext="jpg",qt=0.8,g7){var i=new Image(),w=this.AJ,h=this.AI;i.crossOrigin='anonymous';i.src=this.src;i.onload=function(){var c=A7.jQ('canvas'),cx=c.getContext('2d');c.width=this.width;c.height=this.height;cx.drawImage(i,0,0,this.width,this.height);g7(ext=="jpg"?c.toDataURL('image/jpg',qt):c.toDataURL('image/png'));}}
static BX(id,src,W,H,end){var b=new Image();b.src=src;var fK=A7.jL(W,H),ctx=fK.getContext("2d");function e(){var bw=b.width,bh=b.height,w=bw/2,h=bh/2,w2=W-2*w,h2=H-2*h;ctx.drawImage(b,0,0,w,h,0,0,w,h);ctx.drawImage(b,w,0,w,h,W-w,0,w,h);ctx.drawImage(b,0,h,w,h,0,H-h,w,h);ctx.drawImage(b,w,h,w,h,W-w,H-h,w,h);if(w2>0){ctx.drawImage(b,w-2,0,4,h,w,0,w2,h);ctx.drawImage(b,w-2,h,4,h,w,H-h,w2,h);}else w2=0;if(h2>0){ctx.drawImage(b,0,h-2,w,4,0,h,w,h2);ctx.drawImage(b,w,h-2,w,4,W-w,h,w,h2);}else h2=0;if(h2>0&&w2>0)ctx.drawImage(b,w-2,h-2,4,4,w,h,w2,h2);A7.BO(id,fK.toDataURL("image/png"),W,H);if(end)end(id);}
b.onload=function(){e();b=null;fK=null;}}}
AB.hB.image=hK;e6.push(["IMG8",function(str,d2d,o){str=String(e5.iS(str));var len=str.length,i=0,el=new Image(),w=0,h=0,o=AB.gG(o);if(!o)return;d2d=e5.iS(d2d);if(String(d2d).match(/\#/)){var a=[];for(var n=0,l=str.length;n<l;n++){a.push(String(d2d).replace(/\#/,str.charAt(n)));}
d2d=a;}
var fK=A7.jL(o.width,o.height),ctx=fK.getContext("2d");el.onload=function(){f();}
el.src=can.data.images[d2d[i]].src;function f(){i++;ctx.drawImage(el,w,h);if(i>len-1){o.src=fK.toDataURL("image/png");fK=null;el=null;return;}
w+=el.width;h=0;if(can.data.images[d2d[i]])
el.src=can.data.images[d2d[i]].src;}}])
class BK extends AB{constructor(){super();this.mod="sprite";this.frames=[];}
set(d,style){this._pt=A7.jV(this.id+"_SPR");if(!this._pt){this.eW=A7.jP("image");this._pt=A7.BL(this.id+"_SPR",this.eW);}else{this.eW=this._pt.childNodes[0];}
this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.g3();if(d.data){var o=e5.iS(d.data);if(o)this.BV(o);}else{this.BV(d);}
this.sound=d.sound;this.AS();this.eA(d);if(this.frames[1]&&!this._editMode){this.gotoAndPlay(0);}
AB.gJ(this);e6.gE(this.gR);}
eA(d){if(this._editMode)return;this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.dbClick=d.ondbclick;this.onClick=d.onclick;this.e1=d.oncomplete;}
BV(d){if(this._editMode)return;if(d.src&&!d.src.match(/\.png|\.jpg|\.jpeg|\.svg/))var i=can.data.images[d.src];else i=d;if(!i){console.log("load "+this.name+" image failed")
return;}
A7.setImageSrc(this.eW,i.src,i.width,i.height);let AJ=this.width,AI=this.height;var a=d.clipping?d.clipping.split(","):[0,0,64,64],m=a[4]||20,x=parseInt(a[0]),y=parseInt(a[1]);this.width=d.imgWidth||parseInt(a[2]);this.height=d.imgHeight||parseInt(a[3]);this._pt.setAttribute("width",this.width);this._pt.setAttribute("height",this.height);this.scaleX=AJ/this.width;this.scaleY=AI/this.height;A7.BQ(this.eK,this.id+"_SPR");this.frames.length=0;this.frameRate=d.frameRate||can.timer.g6;this.numFrames=d.numFrames||1;this.repeat=d.repeat||1;for(var n=0;n<this.numFrames;n++){this.frames.push([x+n%m*this.width,y+parseInt(n/m)*this.height]);}
this.BW=0;}
clear(){this.gotoAndStop(0);super.clear();e6.gE(this.onHide);}
play(end=null){var B5=this;if(this.sound)Sound.play(this.sound);can.timer.remove(this.name);can.timer.play(this.frameRate,this.repeat<0?1000:(this.repeat*this.numFrames-this.currentFrame),function(){B5.BW++;if(B5.BW>=B5.numFrames){if(B5.repeat>0)B5.repeat--;if(B5.repeat==0)return;B5.BW=0;}
B5.gotoFrame(B5.BW);},function(){e6.gE(end);},this.repeat<0,this.name);}
stop(){can.timer.remove(this.name);if(this.sound)Sound.stop(this.sound);}
gotoFrame(index){var o=this.currentFrame=this.frames[index];if(!o)return;this.BW=index;this.eW.setAttribute("x",-o[0]);this.eW.setAttribute("y",-o[1]);}
gotoAndPlay(index){this.currentFrame=index;this.play(this.e1);}
gotoAndStop(index){this.gotoFrame(index);this.currentFrame=index;this.stop();}
fS(v){if(!v)return;var o=this.BV(v);this.gotoAndStop(0);if(!this._editMode)this.play(this.e1);}}
AB.hB.sprite=BK;class hL extends AB{constructor(){super("text");this.mod="text";this.dK=false;}
get width(){return this.AJ;}
set width(v){v=v>0?v:1;this.AJ=v;}
get height(){return this.AI;}
set height(v){v=v>0?v:1;this.AI=v;}
set color(v){this.eK.setAttribute("fill",v);}
set(d,style){super.set(d,style);this.enabled=this._editMode;var r=this.hG=String(d.value!=undefined?d.value:"");if(this._editMode){this.text=r;this.g3();return;}
this.gP();}
bind(v){if(v.match(/{(.*?)}/i)){this.hG=v;return;}
this.cX=v;}
AT(el=null){if(!this.style)return;var s=this.style,el=el||this.eK;this.gK();s.color=s.color||"#000";var fs=s.fontSize||20;el.setAttribute("font-size",fs);if(s.color)el.setAttribute("fill",s.color);if(s.borderWidth>0){el.setAttribute("stroke-width",s.borderWidth);el.setAttribute("stroke",s.borderColor);}
if(s.textAlign=="right"){el.setAttribute("text-anchor","end");el.setAttribute("x",this.width);}else if(s.textAlign=="center"){el.setAttribute("text-anchor","middle");el.setAttribute("x",this.width/2);}else{el.setAttribute("text-anchor","start");el.setAttribute("x",0);}
if(s.textBaseline=="bottom"){el.setAttribute("y",this.height-fs/4);}else if(s.textBaseline=="middle"){var h=this.eK.getBoundingClientRect().height;el.setAttribute("y",(this.height+fs*3/4)/2);}else{h=this.eK.getBoundingClientRect().height;el.setAttribute("y",fs);}
this.text=this._t;if(s.shadow){el.setAttribute("filter","url(#shadow)");}else{el.removeAttribute("filter");}}
fS(v){this.text=hL.jJ(this,v);if(this.cX)e5.fT(this.cX,this.fR());}
get text(){return this._t;}
set text(v){if(v===0)v="0";if(this.style&&this.style.multiline){this.eK.innerHTML='';if(!v)return;this._t=v;this.BJ(v);}else{this._t=v||'';this.eK.textContent=this._t;if(this._t.length<2)return;var r=this.eK.getBBox().width;if(r>this.width){let s=String(this._t);this.eK.textContent=s.substr(0,parseInt(s.length*this.width/r));}}}
BJ(v){v=v.split('');var telm=A7.jP("tspan"),tn=document.createTextNode(v[0]);telm.appendChild(tn);this.eK.appendChild(telm);let fh=this.eK.getBoundingClientRect().height;for(var i=1,l=v.length;i<l;i++){var len=telm.firstChild.data.length;telm.firstChild.data+=""+v[i];if(telm.getComputedTextLength()>this.width){telm.firstChild.data=telm.firstChild.data.slice(0,len);var telm=A7.jP("tspan");telm.setAttributeNS(null,"x",0);telm.setAttributeNS(null,"dy",fh);tn=document.createTextNode(v[i]);telm.appendChild(tn);this.eK.appendChild(telm);}}}
fR(){var r=String(this.hG);if(r.indexOf("#")>-1){var a=r.split("#");var s=this.text.substr(a[0].length,this.text.length-a[1].length-a[0].length);}else{s=this.text;}
return s;}
gP(){super.gP();if(this.j6){this.text=hL.jJ(this,this.j6);return;}else{this.text=hL.jJ(this,this.hG);}}
clear(){super.clear();this.eK.innerHTML='';this.cX=null;}
static jJ(o,v){var r=o.hG,a=String(r).match(/{(.*?)}/g);if(a){if(typeof v=="object"){o.j6=v;if(r.match(/\$|\@/i)){if(o.index>-1)r=r.replace(/\[\]/g,"["+o.index+"]");v=e5.d8(r);}else{var d=v;for(let n=0,l=a.length;n<l;n++){let s=a[n].substr(1,a[n].length-2);r=r.replace(a[n],d[s]!=null?d[s]:'');}
v=r;}}else{if(o.index>-1&&r.match(/\[\]/i))v=r.replace(/\[\]/g,"["+o.index+"]");v=e5.iS(v);}}else{if(typeof v!="number"&&typeof v!="string"){if(v instanceof Array==false)v=r;}
if(o.style&&v!==''&&!isNaN(v)&&o.style.toFixed)v=Number(v).toFixed(parseInt(o.style.toFixed));else if(String(r).indexOf("#")>-1)v=r.replace("#",v);}
return v;}}
AB.hB.text=hL;class hO extends B1{constructor(){super("g");this.mod="input";this.eY=new hL();this.eK.appendChild(this.eY.eK);}
AM(){super.AM();this.eY.id=this.id+"eY";this.eY.eK.AD=this.AD;}
g4(d,parent,style){this.data=d;this.id=d.id;if(!this._editMode&&d.index!==undefined)this.index=d.index;this.parent=parent;this.AQ=parent==can.AR?this:parent.AQ;this.eZ=this.id+(this.index>-1?this.index:"");Obj.set(this);this.set(d,style);}
set(d,style){this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.g3();this.placeholder=d.placeholder;this.eV();this.hG=this.eY.hG=d.value?d.value:'';if(this._editMode)this.text=this.hG;else if(this.hG==''&&this.placeholder){this.text=this.placeholder;this.eY.alpha=0.5;}else{this.fS(this.hG);this.eY.alpha=1;}
this.type=d.type?d.type:"auto";this.AS();this.eA(d);AB.gJ(this);}
AT(el=null){this.eY.style=e5.d9(this.style);super.AT(this.CX);if(this.eY.style){delete this.eY.style.borderWidth;delete this.eY.style.left;delete this.eY.style.top;delete this.eY.style.shadow;this.eY.style.left=4;this.eY.style.width=this.width-8;this.eY.style.height=this.height;}
this.eY.g3();}
bind(v){if(v.match(/{(.*?)}/i)){this.hG=v;return;}
this.cX=v;}
get text(){return this.eY.text;}
set text(v){this.eY.text=v;}
eV(){var d=this.data;if(d.options){if(d.options.charAt(0)=="$"){var op=e5.fR(d.options.substr(1));if(op){var a=[];for(let n=0,l=op.length;n<l;n++){a.push([op[n].name,op[n].value]);}
this.options=a;}else this.options=null;}else{this.options=d.options.cS("|",":");}
this.type="select";}else this.options=null;}
set options(v){if(v instanceof Array&&v[0].value){var a=[];for(let n=0,l=v.length;n<l;n++){if(v[n].name){var aa=[v[n].name,v[n].value];}else{aa=[v[n].value];}
a.push(aa);}
v=a;}
this._options=v;}
get options(){return this._options;}
eA(d){if(this._editMode)return;this.e1=d.oncomplete;this.onChange=d.onchange;this.onInput=d.oninput;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.dbClick=d.ondbclick;this.onClick=d.onclick;this.hF=d.data;var o=this;this[d.activateEvent]=function(){if(Event.fC)return;e6.gE(can.data.methods[o.id+"_on"+d.activateEvent.toLowerCase()]);AB.j1=hO.hE=o;if(o.type=="color"||o.type=="action")return;Event.fC=true;if(o.options){hO.dG(o);}else{hO.jI(o);}}
if(d.hitarea){setTimeout(function(){var h=AB.gG(d.hitarea);if(h){h.mouseUp=o.mouseUp;h.mouseDown=o.mouseDown;}},100);}}
fS(v){if(v!==0&&!v)v='';if(v.hasOwnProperty(this.id))v=undefined?"":v[this.id];else if(v.hasOwnProperty(this.hF))v=undefined?"":v[this.hF];else v=hL.jJ(this,v);let ss=this.style;if(this.type=="action")this.j6=v;else if(v&&v[0]&&this.type=="auto"&&v instanceof Array){if(v[0].hasOwnProperty("name")&&v[0].hasOwnProperty("value")){this.type="action";this.j6=v;}}else if(ss.toFixed!=undefined&&typeof(v)=="number"){if(ss.toFixed>0)v=v.toFixed(ss.toFixed);else v=parseInt(v);}
if(v==''&&this.placeholder){v=this.placeholder;this.eY.alpha=0.5;}else{if(typeof(this.hG)=="string"&&this.hG.indexOf("#")>-1){v=this.hG.fZ("#",v);}
this.eY.alpha=1;}
this.iE(v);if((this.type=="auto"||this.type=="color")&&String(v).search(/rgba\(/)==0)
this.g3({backgroundColor:v});if(this.cX)e5.fT(this.cX,this.fR());}
fR(){if(this.type=="action"||this.type=="password"){return this.j6;}else if(this.type=="select"||this._options){var r=this.iF();if(r!=undefined)return r;}
r=this.text;if(r!==""&&!isNaN(r))return Number(r);if(r==this.placeholder||r=="")return'';return r;}
iF(){var a=this.options;if(!a)return this.text;for(var n=0,l=a.length;n<l;n++){if(this.text==a[n][0]){if(a[n][1]!=undefined)return a[n][1];else return a[n][0];}}}
iE(v){if(this.type=="text"){if(v instanceof Array){this.type="action";}else if((typeof v=="object"||v==="")&&!String(this.hG).match(/{(.*?)}/i)){this.text=this.hG;return this.text;}}
if(this.type=="action"){if(v instanceof Array==false){if(!v)this.text="";return;}
a=can.data.data.actions;var s='';for(n=0,l=v.length;n<l;n++){for(var m=0,ll=a.length;m<ll;m++){if(a[m].name==v[n].name)s+=a[m].title+";";if(typeof v[n].value=="object")v[n].value=e5.C7(v[n].value);}}
this.text=s;return s;}else if(this.type=="select"||this._options){var a=this.options;if(!a)return v;for(var n=0,l=a.length;n<l;n++){if(v==a[n][1]){this.text=a[n][0];return a[n][0];}}
this.text=v;}else if(this.type=="password"){v=this.jO(v);}
this.text=typeof v=="object"?"":v;return v;}
jO(v){if(v==""||v==this.placeholder){this.j6='';return this.placeholder;}
this.j6=String(v);v="";for(let n=0,l=this.j6.length;n<l;n++){v+="*";}
return v;}
gP(){super.gP();this.eV();if(this.j6){var v=hL.jJ(this,this.j6);}else{v=hL.jJ(this,this.hG);}
this.iE(v);}
clear(){if(!this.parent)return;this.AU();this.text='';this.hF=this.j6=null;this[this.data.activateEvent]=null;if(this.parent)this.parent.removeChild(this);this.e1=null;this.onInput=null;this.mouseDown=null;this.mouseUp=null;this.cX=null;AB.gL(this);}
gO(attr,v){if(attr=="text")this.data.value=v;else if(attr=="options"&&v){v=String(v).cS("|",":");this.type="select";}else if(attr=="type"){if(!v||v=="")v="auto";else if(v=="color"&&String(this.text).search(/rgba\(.*\)/)==0)this.hY("backgroundColor",this.text);else if(v=="action"){this.type="action";this.iE(this.j6);return;}}
this[attr]=v;this.iE(this.text);}}
AB.hB.input=hO;hO.iG=function(){if(!hO.hE)return;if(hO.hE.type=="select"){if(!hO.iI||!hO.iI.options)return;if(hO.iI.selectedIndex>-1&&hO.iI.options[hO.iI.selectedIndex].value=="NaN")
hO.hE.fS(hO.eX.value);}
if(hO.eX)hO.eX.style.visibility="hidden";if(hO.iI){hO.iI.length=0;hO.iI.style.visibility="hidden";}
e6.gE(hO.hE.onChange);e6.gE(hO.hE.e1);hO.hE=null;document.activeElement.blur();if(can.device=="android"){can.A6.fG();can.AR.resize();}}
hO.iH=function(){if(!hO.iI.value||hO.iI.value=="NaN"){hO.jI(hO.hE);return;}
hO.hE.fS(hO.iI.value);hO.iG();}
hO.jI=function(o){if(hO.iI)hO.iI.style.visibility="hidden";if(!hO.eX){var el=A7.jQ("input");el.id="can-input";el.autofocus="autofocus";hO.eX=el;A7.body.appendChild(el);}
var i=hO.eX,s=i.style,ss=o.style;if(can.device=="pc"){var pp=o.eK.getBoundingClientRect(),sc=can.A6.scale,pp={x:pp.x*sc,y:pp.y*sc},sw=1/sc,sh=1/sc,bw=ss.borderWidth>0?ss.borderWidth:0;s.borderWidth=bw+"px";s.width=o.width*sw-2*bw+"px";s.height=o.height*sh-2*bw+"px";s.left=pp.x*sw-bw+"px";s.top=pp.y*sh-bw+"px";s.fontSize=ss.fontSize*sh+"px";s.backgroundColor=ss.backgroundColor;s.color=ss.color;if(o.type=="password"){i.type="password";}else{i.removeAttribute("type");}
i.onkeydown=function(e){if(e.key=="Enter")hO.iG();}}
i.oninput=hO.gU;s.visibility="visible";s.textAlign=ss.textAlign||"left";if(o.text==o.placeholder)i.value='';else i.value=o.fR();i.focus();}
hO.dG=function(o){if(hO.eX)hO.eX.style.visibility="hidden";if(!hO.iI){var el=A7.jQ("select");el.id="can-select";hO.iI=el;A7.body.appendChild(el);}
var i=hO.iI,s=i.style,a=o.options,ss=o.style;for(let n=0,l=a.length;n<l;n++){i.options[n]=new Option(a[n][0],a[n][1]!=undefined?a[n][1]:a[n][0]);}
if(can.device=="pc"){var pp=o.eK.getBoundingClientRect(),sc=can.A6.scale,pp={x:pp.x*sc,y:pp.y*sc},sw=1/sc,sh=1/sc,bw=ss.borderWidth>0?ss.borderWidth:0;s.borderWidth=bw+"px";s.width=o.width*sw+"px";s.height=o.height*sh+"px";s.left=pp.x*sw+"px";s.top=pp.y*sh+"px";s.fontSize=ss.fontSize*sh+"px";s.backgroundColor=ss.backgroundColor;s.color=ss.color;i.onkeydown=function(e){if(e.key=="Enter")hO.iG();}}else{s.top="-100px";}
i.onchange=hO.iH;s.visibility="visible";s.textAlign=ss.textAlign||"left";if(o.text==o.placeholder)i.value='';else i.value=o.iF();i.focus();i.click();}
hO.gU=function(){hO.hE.fS(hO.eX.value);e6.gE(hO.hE.onInput);}
hO.hE=null;class hM extends B1{constructor(){super("g");this.mod="progress";this.dV=new AB();this.eK.appendChild(this.dV.eK);}
set(d,style){this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.min=d.min
this.max=d.max;this.j6=d.value;let c=d.childNodes;if(c){for(let n in c){let i=AB.gM(c[n].mod);i.index=this.index;i._editMode=this._editMode;i.AV=true;i.g4(c[n],this);this.addChild(i);break;}}
this.eA(d);this.fS(this.j6);this.AS();this.enabled=d.enabled||true;AB.gJ(this);}
g3(s=null){if(s)this.style=AB.g2(this,s);let ss=this.style;this.gK();this.min=this.min||0;let m=Math.abs(this.max-this.min);;if(this.data.type=="circle"){var r=Math.max(this.AJ,this.AI),l=r*Math.PI;this.style.borderRadius=r/2;ss.width=ss.height=r;var sd=l*this.j6/m+" "+l;this.dV.g3({width:r,height:r,borderColor:ss.color,borderWidth:ss.borderWidth-4,borderStyle:sd,borderRadius:r/2})
this.AT(this.CX);return;}
var hl=this.AW[0];this.dV.style={};this.dV.style.backgroundColor=ss.color;this.dV.style.borderRadius=ss.borderRadius;this.dV.AT();if(this.data.type=="vertical"){let h=(this.j6-this.min)/m;this.dV.width=this.width;this.dV.height=h*this.height;if(hl){hl.AL=this.dV.height-hl.height/2;hl.x=(this.width-hl.width)/2;}}else{let w=(this.j6-this.min)/m;this.dV.width=w*this.width;this.dV.height=this.height;if(hl){hl.AK=this.dV.width-hl.width/2;hl.y=(ss.height-hl.height)/2;}}
this.AT(this.CX);}
eA(d){if(this._editMode)return;this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.mouseMove=d.onmousemove;if(!this.style.itemDraggable)return;var o=this;if(this.AW[0]||this.mouseDown){var hd=this.AW[0],eX,eY;Event.B3(hd,{mouseMove:function(e){if(o.data.type=="vertical"){hd.y=e.BA;if(hd.y<-hd.height/2)hd.y=-hd.height/2;else if(hd.y>o.height-hd.height/2)hd.y=o.height-hd.height/2;o.fS((hd.y+hd.height/2)*(o.max-o.min)/o.height+Number(o.min));}else{hd.x=e.B9;if(hd.x<-hd.width/2)hd.x=-hd.width/2;else if(hd.x>o.width-hd.width/2)hd.x=o.width-hd.width/2;o.fS((hd.x+hd.width/2)*(o.max-o.min)/o.width+Number(o.min));}
e6.gE(o.mouseMove,e);}});}}
bind(v){if(v.match(/{(.*?)}/i)){this._defaultValue=v;return;}
this.cX=v;}
fS(v){if(v==null){if(this._defaultValue)v=e5.iS(this._defaultValue);else return;}
if(v<Number(this.min)){v=this.min;}else if(v>Number(this.max)){v=this.max;}
this.j6=v;if(this.cX)e5.fT(this.cX,this.fR());this.g3();}
fR(){let f=this.style.toFixed;if(!f)f=0;return Number(this.j6).toFixed(f);}
addChild(eT){if(this.AW.length>0)return;super.addChild(eT);}
gP(){super.gP();this.fS();}
clear(){super.clear();this.cX=null;}}
AB.hB.progress=hM;class j5 extends B1{constructor(){super();this.mod="datagrid";this.f3=new BZ();this.containerIndex=new BZ();this.container=new BZ();this.f7=[];this.AW=[];this.f6=[];this.d1=[];this.j1;}
get width(){return this.AJ;}
set width(v){v=v||1;this.AJ=v;this.CX.setAttribute("width",v);this.jZ.setAttribute("width",v);}
get height(){return this.AI;}
set height(v){v=v||1;this.AI=v;this.CX.setAttribute("height",v);this.jZ.setAttribute("height",v);}
set(d,style){this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.AS();AB.gJ(this);A7.jX(this);this.containerIndex.id=d.id+"f9";this.container.id=d.id+"j6";this.f3.id=d.id+"j7";this.gQ();this.g3();}
gQ(dd){var d=this.data,num=0,ed=this._editMode,c=d.childNodes;this.dH();this.addChild(this.container);this.addChild(this.containerIndex);this.addChild(this.f3);if(!dd)dd=!this._editMode?e5.fR(d.data):iJ.hF.data[d.data];if(this._editMode&&!dd)dd=[{A:"",B:"",C:"",D:"",E:"",F:""},{A:"",B:"",C:"",D:"",E:"",F:""},{A:"",B:"",C:"",D:"",E:"",F:""}];if(!dd||!c||!c[d.key])return;this.AW.length=0;this.f7.length=0;this.f6.length=0;var a=[],t=[];var temp=this.style.template?this.style.template.split(","):[],B5=this;temp=temp.map(function(o){if(isNaN(o)){return B5.parent.width*o.substr(0,o.length-1)/100;}else{return o;}});for(var n=0,l=dd.length;n<l;n++){for(var m in dd[n]){if(a.indexOf(m)<0&&m!=''){t.push(m);var i=AB.gM(c[d.key].mod);i.index=!ed?a.length:-1;i._editMode=ed;this.f3.addChild(i);i.AV=true;var j=t.length-1;if(temp[j]){var ss={width:temp[j]};}
i.g4(c[d.key],this.f3,ss);j=a.length-1;i.x=j>=0?this.f7[j].x+Number(this.f7[j].width):0
a.push(m);this.f7.push(i);i.fS(m);}}}
let id=c[d.key].id;if(!i)return;var h=i.height;this.d1.length=0;for(var m=0,ll=dd.length;m<ll;m++){if(c[d.idx]){var ii=AB.gM(c[d.idx].mod);ii.index=!ed?m:-1;ii._editMode=ed;ii.AV=true;this.containerIndex.addChild(ii);ii.g4(c[d.idx],this.containerIndex);ii.height=h;ii.y=m*ii.height+h;this.f6.push(ii);ii.fS(m+1);}
this.d1[m]=[];if(!c[d.value])return;for(var n=0,l=a.length;n<l;n++){var i=AB.gM(c[d.value].mod);i.index=!ed?num:-1;i._editMode=ed;i.AV=true;this.container.addChild(i);var ss={width:this.f7[n].width};if(this.style.color&&m%2==1)ss.backgroundColor=this.style.color;i.g4(c[d.value],this.container,ss);i.AK=this.f7[n].x+(ii?ii.width:0);i.y=m*i.height+h;i.fS(dd[m][t[n]]);i.key=t[n];this.d1[m][n]=i;num++;}}
this.f4=this.f3.x=(ii?ii.width:0);id=c[d.value].id;this.f8=n;this.f5=m;this.eA(d);}
eA(d){var B5=this,o=B5.container;Event.B3(o,{mouseDown:function(ev){B5.fH=ev.clientX;B5.fI=ev.clientY;},mouseMove:function(ev){if(B5.f6.length>0||o.eK.getBBox().width>B5.width){o.AK=ev.B9;if(o.x>0)o.AK=0;B5.f3.x=o.x+B5.f4;}
o.AL=ev.BA;if(o.y>0)o.AL=0;B5.containerIndex.y=o.y;o.AN();},mouseUp:function(ev){var t=Event.getTarget(ev);if(!t||!t.parent||t.parent!=B5.container)return;ev.gridRow=t.index%B5.f8;ev.gridCol=parseInt(t.index/B5.f8);e6.gE(B5.onSelect,ev);}})
e6.gE(d.onshow);}
gP(){this.gQ();}
fS(v){if(!v){this.dH();return;}
if(this.f6[0])this.containerIndex.y=0;this.container.y=0;this.container.x=this.f3.x=0;if(v instanceof Array){this.gQ(v);return;}
this.data.data=v;this.gP();}
fR(){var o=[];for(var m=0;m<this.f5;m++){o[m]={};for(var n=0;n<this.f8;n++){var k=this.f7[n].fR();o[m][k]=this.d1[m][n].fR();}}
return o;}
getCol(i){if(!i)i=AB.j1.index;return parseInt(i/this.f8);}
getRow(i){if(!i)i=AB.j1.index;return i%this.f8;}
dH(){this.f3.clear();this.containerIndex.clear();this.container.clear();}
clear(){this.AU();this.dH();if(this.parent)this.parent.removeChild(this);Event.BC(this);e6.gE(this.onHide);AB.gL(this);}}
AB.hB.datagrid=j5;class j0 extends BZ{constructor(){super();this.mod="nodetree";}
set(d,style){A7.jX(this);this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.g3();this.container.x=this.container.y=0;this.j7=d.key;this.j6=d.value;this.gQ();this.gW=null;AB.gJ(this);this.eA(d,this.style);e6.gE(d.onshow);}
eA(d,ss){if(this._editMode)return;this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;}
j2(dd){this.j3={v:"",k:"",childNodes:f(dd)};function f(dl){let ol={},n=0;for(let m in dl){if(dl[m]!=undefined){ol[m]={};ol[m].k=!isNaN(m)?"["+m+"]":m;switch(typeof dl[m]){case("number"):ol[m].v=dl[m];n++;break;case("string"):ol[m].v=dl[m];n++;break;case("object"):ol[m].v="";ol[m].childNodes=f(dl[m]);n++;break;}}}
if(n>0)return ol;else{return dl;}}}
gQ(){var d=this.data;this.gS=null;this.j1=null;j0.iT=j0.nodes.length=0;if(this._editMode){this.dL();return;}
var dd=d.data?e5.fR(d.data):can.data.data;if(!dd){dd=[];e5.fS(d.data,dd);}
var c=d.childNodes;if(!dd&&this.j3)return;this.j2(dd);if(c){for(let n in c){var i=AB.gM("node");i.index=this.index;this.addChild(i);i.g4(c[n],this,this.j3);this.gS=i;break;}}
this.flex();}
dL(){var d=this.data;var c=d.childNodes;if(c){for(let n in c){var i=AB.gM("box");i._editMode=this._editMode;this.addChild(i);i.g4(c[n],this);break;}}}
flex(){if(!this.gS)return;this.fE=j0.iT*(this.gS.height+8);this.fD=this.width;var B5=this,o=this.container,t;Event.B3(o,{mouseDown:function(ev){can.timer.remove("fL");t=new Date().getTime();B5.fH=ev.clientX;B5.fI=ev.clientY;},mouseMove:function(ev){o.y=ev.BA;if(B5.height<B5.fE){o.y=ev.BA;}},mouseUp:function(ev){var h=B5.height,H=B5.fE,ss=B5.style,l=new Date().getTime()-t;if(B5.container.y<0){if(B5.dW<h)B5.container.y=0;else if(B5.dW+B5.container.y<h)B5.container.y=h-B5.dW;}
if(l>500){if(o.y>0){o.y=0;}
return;}
ss=50*can.A6.scale;if(Math.abs(B5.fI-ev.clientY)>5){var sp=B5.fI>ev.clientY?Math.min((B5.fI-ev.clientY)*ss/l,ss):Math.max((B5.fI-ev.clientY)*ss/l,-ss),s=sp*0.05;can.timer.play(1,20,f1,function(){},false,"fL");return;}
function f1(){var AL=h-H;if(o.y>0||AL>0){o.y=0;can.timer.remove("fL");return;}else if(o.y<AL&&AL<0){o.y=AL;can.timer.remove("fL");return;}
o.y-=sp;sp-=s;}}});}
fS(v){this.container.y=0;this.j3=null;this.j2(v);this.gP();}
gP(){if(this.gS)this.gS.clear();this.gQ();}
clear(){this.AU();this.j3=null;if(this.gS)this.gS.clear();if(this.parent)this.parent.removeChild(this);e6.gE(this.onHide);AB.gL(this);}
gO(attr,v){if(attr=="data"){this.hF=this.data.data=v;this.gP();return;}else if(attr=="containerX"){this.container.x=v;return;}else if(attr=="containerY"){this.container.y=v;return;}
this[attr]=v;}}
j0.nodes=[];j0.hF={};j0.iT=0;j0.j1=null;class j4 extends B1{constructor(){super();this.mod="node";this.f9=1;this.AQ;this.CY=new Graphic();this.eK.appendChild(this.CY.eK);this.CX.classList.add("can-treenode");}
g4(d,parent,dd=null,parentNode=null){if(!d)return;j0.nodes.push(this);this.id=d.id;this.parent=parent;this.data=d;this.style=AB.g2(this);this.AV=true;this.g3();this.AW.length=0;var c=d.childNodes,o={};this.j7=parent.j7;this.j6=parent.j6;o[parent.j6]=dd.v;o[parent.j7]=dd.k;this.index=j0.iT;j0.iT++;if(c){for(var n in c){var i=AB.gM(c[n].mod);i.index=this.index;this.addChild(i);i.g4(c[n],this);i.fS(o);}}
if(!dd)return;this.parentNode=parentNode;this.j3=dd;this.nodes=[];this.iT=1;if(parentNode)this.AQ=!parentNode.AQ?this:parentNode.AQ;if(dd.open||!parentNode){var cc=dd.childNodes;if(cc){for(var n in cc){var i=AB.gM("node");i.index=this.index;this.addChild(i);i.g4(this.data,this,cc[n],this);this.nodes.push(i);}}}
if(this.parentNode){this.parentNode.addChild(this);this.AL=this.parentNode.f9*(this.height+8);this.x=64;}else{this.AL=0;this.x=6;}
if(parentNode){parentNode.f9+=this.f9;this.parentNode=parentNode;}
var g=this.CY,h=this.height/2,c="rgb(90,90,90)";g.clear().fill(c).lineStyle(2,"rgb(120,120,120)").drawCircle(0,h,4);for(var n=0,l=this.nodes.length;n<l;n++){g.AP(0,h);g.lineTo(0,this.nodes[n].y+h);g.AP(0,this.nodes[n].y+h);g.lineTo(this.nodes[n].x,this.nodes[n].y+h);}
g.end();this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;AB.gJ(this);}
clear(){if(!this.parent)return;this.AU();this.parentNode=null;this.AQ=null;this.f9=1;for(var n=this.AW.length-1;n>=0;n--){var i=this.AW[n];i.clear();}
this.CY.clear();this.nodes.length=this.AW.length=0;if(this.parent)this.parent.removeChild(this);AB.gL(this);}}
AB.hB.nodetree=j0;AB.hB.node=j4;class dI extends AB{constructor(){super("path");this.mod="line";}
set(d,style){this.CT=d.path||"M0 0 L100% 0";super.set(d,style);this.fS(this.CT);}
get width(){return this.AJ;}
set width(v){v=v>0?v:1;this.AJ=v;this.fS(this.CT);}
get height(){return this.AI;}
set height(v){v=v>0?v:1;this.AI=v;this.fS(this.CT);}
gP(){super.gP();this.fS(this.data.path);}
BS(x){if(isNaN(x)){var s=x.substr(-1).toUpperCase();x=x.substr(0,x.length-1);if(s=="%"){x=this.width*x*0.01;}else if(s=="R"){x=this.width-x;}else if(s=="C"){x=this.width/2+parseInt(x);}}
return x;}
BT(y){if(isNaN(y)){var s=y.substr(-1).toUpperCase();y=y.substr(0,y.length-1);if(s=="%"){y=this.height*y*0.01;}else if(s=="B"){y=this.height-y;}else if(s=="C"){y=this.height/2+parseInt(y);}}
return y;}
fS(v){if(!v||typeof v=="object")return;else if(v instanceof Array){var r="M";for(var n=0,l=v.length;n<l;n++){if(n>0)r+=" L";r+=this.BS(v[n].x)+" "+this.BT(v[n].y);}
this.CT=r;}else{this.CT=v;this.j6=[];n=0;var o=this;r=String(v).replace(/[0-99999999]+[\%]?[L|T|R|B|C]?/g,function(){n++;if(n%2==1){return o.BS(arguments[0]);}else{return o.BT(arguments[0]);}});}
this.j6=r;this.eK.setAttribute("d",r);}
fR(){var r=this.j6.replace(/[a-zA-Z]/g,'');return r.split(" ");}}
AB.hB.line=dI;class BU extends B1{constructor(){super("g");this.mod="linenode";this.CY=new dI();this.eK.appendChild(this.CY.eK);}
set(d,style){this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);if(!d.path)d.path="M0 0 L100% 0";this.CY.id=d.id+"CY";var o=e5.d9(this.style);if(o){delete o.left;delete o.top;this.CY.g4(d,this,o);this.fS(d.path);}
AB.gJ(this);}
fS(v){if(v instanceof Array){}
var ss=this.style,d=this.data,c=d.childNodes,o=this.AW,ed=this._editMode;for(let n=o.length-1;n>=0;n--){let i=o[n];i.clear();}
o.length=0;this.CY.fS(v);if(c){for(let n in c){var m=c[n];break;}
if(!m)return;for(let n=0,l=v.length/2;n<l;n++){var i=AB.gM(m.mod);i.index=!ed?n:-1;i._editMode=ed;this.addChild(i);i.g4(m,this);if(!v||v instanceof Array==false)continue;i.x=int(v.shift())+i.x;i.y=int(v.shift())+i.y;}}
this.AS();}}
AB.hB.linenode=BU;class gT extends B1{constructor(){super();this.hA=[];this.h5=[];this.style={};this.id="main";}
init(){this.g4(can.data.components,can.A6);e6.push([["UI0",this.config],["UI1",this.hH],["UI2",this.hI],["UI3",this.gP],["UI4",this.i0],["UI5",this.i1],["UI6",this.i2],["UI7",this.h8],["UI8",this.h6],["UI9",this.h4],["UI10",this.h3]]);this.eA(can.data.methods);can.A6.eK.appendChild(this.eK);}
g4(d,parent){this.data=d;this.id=d.id;this.parent={};this.parent.eK=parent;this.style=AB.g2(this);this.eZ="main";Obj.set(this);this.g3();}
add(...v){for(var n=0,l=arguments.length;n<l;n++){var o=arguments[n];if(typeof o=="string"){o=AB.gG(o);if(!o){o=Obj.get(arguments[n]);}}
if(o){o.show();}}}
g3(s=null){if(s)this.style=AB.g2(this,s);this.width=can.A6.width;this.height=can.A6.height;}
eA(d){this.onLoad=d.main_onload;this.onUnLoad=d.main_onbeforeunload;this.CL=d.main_onloadend;this.mouseDown=d.main_onmousedown;this.mouseUp=d.main_onmouseup;this.dbClick=d.main_ondbclick
this.swipeLeft=d.main_onswipeleft;this.swipeRight=d.main_onswiperight;this.swipeUp=d.main_onswipeup;this.swipeDown=d.main_onswipedown;this.rightClick=d.main_onrightclick;this.onError=d.main_onerror;this.onResize=d.main_onresize;}
config(tId,tIndex,iL,rightClickMenu=null){gT.gY=AB.gG(tId);gT.gX=AB.gG(tIndex);if(iL)CI.iR=iL;if(rightClickMenu){rightClickMenu=e5.iS(rightClickMenu);window.oncontextmenu=function(e){e.preventDefault();if(can.device!="pc")return;hO.iG();e6.gE(can.AR.rightClick);can.AR.hH(rightClickMenu);let o=gT.rightClickMenu=AB.gG(rightClickMenu);if(o){o.x=e.clientX*can.A6.scale+10;o.y=e.clientY*can.A6.scale+10;if(o.x<0)o.x=0;else if(o.x>can.AR.width-o.width)o.x=can.AR.width-o.width;if(o.y<0)o.y=0;else if(o.y>can.AR.height-o.height)o.y=can.AR.height-o.height;}}}}
hH(id,index=-1,hC=0,g1=null){id=e5.iS(id);index=e5.iS(index);let i=AB.C4(id,index);if(index=="all"){if(!i)return;for(let n=0;n<i.length;n++){if(!i[n]||!i[n].parent)continue;i[n].visible=true;}
return i;}else if(i){i.visible=true;return i;}
let d=can.data.components.childNodes[id];if(!d)d=AB.h1(can.data.components,id);i=AB.C4(id,index);if(!d){if(i&&i.parent){i.visible=true;return i;}
return null;}
if(!i){i=AB.gM(d.mod);if(i){if(g1){var o=typeof g1=="string"?AB.gG(g1):g1;if(o&&typeof o=="object"){o.addChild(i);i.g4(d,o);return i;}else can.AR.addChild(i);}else
can.AR.addChild(i);}
i.g4(d,can.AR);}else if(i.parent){i.visible=true;if(g1){var o=typeof g1=="string"?AB.gG(g1):g1;if(o){i.g4(d,o);}}else can.AR.setChildIndex(i,can.AR.numChildren-1);}else{}
hC=e5.iS(hC);if(hC>0){Animate.dT(i,hC);}
return i;}
gP(id,index=-1,hC=0){id=e5.iS(id);index=e5.iS(index);let o=AB.C4(id,index);if(o){o.gP();hC=e5.iS(hC);if(hC>0){Animate.dT(o,hC);}}}
hI(id,index=-1,hC=0,remain=false){remain=e5.iS(remain);if(!id){var i=AB.j1.AQ;}else{id=e5.iS(id);index=e5.iS(index);if(index=="all"){if(!AB.AX[id])return;i=AB.AX[id];for(var n=0,l=i.length;n<l;n++){if(!i[n])continue;if(remain==true)i[n].visible=false;else i[n].clear();}
return;}
i=AB.C4(id,index);}
if(i){hC=e5.iS(hC);if(hC>0)Animate.dT(i,hC,e,-1);else e();function e(){if(remain==true){i.resetStyle();i.visible=false;}else i.clear();}}else{console.log("can not find:",id)}}
i0(id,index,v,changTo=false){id=e5.iS(id);index=e5.iS(index);if(index=="sel"){f(AB.j1.index);}else if(index=="all"){for(var n=0,l=AB.h5[id].length;n<l;n++){f(n);}}else{f(index);}
function f(i){var o=AB.C4(id,i);if(!o)return;let r={};if(v.charAt(0)=="@"){var B5=AB.gG(e5.iS(v.substr(1)));if(!B5)return;var rr=B5.fR();}else rr=e5.iS(v);if(changTo==2&&typeof rr=="object")rr=JSON.stringify(rr);o.fS(rr);}}
i1(id,i4,index=-1){id=e5.iS(id);var o=AB.C4(id,index);if(!o)return;var d=i4.match(/\$/)?e5.iS(i4):e5.fR(i4);if(!d)return;if(!d[0])d.shift();o.fS(d);}
i2(iW,e9,hV=null,uis=null,e8=" "){var o=AB.gG(iW);if(!o)return;var d=o.CR,dd=e5.fR(e9);d=e5.fV(d);if(hV)hV=String(hV).split(e8);if(uis)uis=String(uis).split(e8);if(!dd[0])dd=[];var fl=hV?hV.length:0;for(var n=0,l=o.AW.length;n<l;n++){if(!dd[n])dd[n]=[];if(fl>0)
for(var m=0;m<fl;m++){var B5=AB.C4(uis[m],n);if(B5)dd[n][hV[m]]=B5.fR();}
else
for(var i in d[0]){B5=AB.C4(i,n);if(B5){dd[n][i]=B5.fR();}}}
e5.fT(e9,dd);}
h8(id,index,h7,v,select=null,eO=true){id=e5.iS(id);index=e5.iS(index);v=e5.iS(v);h7=e5.iS(h7);if(index=="list"||(isNaN(v)&&String(v).search(/\[|\.[a-zA-Z]/)>0)){v=e5.fR(v);}
if(index=="sel"){f(AB.j1.index);}else if(index=="all"||index=="list"){if(!AB.AX[id])return;for(var n=0,l=AB.AX[id].length;n<l;n++){f(n);}}else{f(index);}
function f(i){var o=AB.C4(id,i);if(!o)return;if(select=="parent"){if(o.parent)o=o.parent;else return;}else if(select=="eT"){for(var n=0,l=o.AW.length;n<l;n++){o.AW[n].hY(h7,v,eO);}
return;}
o.hY(h7,v instanceof Array?v[i][h7]:v,eO);}}
h6(id,index,h7,e9){id=e5.iS(id);index=e5.iS(index);var o=AB.C4(id,index);if(!o)return;e5.fT(e9,o.hZ(h7));}
h4(id,index,attr,v,select=null,eO=true){id=e5.iS(id);index=e5.iS(index);v=e5.iS(v);if(id=="main"){if(iJ.fK){iJ.fK[attr]=v;return;}
can.AR[attr]=v;return;}
if(index=="list"||(isNaN(v)&&String(v).search(/\[|\.[a-zA-Z]/)>0)){v=e5.fR(v);}
if(index=="sel"){f(AB.j1.index);}else if(index=="all"||index=="list"){if(!AB.AX[id])return;for(var n=0,l=AB.AX[id].length;n<l;n++){f(n);}}else f(index);function f(i){var o=AB.C4(id,i);if(!o)return;if(select=="parent"){if(o.parent)o=o.parent;else return;}
if(!v&&v!==0)return;o.gO(attr,v instanceof Array&&v[i]?v[i][attr]:v,eO);}}
h3(id,index,attr,e9){id=e5.iS(id);index=e5.iS(index);if(id=="main"){if(iJ.fK){e5.fT(e9,iJ.fK[attr]);return;}
e5.fT(e9,can.AR[attr]);return;}
var o=AB.C4(id,index);if(!o)return;e5.fT(e9,o.gN(attr));}
resize(){super.resize();e6.gE(this.onResize);}}
class iJ extends B1{constructor(){super();this.mod="canvas";}}
iJ._tree=null;iJ.fK=null;iJ.j1=null;iJ.hF=null;var p=iJ.prototype;p.g4=function(d,parent){this.id=d.id;this.parent=parent;this.data=d;this.style=AB.g2(this);this.AV=false;this.g3();AB.gJ(this);if(this._editMode)return;this.gQ();iJ.fK=this;this.eA(d,this.style);this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;var B5=this;this.eK.addEventListener("mousedown",function(e){e6.gE(B5.mouseDown);});this.eK.addEventListener("mouseup",function(e){e6.gE(B5.mouseUp);});e6.gE(d.onshow);this._zoom=1;}
p.gQ=function(){var d=this.data;if(!d.data)return;var dd=e5.fR(d.data);if(!dd||dd.id=="main")return;if(iJ.hF){var ss=this.style,s=iJ.hF.style.main;ss.width=s.width;ss.height=s.height;this.g3();}
var i=AB.gM(dd.mod);if(!i)return;i.index=this.index;i._editMode=true;this.addChild(i);i.g4(dd,this);this.gS=i;this.zoom(this._zoom);}
p.zoom=function(v){this._zoom=this.scaleX=this.scaleY=v;this.AK=(can.AR.width-this.width*this.scaleX)/2;this.y=(can.AR.height-this.height*this.scaleY)/2;}
p.resetStyle=function(){this.g3();}
p.eA=function(d,ss){var o=this.eK;o.removeEventListener("mouseup",onMouseUp);o.addEventListener("mouseup",onMouseUp,false);function onMouseUp(e){var tar=Event.B8(e);TreeEd.select(tar);e6.gE(o.mouseUp);}}
p.gP=function(){if(this._editMode)return;if(this.gS)this.gS.clear();this.gS=null;this.gQ();}
p.clear=function(){this.visible=true;if(this.gS)this.gS.clear();if(this.parent)this.parent.removeChild(this);e6.gE(this.onHide);AB.gL(this);}
p.gO=function(attr,v,eO=true){if(attr=="data"){this.data.data=v;if(eO)this.gQ();}
this[attr]=v;}
iJ.historyIndex=0;iJ.setHistory=function(){if(!iJ.history)iJ.history=[];iJ.history.push(e5.d9(can.data.data.nodes));iJ.historyIndex++;if(iJ.historyIndex>50){iJ.historyIndex=50;iJ.history.shift();}
iJ.history.length=iJ.historyIndex;if(!TreeEd.j1||!TreeEd.j1.componentData)return;TreeEd.j1.componentData.timestamp=new Date().getTime();TreeEd.j1.componentData.author=can.data.data.user;}
iJ.fA=function(objId,objIndex=-1){objId=e5.iS(objId);objIndex=e5.iS(objIndex);if(objId=="main"){var o=iJ.fK;}else{o=AB.C4(objId,objIndex);if(!o&&TreeEd.j1)o=AB.C4(TreeEd.j1.componentId,objIndex);}
if(!o)return null;else return o;}
AB.hB.canvas=iJ;iJ._selectedId;e6.push([["EDCONF",function(i4){can.data.data.config={};iJ.dS=can.data.data.config.CAN_INDEX_PATH='';can.data.data.config.CAN_DEBUG_VALUE=''
var d=e5.iS(i4);if(!d)return;for(var n=0;n<d.length;n++){if(d[n].name)
can.data.data.config["CAN_"+d[n].name]=d[n].value;}
iJ.dS=can.data.data.config.CAN_INDEX_PATH;}],["EDT0",function(f,v){f=e5.iS(f);if(v)v=eval('['+e5.iS(v)+']');iJ.fK[f](...v);}],["EDT1",function(objId,objIndex,iW,i4){var o=iJ.fA(objId,objIndex),ls=AB.gG(iW);if(!o&&iJ._selectedId)o=iJ.fA(iJ._selectedId);if(!o||!ls)return;i4=e5.iS(i4);var d=e5.fV(i4);if(!d){ls.fS(d);return;}
if(!d[0])d.shift();for(var n=0,l=d.length;n<l;n++){let v=o.data[d[n][iJ._tree.attrfield]];d[n][iJ._tree.valuefield]=!v?"":v;}
ls.CR=i4;ls.fS(d);}],["EDT2",function(objId,objIndex,iW,i4){objId=e5.iS(objId);if(objId=="main"){var o=iJ.fK,ss=iJ.fK.style;}else{var o=iJ.fA(objId,objIndex);if(!o&&iJ._selectedId)o=iJ.fA(iJ._selectedId);if(!o)return;objId=o.id;ss=iJ.hF.style[objId];}
ls=AB.gG(iW);if(!ls||!ss)return;i4=e5.iS(i4);var d=e5.fV(i4);if(!d){ls.fS(d);return;}
if(!d[0])d.shift();for(let n=0,l=d.length;n<l;n++){let v=ss[d[n][iJ._tree.attrfield]];d[n][iJ._tree.valuefield]=!v?"":v;}
ls.CR=i4;ls.fS(d);}],["EDT3",function(objId,objIndex,i4){var o=iJ.fA(objId,objIndex);if(!o&&iJ._selectedId)o=iJ.fA(iJ._selectedId);if(!o)return;objId=o.id;i4=e5.iS(i4);var d=e5.fV(i4);if(!d)return;if(!d[0])d.shift();for(var n=0,l=d.length;n<l;n++){let v=d[n][iJ._tree.valuefield],m=d[n][iJ._tree.attrfield];if(m=="id"){if(v!=objId){if(!v){v="_";}
if(AB.h1(iJ.hF.components,v)){alert("存在重名组件:"+v);return;}else if(v.charAt(0)=="_"){v="_"+o.mod+String.randomId().substr(5);}}}
if(v!="")o.data[d[n][iJ._tree.attrfield]]=v;else delete o.data[d[n][iJ._tree.attrfield]];}
if(o.data.id!=objId){if(o.parent==iJ.fK)var dd=iJ.hF.components.childNodes;else dd=o.parent.data.childNodes;dd[o.data.id]=o.data;iJ.hF.style[o.data.id]=e5.d9(iJ.hF.style[objId]);delete dd[objId];iJ._selectedId=o.data.id;if(!AB.h1(iJ.hF.components,objId))delete iJ.hF.style[objId];iJ._tree.gP();iJ.fK.gP();}
iJ.setHistory();}],["EDT4",function(objId,objIndex,i4){var o=iJ.fA(objId,objIndex);if(!o&&iJ._selectedId)o=iJ.fA(iJ._selectedId);if(!o)return;objId=o==iJ.fK?objId="main":o.id;i4=e5.iS(i4);var d=e5.fV(i4);if(!d)return;if(!d[0])d.shift();if(o.data.bindStyle)var dd=iJ.hF.style[o.data.bindStyle];for(let n=0,l=d.length;n<l;n++){let v=d[n][iJ._tree.valuefield],a=d[n][iJ._tree.attrfield];if(v!=""){let vv=e5.iS(v);iJ.hF.style[objId][a]=v;if(vv!==null){o.style[a]=vv;}}else{delete o.style[a];delete iJ.hF.style[objId][a];}
if(dd&&!o.style[a])o.style[a]=dd[a];}
o.g3();iJ.setHistory();}],["EDT5",function(objId,objIndex,iW,i4){objId=e5.iS(objId);objIndex=e5.iS(objIndex);if(objId=="main"){var o=iJ.fK;}else{o=AB.C4(objId,objIndex);if(!o&&iJ._selectedId)o=iJ.fA(iJ._selectedId);}
var ls=AB.gG(iW);if(!o||!ls)return;i4=e5.iS(i4);var d=e5.fV(i4);if(!d){ls.fS(d);return;}
if(!d[0])d.shift();for(var n=0,l=d.length;n<l;n++){var s=d[n][iJ._tree.attrfield];if(objId=="main"){var v=iJ.hF.methods["main_"+d[n][iJ._tree.attrfield]];}else{var i=o.data[s];if(i){var a=i.split("_");if(a[0]!=o.id){v=iJ.hF.methods[o.id+"_"+a[1]]=e5.d9(iJ.hF.methods[i]);o.data[s]=o.id+"_"+a[1];delete iJ.hF.methods[i];}else{iJ.hF.methods[i]=e5.d9(iJ.hF.methods[i]);v=iJ.hF.methods[i];}}else v=null;}
d[n][iJ._tree.valuefield]=!v?"":v;}
ls.CR=i4;ls.fS(d);}],["EDT6",function(objId,i4,iX){objId=e5.iS(objId);iX=e5.iS(iX);i4=e5.iS(i4);var d=e5.fR(i4);if(d&&typeof d=="object")d=e5.C7(d);if(d==="")return;if(objId=="main"){if(!d){delete iJ.hF.methods["main_"+iX];delete iJ.hF.components[iX]
return;}
iJ.hF.methods["main_"+iX]=d;iJ.hF.components[iX]="main_"+iX;}else{var o=iJ.fA(objId);if(!o&&iJ._selectedId)o=iJ.fA(iJ._selectedId);if(!o)return;if(!d){delete iJ.hF.methods[o.data[iX]];delete o.data[iX];return;}
o.data[iX]=o.id+"_"+iX;iJ.hF.methods[o.data[iX]]=d;}
iJ.setHistory();}],["EDT7",function(id,parentName){id=e5.iS(id);parentName=e5.iS(parentName);if(!parentName)return;var d=e5.d9(AB.h1(can.data.components,id)),p=parentName=="main"?iJ.fK:AB.gG(parentName);if(!p||p.mod=="text"||p.mod=="input"||p.mod=="value"||p.mod=="image")return;id="_"+d.mod+String.randomId().substr(5);iJ.hF.style[id]=e5.d9(can.data.style[d.id]);if(p&&iJ.hF.style[id])iJ.hF.style[id].zIndex=p.AW?p.AW.length+1:0;d.id=id;var dd=parentName=="main"||!p?iJ.hF.components:p.data;if(!dd.childNodes)dd.childNodes={};dd.childNodes[id]=d;f(d);function f(d){c=d.childNodes;if(c){for(var n in c){id=n;iJ.hF.style[id]=e5.d9(can.data.style[id]);if(c)f(c[n]);}}}
iJ.fK.gP();iJ._tree.gP();iJ.setHistory();}],["EDT8",function(objId){var o=iJ.fA(objId,-1);if(!o&&iJ._selectedId)o=iJ.fA(iJ._selectedId);if(!o)return;objId=o.id;var v=iJ.hF.style[objId];if(o!=can.AR&&o.data.bindStyle)var dd=iJ.hF.style[o.data.bindStyle];if(!v)return;var s,changed=false,vl,vt,vw,vh;if(v.left){if(isNaN(v.left)){s=v.left.substr(-1).toUpperCase();if(s=="%")vl=Math.round(o.x/o.parent.width*100)+"%";else if(s=="R")vl=parseInt(Math.round(o.parent.width-o.width-o.x))+"R";else if(s=="C")vl=parseInt(o.x-Math.round((o.parent.width-o.width)/2))+"C";}else{vl=Math.round(o.x);}}else if(!dd||!dd.left){vl=Math.round(o.x);}
if(vl!=v.left){v.left=vl;changed=true;}
if(dd&&dd.left==v.left)delete v.left;if(v.top){if(isNaN(v.top)){s=v.top.substr(-1).toUpperCase();if(s=="%")vt=Math.round(o.y/o.parent.height*100)+"%";else if(s=="B")vt=parseInt(Math.round(o.parent.height-o.height-o.y))+"B";else if(s=="C")vt=parseInt(o.y-Math.round((o.parent.height-o.height)/2))+"C";}else{vt=Math.round(o.y);}}else if(!dd||!dd.top){vt=Math.round(o.y);}
if(vt&&vt!=v.top){v.top=vt;changed=true;}
if(dd&&dd.top==v.top)delete v.top;if(v.width){if(isNaN(v.width)){s=v.width.substr(-1).toUpperCase();if(s=="%")vw=Math.round(o.width/o.parent.width*100)+"%";else if(s=="R")vw=parseInt(Math.round(o.parent.width-o.width-o.x))+"R";}else{vw=o.width;}}else if(!dd||!dd.width){vw=o.width;}
if(vw&&vw!=v.width){v.width=vw;changed=true;}
if(dd&&dd.width==v.width)delete v.width;if(v.height){if(isNaN(v.height)){s=v.height.substr(-1).toUpperCase();if(s=="%")vh=Math.round(o.height/o.parent.height*100)+"%";else if(s=="B")vh=parseInt(Math.round(o.parent.height-o.height-o.y))+"B";}else{vh=o.height;}}else if(!dd||!dd.height){vh=o.height;}
if(vh&&vh!=v.height){v.height=vh;changed=true;}
if(dd&&dd.height==v.height)delete v.height;if(o.mod=="style"){var d=o.data;if(d.type>0){delete v.left;delete v.top;}
if(d.type>1){delete v.width;delete v.height;}}
if(changed)iJ.setHistory();}],["EDT9",function(hW,index){hW=e5.iS(hW);var o=AB.gG(hW);if(!o||!o.componentData)return;o.componentData.open=!o.componentData.open;}],["EDT10",function(iY,d){iY=e5.iS(iY);d=e5.iS(d);e5.C5(iY,d);}],["EDT11",function(i4){var d={tween:[{id:0},{x:-1,id:1,dur:5},{x:1,id:2,dur:5},{id:3,y:-1,dur:5},{id:4,y:1,dur:5},{alpha:0,id:5,dur:5},{alpha:1,id:6,dur:5}],config:{scale:2},data:{assets:[{id:"",src:"",cache:0}],action:[{id:"",data:""}],config:[{name:"INDEX_PATH",value:""},{name:"DEBUG_VALUE",value:""}]},style:{main:{height:1280,top:80,left:600,width:720,backgroundColor:"rgba(255,255,255,1)"}},components:{mod:"main",id:"main",childNodes:{valueGroup:{id:"valueGroup",mod:"group",childNodes:{gX:{mod:"value",id:"gX"},gY:{mod:"value",id:"gY"}}},style:{id:"style",mod:"group"}},onload:"main_onload"},methods:{main_onload:[{value:["valueGroup",-1,0,""],name:"UI1"},{value:["gY","gX","",""],name:"UI0"}]}};e5.fT(i4,d);iJ._tree.gP();iJ.fK.gP();}],["EDT12",function(hW){hW=e5.iS(hW);var o=AB.gG(hW);if(!o||!o.parent)return;var n=String.randomId().substr(5),d=AB.d9(o.data,iJ.hF,"",n);if(o.parent==iJ.fK){iJ.hF.components.childNodes[d.id]=d;}else{if(!o.parent.data.childNodes)o.parent.data.childNodes={};o.parent.data.childNodes[d.id]=d;}
iJ._tree.gP();iJ.fK.gP();}],["EDT13",function(hW){hW=e5.iS(hW);var o=AB.gG(hW);if(!o||!o.parent)return;if(o.parent==iJ.fK){o.clear();delete iJ.hF.components.childNodes[o.id];}else{if(o.parent&&o.parent.data){delete o.parent.data.childNodes[o.id];o.clear();}}
iJ._tree.gP();iJ.fK.gP();}],["EDT14",function(d,e9){if(d=="_ROOT")d=data;else d=e5.fR(d);d=e5.encodeComp(d);e5.fT(e9,d);}],["EDT15",function(hW,e9){hW=e5.iS(hW);var o=AB.gG(hW);if(!o)return;let r=CompLib.getCompData(o);console.log("导出数据:",r);e5.fT(e9,r);}],["EDT16",function(parentName,d){parentName=e5.iS(parentName);var o=parentName=="main"?iJ.fK:AB.gG(parentName);if(!o)return;if(o==iJ.fK){var dd=iJ.hF.components;}else{dd=o.data;}
d=e5.fR(d);if(!dd.childNodes)dd.childNodes={};dd.childNodes[d.data.id]=d.data;iJ.hF.style=Object.assign(iJ.hF.style,d.style);iJ.hF.methods=Object.assign(iJ.hF.methods,d.methods);console.log("导入结果:",dd)}],["EDT17",function(id){id=e5.iS(id);var d=AB.h1(iJ.hF.components,id);if(!d)return;can.data.data[iJ.fK.data.data]=d;iJ._tree.gP();iJ.fK.gP();}],["EDT18",function(){iJ.setHistory();}],["EDT19",function(){if(!iJ.history||iJ.historyIndex<=0)return;iJ.historyIndex--;can.data.data.nodes=e5.d9(iJ.history[iJ.historyIndex]);iJ._tree.gP();iJ.fK.gP();}],["EDT20",function(){if(!iJ.history||iJ.historyIndex>iJ.history.length-1)return;can.data.data.nodes=e5.d9(iJ.history[iJ.historyIndex]);iJ._tree.gP();iJ.fK.gP();iJ.historyIndex++;}],["EDT21",function(k){k=e5.iS(k);if(TreeEd.searchKey!=k){TreeEd.searchKey=k;TreeEd.searchIndex=0;TreeEd.searchResult=[];f(iJ.hF.components);}else{TreeEd.searchIndex++;if(TreeEd.searchIndex>=TreeEd.searchResult.length){TreeEd.searchIndex=0;}}
function f(d){if(d.id.indexOf(k)>-1){TreeEd.searchResult.push(d.id);}
if(d.childNodes){for(var i in d.childNodes){var r=f(d.childNodes[i]);if(r)TreeEd.searchResult.push(r);}}}
var d=AB.h1(iJ.hF.components,TreeEd.searchResult[TreeEd.searchIndex]);can.data.data[iJ.fK.data.data]=d;iJ.fK.gP();TreeEd.select(AB.gG(k));}],["EDT22",function(objId,inputId,inputIdx,m){objId=e5.iS(objId);var v=iJ.hF.style[objId];inputIdx=e5.iS(inputIdx);var t=AB.C4(e5.iS(inputId),e5.iS(inputIdx)),o=AB.gG(objId);if(inputIdx>3)return;if(m==1){if(inputIdx==0)v.left=t.value=parseInt(o.x/o.parent.width*100)+"%";else if(inputIdx==1)v.top=t.value=parseInt(o.y/o.parent.height*100)+"%";else if(inputIdx==2)v.width=t.value=parseInt(o.width/o.parent.width*100)+"%";else if(inputIdx==3)v.height=t.value=parseInt(o.height/o.parent.height*100)+"%";}else if(m==0){if(inputIdx==0)v.left=t.value=o.x;else if(inputIdx==1)v.top=t.value=o.y;else if(inputIdx==2)v.width=t.value=o.width;else if(inputIdx==3)v.height=t.value=o.height;}else if(m==2){if(inputIdx==0)v.left=t.value=parseInt(o.x-Math.round((o.parent.width-o.width)/2))+"C";else if(inputIdx==1)v.top=t.value=parseInt(o.y-Math.round((o.parent.height-o.height)/2))+"C";}else if(m==3){if(inputIdx==0)v.left=t.value=parseInt(Math.round(o.parent.width-o.width-o.x))+"R";else if(inputIdx==2)v.width=t.value=parseInt(Math.round(o.parent.width-o.width-o.x))+"R";}else if(m==4){if(inputIdx==1)v.top=t.value=parseInt(Math.round(o.parent.height-o.height-o.y))+"B";else if(inputIdx==3)v.height=t.value=parseInt(Math.round(o.parent.height-o.height-o.y))+"B";}}],["EDT23",function(hW,sta){hW=e5.iS(hW);sta=e5.iS(sta);var o=AB.gG(hW);if(!o||!o.componentData)return;if(!sta)delete o.componentData.hidden;else o.componentData.hidden=1;}],["EDT24",function(s){s=e5.iS(s);if(!s.match(/\(/))s+='()';s="eE.editor."+s;return eval(s);}],["ACT1",function(actionlist,i4,inputListId){actionlist=e5.iS(actionlist);var o=AB.gG(actionlist),a=can.data.data.actions,d=e5.fR(i4);if(!d){if(o)o.CQ();return;}
if(typeof d=="string"){d=eval(d);}
for(var n=0,l=d.length;n<l;n++){let aa=iZ(d[n].name);if(!aa)continue;d[n].title=aa.title;var dd=[],attrs=aa.attr.split(","),op=aa.options,df=aa.value;for(var m=0,ll=attrs.length;m<ll;m++){if(attrs[m]=="")continue;dd[m]={};dd[m].attr=attrs[m];dd[m].value=d[n]!=undefined&&d[n].value!=undefined&&d[n].value[m]!=undefined?d[n].value[m]:df&&df[n]!=undefined?df[n]:"";if(op&&op[m]!=undefined&&op[m]!="")dd[m].options=op[m];}
d[n].color=aa.color;can.data.data[i4+n]=dd;}
o.CR=i4;o.gP();for(var n=0,l=d.length;n<l;n++){var ls=AB.C4(inputListId,n),c=ls.parent;ls.CR=i4+n;if(d[n]&&d[n].color)c.style.backgroundColor=d[n].color;c.gP();if(can.data.data[i4+n]){var a=B1.iQ(ls,"value");for(var nn=0,ll=a.length;nn<ll;nn++){var d=can.data.data[i4+n][nn];if(!d)continue;a[nn].options=d.options;if(d.options){if(d.options=="A"){a[nn].type="action";d.options=null;}else{a[nn].type="select";}}else{a[nn].type="text";}
a[nn].fS(d.value);}}}
o.flex();function iZ(actionName){for(var nn=0,ll=a.length;nn<ll;nn++){if(a[nn].name==actionName)return a[nn];}}}],["ACT2",function(actionlist,i4){i4=e5.iS(i4);actionlist=e5.iS(actionlist);var o=AB.gG(actionlist);if(!o)return;var d=o.AW,s=[];for(var n=0,l=d.length;n<l;n++){var a=B1.iQ(d[n],"value"),i=B1.iQ(d[n],"name")[0],r={};if(!a||!i)continue;var v=[];for(var m=0,ll=a.length;m<ll;m++)v.push(a[m].fR());r.value=v;r.name=i.fR();s.push(r);}
e5.fT(i4,s);}],["ACT3",function(d,i4){if(d.charAt(0)=="@"){var o=AB.gG(d.substr(1));if(!o)return;var v=o.fR();}else if(d.charAt(0)=="$"){v=e5.fR(d.substr(1));}
v=JSON.parse(v);e5.fT(i4,v);}],["FIX1",function(){if(!iJ.hF)return;var d=iJ.hF.components;c(d);function c(d){if(d.childNodes){for(var i in d.childNodes){if(d.childNodes[i].id!=i){console.log("fixed:"+i);d.childNodes[d.childNodes[i].id]=d.childNodes[i];delete d.childNodes[i];}else{for(var ii in d.childNodes[i]){if(d.childNodes[i].width){delete d.childNodes[i].width;delete d.childNodes[i].height;}}
c(d.childNodes[i]);}}}}
d=iJ.hF.style;var ss=JSON.stringify(iJ.hF.components);for(var s in d){if(ss.indexOf('"'+s+'"')<0){console.log(s);delete d[s];}}
d=iJ.hF.data;for(var i in d){var dd=d[i];var a=[];for(var ii in dd){if(!isNaN(ii)){a.push(e5.d9(dd[ii]));}}
if(a.length>0){d[i]=a;}
dd=d[i];for(var n=0,l=dd.length;n<l;n++){var ddd=dd[n];for(var iii in ddd){var dddd=ddd[iii],aa=[];if(typeof ddd[iii]=="object"){for(var iiii in dddd){if(!isNaN(iiii)){aa.push(e5.d9(dddd[iiii]));}}
if(aa.length>0)ddd[iii]=aa;}}}}
d=iJ.hF.methods;for(var i in d){var dd=d[i];var a=[];for(var ii in dd){if(!isNaN(ii)){a.push(e5.d9(dd[ii]));}
var ddd=dd[ii].value,aa=[];for(var iii in ddd){if(!isNaN(iii)){aa.push(e5.d9(ddd[iii]));}}
if(aa.length>0){dd[ii].value=aa;}}
if(a.length>0){d[i]=a;}}
if(iJ.history)iJ.history.length=0;}]]);function setActionValue(d,v){var o=can.data.data[d];o.fS(v);}
iJ.setRoot=function(){var d=iJ.hF.components;f(d);function f(d){if(d.childNodes){for(var n in d.childNodes){var i=d.childNodes[n];if(!d.root)i.root=i.id;else i.root=d.root;f(i);}}}}
class TreeEd extends BZ{constructor(){super();this.mod="treeEd";}
resize(){super.resize();this.gP();}}
TreeEd.nodes=[];TreeEd.iT=0;TreeEd.j1=null;TreeEd.searchResult=[];var p=TreeEd.prototype;p.set=function(d){A7.jX(this);this.style=AB.g2(this);this.g3();this.container.x=this.container.y=0;this.attrfield=d.attrfield;this.valuefield=d.valuefield;AB.gJ(this);if(this._editMode){this.dL();return;}
iJ._tree=this;this.gQ();this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;this.eA(d,this.style);e6.gE(d.onshow);}
p.onScroll=function(v){this.container.y+=v;if(this.container.y<this.AI-this.dW)this.container.y=this.AI-this.dW;if(this.container.y>=0)this.container.y=0;}
p._setEvent=function(d,ss){var B5=this,o=this.container.eK;this.gW=null;var objMoveOver=null;Event.B3(this,{mouseDown:function(ev){e6.gE(B5.mouseDown);can.timer.play(2*can.timer.g6/3,1,null,function(){if(Event.fC)return;EditUtils.instance.clear();var tar=Event.B8(Event.mouseEvent);if(!tar)return;B5.gW=tar;let p1=B5.gW.j8();B5.gW.x=p1.x+40;B5.gW.y=p1.y;can.AR.addChild(B5.gW);Event.B3(B5.gW,{mouseMove:_mouseMove})},false,"gV");},mouseUp:function(ev){if(B5.gW){var g=objMoveOver;if(g&&g.mod=="treenode"&!g.pY){var gg=g.componentData;if(gg&&gg.mod!="text"&&gg.mod!="input"&&gg.mod!="value"&&gg.mod!="image"){if(!gg.childNodes)gg.childNodes={};gg.childNodes[B5.gW.componentId]=e5.d9(B5.gW.componentData);delete B5.gW.parentNode.componentData.childNodes[B5.gW.componentId];iJ.setHistory();}}else if(g){if(g.parentNode!=B5.gW.parentNode){g.parentNode.componentData.childNodes[B5.gW.componentId]=B5.gW.componentData;delete B5.gW.parentNode.componentData.childNodes[B5.gW.componentId];var a=g.parentNode.nodes;a.splice(a.indexOf(g),0,B5.gW);for(var n=0,l=a.length;n<l;n++){if(iJ.hF.style[a[n].componentId])iJ.hF.style[a[n].componentId].zIndex=l-n;}}else{var a=g.parentNode.nodes,i=iJ.hF.style[g.componentId],l=a.length;if(i)i=i.zIndex||0;if(i>=l){i=l+1;}else{for(var n=i+1;n<l+1;n++){let m=l-n;if(iJ.hF.style[a[m].componentId])iJ.hF.style[a[m].componentId].zIndex++;}}
if(iJ.hF.style[B5.gW.componentId])iJ.hF.style[B5.gW.componentId].zIndex=i+1;}
objMoveOver.pY=null;iJ.setHistory();}
B5.gP();iJ.fK.gP();objMoveOver=B5.gW=null;return;}
var tar=Event.B8(Event.mouseEvent);if(!tar||tar.mod!="treenode"||AB.j1==o||Event.fC)return;objMoveOver=null;var i=tar.index,r=tar.AQ,id=r?r.componentId:tar.componentId;can.data.data[iJ.fK.data.data]=id=="main"?iJ.hF.components:iJ.hF.components.childNodes[id];iJ.fK.gP();B5.gS.clear();TreeEd.iT=0;B5.gQ();TreeEd.j1=TreeEd.nodes[i];e6.gE(B5.mouseUp);TreeEd.nodes[i].g3("activated");}});function _mouseMove(ev){if(!B5.gW)return
let s=can.A6.scale;B5.gW.AK=ev.clientX*s+10;B5.gW.y=ev.clientY*s;if(B5.gW.x<o.style.lineWidth){B5.gW.x=o.style.lineWidth;}else if(B5.gW.x>o.fD-o.style.lineWidth-B5.gW.style.width){B5.gW.x=o.fD-o.style.lineWidth-B5.gW.style.width;}
if(B5.gW.y<o.style.lineHeight){B5.gW.y=o.style.lineHeight;}else if(B5.gW.y>o.fE-o.style.lineHeight-B5.gW.style.height){B5.gW.y=o.fE-o.style.lineHeight-B5.gW.style.height;}
var g=Event.B8(Event.mouseEvent);if(g&&g.mod=="treenode"){if(objMoveOver){if(objMoveOver.pY){objMoveOver.y=objMoveOver.pY;objMoveOver.pY=null;}}
objMoveOver=g;if(ev.clientY-g.eK.getBoundingClientRect().top<10){if(!objMoveOver.pY){objMoveOver.pY=objMoveOver.y;objMoveOver.y+=20;}}}}}
p.eA=function(d,ss){var B5=this,o=this.container.eK;if(can.device=="pc"){o.onmouseover=function(){hN.j1=B5;}
o.onmouseout=function(){hN.j1=null;}}
document.removeEventListener("mouseup",onMouseUp);document.removeEventListener("mousemove",onMouseMove);this.gW=null;o.addEventListener("mousedown",function(e){e6.gE(B5.mouseDown);can.timer.play(2*can.timer.g6/3,1,null,function(){if(Event.fC)return;EditUtils.instance.clear();var tar=Event.B8(e);if(!tar)return;B5.gW=tar;p1=B5.gW.j8();B5.gW.x=p1.x+40;B5.gW.y=p1.y;can.AR.addChild(B5.gW);document.addEventListener("mousemove",onMouseMove,false);},false,"gV");document.addEventListener("mouseup",onMouseUp,false);});function onMouseUp(e){document.removeEventListener("mouseup",onMouseUp);if(B5.gW){document.removeEventListener("mousemove",onMouseMove);var g=objMoveOver;if(g&&g.mod=="treenode"&!g.pY){var gg=g.componentData;if(gg.id!=B5.gW.parentNode.componentId&&gg&&gg.mod!="text"&&gg.mod!="input"&&gg.mod!="value"&&gg.mod!="image"){if(!gg.childNodes)gg.childNodes={};gg.childNodes[B5.gW.componentId]=e5.d9(B5.gW.componentData);delete B5.gW.parentNode.componentData.childNodes[B5.gW.componentId];iJ.setHistory();}}else if(g){if(g.parentNode!=B5.gW.parentNode){g.parentNode.componentData.childNodes[B5.gW.componentId]=B5.gW.componentData;delete B5.gW.parentNode.componentData.childNodes[B5.gW.componentId];var a=g.parentNode.nodes;a.splice(a.indexOf(g),0,B5.gW);for(var n=0,l=a.length;n<l;n++){if(iJ.hF.style[a[n].componentId])iJ.hF.style[a[n].componentId].zIndex=l-n;}}else{var a=g.parentNode.nodes,i=iJ.hF.style[g.componentId],l=a.length;if(i)i=i.zIndex||0;if(i>=l){i=l+1;}else{for(var n=i+1;n<l+1;n++){let m=l-n;if(iJ.hF.style[a[m].componentId])iJ.hF.style[a[m].componentId].zIndex++;}}
if(iJ.hF.style[B5.gW.componentId])iJ.hF.style[B5.gW.componentId].zIndex=i+1;}
objMoveOver.pY=null;iJ.setHistory();}
B5.gW.clear();B5.gP();iJ.fK.gP();objMoveOver=B5.gW=null;return;}
var tar=Event.B8(e);if(B5.container.y<0){if(B5.dW<B5.height)B5.container.y=0;else if(B5.dW+B5.container.y<B5.height)B5.container.y=B5.height-B5.dW;}
if(!tar||tar.mod!="treenode"||AB.j1==o||Event.fC)return;objMoveOver=null;var i=tar.index,r=tar.AQ,id=r?r.componentId:tar.componentId;can.data.data[iJ.fK.data.data]=id=="main"?iJ.hF.components:iJ.hF.components.childNodes[id];iJ.fK.gP();B5.gS.clear();TreeEd.iT=0;B5.gQ();TreeEd.j1=TreeEd.nodes[i];e6.gE(B5.mouseUp);if(TreeEd.j1)TreeEd.j1.g3("activated");}
var objMoveOver=null;function onMouseMove(ev){if(!B5.gW)return;let s=can.A6.scale;B5.gW.AK=ev.clientX*s+10;B5.gW.y=ev.clientY*s;if(B5.gW.x<o.style.lineWidth){B5.gW.x=o.style.lineWidth;}else if(B5.gW.x>o.fD-o.style.lineWidth-B5.gW.style.width){B5.gW.x=o.fD-o.style.lineWidth-B5.gW.style.width;}
if(B5.gW.y<o.style.lineHeight){B5.gW.y=o.style.lineHeight;}else if(B5.gW.y>o.fE-o.style.lineHeight-B5.gW.style.height){B5.gW.y=o.fE-o.style.lineHeight-B5.gW.style.height;}
var g=Event.B8(ev);if(g&&g.mod=="treenode"){if(objMoveOver){if(objMoveOver.pY){objMoveOver.y=objMoveOver.pY;objMoveOver.pY=null;}}
objMoveOver=g;if(ev.clientY-g.eK.getBoundingClientRect().top<10){if(!objMoveOver.pY){objMoveOver.pY=objMoveOver.y;objMoveOver.y+=20;}}}}}
p.gQ=function(){var d=this.data;this.gS=null;TreeEd.iT=TreeEd.nodes.length=0;var dd=e5.fR(d.data);if(!dd)return;iJ.hF=dd;dd=dd.components;var c=d.childNodes;if(c){for(let n in c){var i=AB.gM("treenode");i._editMode=this._editMode;this.addChild(i);i.g4(c[n],this,dd);this.gS=i;break;}}
this.flex();iJ.setRoot();}
p.dL=function(){var d=this.data;var c=d.childNodes;if(c){for(let n in c){var i=AB.gM("box");i._editMode=this._editMode;this.addChild(i);i.g4(c[n],this);break;}}}
p.flex=function(){if(this._editMode)return;var ss=this.style;this.fE=TreeEd.iT*(this.gS.height+8);this.fD=this.width;var B5=this,o=this.container,t;Event.B3(o,{mouseDown:function(ev){can.timer.remove("fL");t=new Date().getTime();B5.fH=ev.clientX;B5.fI=ev.clientY;},mouseMove:function(ev){if(B5.gW)return;o.y=ev.BA;if(B5.height<B5.fE){o.y=ev.BA;}},mouseUp:function(ev){var h=B5.height,H=B5.fE,ss=B5.style,l=new Date().getTime()-t;if(l>500){if(o.y>0){o.y=0;}
return;}
ss=100;if(Math.abs(B5.fI-ev.clientY)>5){var sp=B5.fI>ev.clientY?Math.min((B5.fI-ev.clientY)*ss/l,ss):Math.max((B5.fI-ev.clientY)*ss/l,-ss),s=sp*0.05;can.timer.play(1,20,f1,function(){},false,"fL");return;}
function f1(){var AL=h-H;if(o.y>0||AL>0){o.y=0;can.timer.remove("fL");return;}else if(o.y<AL&&AL<0){o.y=AL;can.timer.remove("fL");return;}
o.y-=sp;sp-=s;}}});this.resetContainerY();}
p.gP=function(){if(this.gS)this.gS.clear();this.gQ();}
p.clear=function(){if(this.gS)this.gS.clear();if(this.parent)this.parent.removeChild(this);e6.gE(this.onHide);AB.gL(this);}
p.gO=function(attr,v,eO=true){if(attr=="data"){this.data.data=v;}else if(attr=="containerX"){this.container.x=v;return;}else if(attr=="containerY"){this.container.y=v;return;}
this[attr]=v;}
p.jN=function(d){this.container.y+=d/2;this.resetContainerY();}
p.resetContainerY=function(){if(this.container.y<this.height-this.dW)this.container.y=this.height-this.dW;if(this.container.y>=0)this.container.y=0;}
TreeEd.select=function(o){if(!o)return;var s=o;o.data.open=true;iJ.j1=o;if(!o||!o.parent||o.parent==can.AR)return;while(o.parent!=can.AR){o=o.parent;if(o&&o.data)o.data.open=true;}
iJ._tree.container.y=0;iJ._tree.gP();for(var n=0,l=TreeEd.nodes.length;n<l;n++){if(TreeEd.nodes[n].componentId==s.id){TreeEd.j1=TreeEd.nodes[n];TreeEd.nodes[n].g3("activated");let y1=TreeEd.nodes[n].j8().y,y2=iJ._tree.height;if(y1>y2/2)iJ._tree.container.y=y2/2-y1;iJ._tree.resetContainerY();return;}}}
class TreeNode extends B1{constructor(){super();this.mod="treenode";this.AV=true;this.f9=1;this.AQ;this.CY=new Graphic();this.eK.appendChild(this.CY.eK);this.CX.classList.add("treenode");}
g4(d,parent,dd=null,parentNode=null){if(!d)return;TreeEd.nodes.push(this);this.id=d.id;this.parent=parent;this.index=TreeEd.iT;TreeEd.iT++;this.data=d;this.style=AB.g2(this);this.g3();this.AW.length=0;var c=d.childNodes,o={};if(!dd)return;if(!dd.id)dd.id="____";this.componentData=dd;this.componentId=o.id=dd.id;o.ico="ico/"+dd.mod+".png";o.hidden=dd.hidden;if(iJ.showInfo&&dd.author){o.author=dd.author;o.update_time=Date.A3(dd.timestamp);}
if(c){for(var n in c){var i=AB.gM(c[n].mod);i.index=this.index;i._editMode=this._editMode;this.addChild(i);if(dd.id&&dd.id.charAt(0)=="_"){var cl={color:"rgba(250,250,250,0.1)"};}
i.g4(c[n],this,cl);i.fS(o);}}
if(this._editMode)return;if(this.AW.length>1){}
this.y=this.height;this.parentNode=parentNode;var cc=dd.childNodes;this.nodes=[];this.iT=1;if(parentNode){this.AQ=parentNode.componentData.id=="main"||!parentNode.AQ?this:parentNode.AQ;}
var a=[];if(cc)
for(var nn in cc)a.push(cc[nn]);if(dd.open||!parentNode){if(a.length>0){a.sort(function(o1,o2){if(!iJ.hF.style[o1.id])return-1;else if(!iJ.hF.style[o2.id])return 1;return iJ.hF.style[o1.id].zIndex<iJ.hF.style[o2.id].zIndex?1:-1;})
for(var n=0,l=a.length;n<l;n++){var i=AB.gM("treenode");i.index=this.index;this.addChild(i);i.g4(this.data,this,a[n],this);this.nodes.push(i);if(iJ.hF.style[i.componentId])iJ.hF.style[i.componentId].zIndex=l-n;}}}
if(a.length==0)delete dd.childNodes;if(this.parentNode){this.parentNode.addChild(this);this.AL=this.parentNode.f9*(this.height+8);this.x=32;}else{this.AL=0;this.x=6;}
if(parentNode){parentNode.f9+=this.f9;this.parentNode=parentNode;}
var g=this.CY,h=this.height/2,c="rgb(90,90,90)";for(var e in dd){if(e.indexOf("on")>-1){if(!iJ.hF.methods[dd[e]])delete iJ.hF.methods[dd[e]];else c="rgb(200,0,100)"}}
g.clear().fill(c).lineStyle(2,"rgb(120,120,120)").drawCircle(0,h,a.length>0?6:3);for(var n=0,l=this.nodes.length;n<l;n++){g.AP(0,h);g.lineTo(0,this.nodes[n].y+h);g.AP(0,this.nodes[n].y+h);g.lineTo(this.nodes[n].x,this.nodes[n].y+h);}
g.end();this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;AB.gJ(this);}
clear(){if(!this.parent)return;this.parentNode=null;this.AQ=null;this.f9=1;this.CY.clear();for(var n=this.AW.length-1;n>=0;n--){var i=this.AW[n];i.clear();}
if(!this._editMode)this.nodes.length=this.AW.length=0;if(this.parent)this.parent.removeChild(this);AB.gL(this);}
fR(){return this.componentId;}}
AB.hB.treeEd=TreeEd;AB.hB.treenode=TreeNode;class hN extends BZ{constructor(){super();this.mod="list";}
set(d,style){A7.jX(this);this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.g3();if(d.data&&!this._editMode){this.CR=d.data;this.fS(e5.fR(this.CR));}else{this.fS([{}]);}
this.enabled=d.enabled||true;this.eA(d,this.style);AB.gJ(this);}
eA(d,ss){if(this._editMode)return;this.gW=null;this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.onDrop=d.ondrop;this.onSelect=d.onselect;this.dbClick=d.ondbclick;var o=this,db=0,tt=0;if(can.device=="pc"&&o.style.overflow=="autoY"){this.container.eK.onmouseover=function(){hN.j1=o;}
this.container.eK.onmouseout=function(){hN.j1=null;}}
Event.B3(this,{mouseDown:function(ev){if(o.onSelect)tt=new Date().getTime();},mouseUp:function(ev){if(o._editMode||Event.fC)return;var t=Event.B8(ev);if(t&&t.name!=o.name){if(o.dbClick){if(db==0){can.timer.play(can.timer.g6/3,1,null,function(){db=0;},false,"DBCLICK");}
db++;if(db==2){e6.gE(o.dbClick,ev);db=0;}
return;}
e6.gE(o.mouseUp,ev);if(o.onSelect&&new Date().getTime()-tt<200)e6.gE(o.onSelect,ev);}}});}
onScroll(v){var h=this.dW;this.container.y+=v;if(this.container.y<this.AI-h)this.container.y=this.AI-h;if(this.container.y>=0)this.container.y=0;}
fS(v){var ed=this._editMode,c=this.data.childNodes,ss=this.style,o=this.AW;this.CQ();if(!v||v instanceof Array==false){if(ed)v=[{}];else return;}
if(c){for(let n in c){var m=c[n];break;}
if(!m)return;let l=ed?1:v.length;l=Math.max(l,this.data.minLength||0);for(let n=0;n<l;n++){if(!o[n]&&m){var i=AB.gM(m.mod);i.index=!ed?n:-1;i._editMode=ed;this.addChild(i);i.g4(m,this);}else{i=o[n];}
if(!ed){i.fS(v[n]);}
i.AV=true;}}
this.flex();}
flex(){var s=this.style,o=this.AW;if(!o[0]){this.d0();return;}
if(!this._editMode&&this.data.arrangement){eval(this.data.arrangement+"(this.AW,this.style)");return;}
var lw=0,lh=0,len=o.length;if(s.display!="flex"){for(n=0;n<len;n++){var i=o[n];if(i.x+i.width>lw)lw=i.x+i.width;if(i.y+i.height>lh)lh=i.y+i.height;}}else{var fd=s.flexDirection,wp=s.flexWrap,jc=s.justifyContent;lw=s.lineWidth?s.lineWidth:0;lh=s.lineHeight?s.lineHeight:0;var w=this.width,h=this.height,my=wp=="wrapReverse"?999999:0;if(fd=="row"){if(jc=="center")var AK=(w-Math.min(len,parseInt(w/(o[0].width+lw)))*(o[0].width+lw))/2+lw/2;else if(jc=="flexEnd")AK=w-lw-Math.min(len,parseInt(w/(o[0].width+lw)))*(o[0].width+lw);else AK=lw>0?lw:0;for(var n=0;n<len;n++){var i=o[n];if(n==0){i.AK=AK;i.y=lh>0?lh:0;continue;}
i.AK=o[n-1].width+o[n-1].x+lw;if(wp=="nowrap"){i.y=lh;continue;}
let _my=o[n-1].y+o[n-1].height+lh;if(_my>my)my=_my;if(i.AK+i.width>w){i.AK=AK;i.y=my;}else{i.y=o[n-1].y;}}}else if(fd=="rowReverse"){for(n=0;n<len;n++){i=o[n];if(n==0){i.AK=w-lw-i.width;if(wp=="wrapReverse")i.AL=h-i.height-lh;else i.y=lh;continue;}
i.AK=o[n-1].x-i.width-lw;if(wp=="nowrap"){i.y=lh;continue;}
if(wp=="wrapReverse"){var _my=o[n-1].y-i.height-lh;if(_my<my)my=_my;this.setChildIndex(i,0);}else{_my=o[n-1].y+o[n-1].height+lh;if(_my>my)my=_my;}
if(i.x<0){i.AK=w-lw-i.width;i.AL=my;}else{i.AL=o[n-1].y;}
i.AN();}}else if(fd=="column"){if(jc=="center")var AL=(h-Math.min(len,parseInt(h/(o[0].height+lh)))*(o[0].height+lh))/2+lh/2;else if(jc=="flexEnd")AL=h-lh-Math.min(len,parseInt(h/(o[0].height+lh)))*(o[0].height+lh);else AL=lh>0?lh:0;for(n=0;n<len;n++){i=o[n];if(n==0){i.AL=AL;i.x=lw>0?lw:0;continue;}
if(n>0){i.AL=o[n-1].height+o[n-1].y+lh;}else{i.AL=lh>0?lh:0;}
i.x=lw;}}else if(fd=="columnReverse"){for(n=len-1;n>=0;n--){i=o[n];if(n<len-1){i.AL=o[n+1].y-i.height-lh;}else{i.AL=h-i.height-lh;}
i.x=lw;}}}
this.d0();}
B4(){var B5=this,o=B5.container,t,isLandscape=can.A6.rotation==-90,w,h,W,H,ss=B5.style;Event.B3(o,{mouseDown:function(ev){h=B5.AI;H=B5.dW;w=B5.AJ;W=B5.dX;clearInterval(B5._rollHandler);t=new Date().getTime();B5.fH=ev.clientX;B5.fI=ev.clientY;},mouseMove:function(ev){var s=B5.style.overflow;if(s!="autoY"&&w<W){o.x=ev.B9;}else if(s!="autoX"&&h<H){o.y=ev.BA;}},mouseUp:function(ev){var l=new Date().getTime()-t;if(ss.overflow=="autoY"){W=w;if(o.y<0){if(H<h)o.y=0;else if(H+o.y<h)o.y=h-H;}}else if(ss.overflow=="autoX"){H=h;if(o.x<0){if(W<w)o.x=0;else if(W+o.x<w)o.x=w-W;}}
if(l>500){if(o.y>0){o.AL=0;}
if(o.x>0){o.AK=0;}
o.AN();return;}
ss=20
var tt=400;if(Math.abs(B5.fI-ev.clientY)>5&&((h<H&&!isLandscape)||(w<W&&isLandscape))){var sp=B5.fI>ev.clientY?Math.min((B5.fI-ev.clientY)*ss/l,ss):Math.max((B5.fI-ev.clientY)*ss/l,-ss),s=sp*0.0025,ff=isLandscape?f2:f1;B5._rollHandler=setInterval(ff,5);return;}else if(Math.abs(B5.fH-ev.clientX)>5&&((w<W&&!isLandscape)||(h<H&&isLandscape))){sp=(B5.fH-ev.clientX)*ss/l;s=sp*0.0025;ff=isLandscape?f1:f2;B5._rollHandler=setInterval(ff,5);return;}
function f1(){if(tt<=0){clearInterval(B5._rollHandler);return;}
tt--;var AL=h-H;if(o.y>0||AL>0){o.y=0;clearInterval(B5._rollHandler);return;}else if(o.y<AL&&AL<0){o.y=AL;clearInterval(B5._rollHandler);return;}
o.y-=sp;sp-=s;}
function f2(){if(tt<=0){clearInterval(B5._rollHandler);return;}
tt--;var AK=w-W;if(o.x>0||AK>0){o.x=0;clearInterval(B5._rollHandler);return;}else if(o.x<AK&&AK<0){o.x=AK;clearInterval(B5._rollHandler);return;}
o.x-=sp*(isLandscape?-1:1);sp-=s;}}});}
gP(){this.fS(e5.fR(this.CR));}
CQ(){this.container.x=this.container.AL=0;while(this.AW[0]){this.AW[0].clear();}
this.AW.length=0;}
filter(fun){for(let n=this.AW.length-1;n>=0;n--){if(!fun(this.AW[n])){this.AW[n].clear();}}
this.flex();}
map(fun){for(let n=0,l=this.AW.length;n<l;n++){fun(this.AW[n]);}}
push(obj){var c=this.data.childNodes;if(c){for(let n in c){var m=c[n];break;}
if(!m)return;var i=AB.gM(m.mod);i.index=this.AW.length;this.addChild(i);i.g4(m,this);i.fS(obj);i.AV=true;}
this.flex();}
removeAt(index){this.removeChild(this.AW[index]);this.flex();}
clear(){this.container.eK.onmouseover=null;this.container.eK.onmouseout=null;super.clear();}
fR(){var r;for(let n=0,l=this.AW.length;n<l;n++){let o=this.AW[n];if(o&&o.fR()){r=r||[];r[n]=o.fR();}}
return r;}}
AB.hB.list=hN;class HtmlLoader extends AB{constructor(){super("foreignObject");this.mod="htmlloader";this._content=A7.jQ("div");this.eK.appendChild(this._content);this._content.style.height=this._content.style.width="100%";this._content.AD=this.AD;}
set(d,style){super.set(d,style);this.onLondEnd=d.onloadend;this.gR=d.onshow;this.onHide=d.onhide;if(d.url){var u=e5.iS(d.url);this.load(u,this.onLondEnd);}else if(!this._editMode&&d.value){this._content.innerHTML=e5.iS(d.value);}
this.g3();if(!this._editMode&&this.style.position=="fixed"){var pp=this.eK.getBoundingClientRect();this._content.style.width=pp.width+"px";this._content.style.height=pp.height+"px";this._content.style.left=pp.x+"px";this._content.style.top=pp.y+"px";this._content.style.position="fixed";can.A6.parent.appendChild(this._content);}
e6.gE(this.gR);}
load(url,end){var o=this;CI.jA((iJ.dS||"")+url,function(r){o._content.innerHTML=r;e6.gE(end);})}
get x(){return this.AK;}
set x(v){this.AK=v;this.eK.setAttribute("x",v);}
get y(){return this.AL;}
set y(v){this.AL=v;this.eK.setAttribute("y",v);}
fR(){return this._content.innerHTML;}
fS(v){this._content.innerHTML=v;}
AT(el=null){if(!this.style)return;var s=this.style,el=this._content;this.gK();el.style.backgroundColor=s.backgroundColor;el.style.fontSize=s.fontSize+"px";}
gP(){super.gP();this.g3();}
clear(){super.clear();this._content.innerHTML='';if(this.style.position=="fixed"&&can.A6.parent.contains(this._content))can.A6.parent.removeChild(this._content);e6.gE(this.onHide);}}
AB.hB.htmlloader=HtmlLoader;class jH extends B1{constructor(){super("g");this.AW=[];this.mod="switch";this.CX=A7.jR(this);this.eK.appendChild(this.CX);var o=this;this.__defineGetter__('value',function(){return o.fR();});this.__defineSetter__('value',function(v){o.fS(v);});}
set(d,style){this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.g3();this.type=d.type;this.group=d.group;var c=d.childNodes;if(c){for(let n in c){let i=AB.gM(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;i.AV=true;this.addChild(i);i.g4(c[n],this);}}
this._defaultValue=d.value;if(d.group){if(!jH.B7[d.group])jH.B7[d.group]=[];jH.B7[d.group][this.id+this.index]=this;}
if(d.options!=undefined){var a=d.options.split("|");this._options=a.map(function(o){if(!isNaN(o))return Number(o);else return o;});}else{this._options=[false,true];}
if(d.value){var r=String(d.value),v;if(this.index>-1&&r.match(/\[\]/i))v=r.replace(/\[\]/g,"["+this.index+"]");else v=d.value;}else{v=d.checked;}
var df=e5.iS(v)?1:0;this.fS(this._options[df]);this.AS();this.eA(d);e6.gE(this.gR);AB.gJ(this);}
bind(v){if(v.match(/{(.*?)}/i)){this._defaultValue=v;return;}
this.cX=v;}
get options(){return this._options;}
set options(v){this._options=v;this.gP();}
fS(v){if(this._defaultValue){var r=this._defaultValue,a=String(r).match(/{(.*?)}/g);if(a){if(r.match(/\$|\@|\{/i)){if(this.index>-1)r=r.replace(/\[\]/g,"["+this.index+"]");v=e5.d8(r);}else{var d=v;for(let n=0,l=a.length;n<l;n++){let s=a[n].substr(1,a[n].length-2);r=r.replace(a[n],d[s]!=null?d[s]:'');}
v=r;}}}
if(this.cX)e5.fT(this.cX,this.fR());if(typeof v=="object")return;this.fB=this._options[1]==e5.iS(v)?1:0;this.g3();}
fR(){return this._options[this.fB];}
eA(d){if(!this._editMode){this.gR=d.onshow;this.onHide=d.onhide;this.mouseDown=d.onmousedown;this.onClick=d.onclick;var o=this;this.mouseUp=function(ev){if(!o.enabled)return;o.B6();e6.gE(d.onmouseup);}
if(d.hitarea){setTimeout(function(){var h=AB.gG(d.hitarea);if(h){h.mouseUp=o.mouseUp;h.mouseDown=o.mouseDown;}},100);}
if(o.AW[0]){o.AW[0].mouseUp=o.mouseUp;}}}
B6(){if(this.group){let g=this.group;for(var i in jH.B7[g]){if(i!=this.id+this.index){jH.B7[g][i].fB=0;jH.B7[g][i].g3();}}
this.fB=1;}else{this.fB=this.fB==1?0:1;}
this.g3();}
get enabled(){return this.dK;}
set enabled(v){this.dK=e5.iS(v);if(this.AW[0])this.AW[0].enabled=this.dK;if(this.style.disabled){if(!this.dK&&!this._editMode)
this.g3(this.style.disabled);else
this.resetStyle();}}
AT(el=null){var s=this.style,el=this.CX;this.gK();if(s.backgroundImage){var bg=s.backgroundImage;if(s.clipping){if(s.clipping=="9"||s.clipping=="9C"){if(A7.BP(bg+"_CACHE_")&&!this._editMode){A7.BQ(el,bg+"_CACHE_");}else{hK.BX(bg+"_CACHE_",can.data.images[s.backgroundImage],this.width,this.height,function(){A7.BQ(el,bg+"_CACHE_");});}}}else
A7.BQ(el,bg);}else{var bg=this.fB==1?s.color:s.backgroundColor;if(bg)el.setAttribute("fill",bg);}
var h=this.AW[0];if(h){if(this.type=="switch"){h.AP(this.fB==0?0:this.width-h.width,(this.height-h.height)/2);}else{h.visible=this.fB==1||this._editMode;h.AP((this.width-h.width)/2,(this.height-h.height)/2);}}
if(s.borderWidth>0){el.setAttribute("stroke-width",s.borderWidth);el.setAttribute("stroke",s.borderColor);}
if(s.borderRadius>0){el.setAttribute("rx",s.borderRadius);el.setAttribute("ry",s.borderRadius);}else{el.removeAttribute("rx");el.removeAttribute("ry");}}
addChild(eT){if(this.AW.length>0)return;eT.parent=this;this.eK.appendChild(eT.eK);this.AW[0]=eT;}
gP(){super.gP();this.fS();}
clear(){if(this.AW[0])this.AW[0].eK.onmouseup=null;super.clear();this.cX=null;}}
jH.B7=[];AB.hB.switch=jH;class hQ extends B1{constructor(){super();this.mod="group";}
get width(){return this.parent.width;}
get height(){return this.parent.height;}
set width(v){}
set height(v){}
set(d,style){if(!this._editMode&&d.type=="unrenderable")return;super.set(d,style);}
AS(){this.visible=this.data.type!="hidden"||this._editMode;}}
AB.hB.group=hQ;class iV extends AB{constructor(){super();this.mod="style";}}
AB.hB.style=iV;class hP{constructor(){this.mod="value";this.index=-1;}
g4(d,parent){this.id=d.id;this.parent=parent;this.name=this.id+(this.index>-1?"["+this.index+"]":"");this.data=d;this.j6=d.value;this.onChange=d.onchange;AB.gJ(this);this.eZ=this.id+(this.index>-1?this.index:"");Obj.set(this);}
fS(v){if(v!=null){if(typeof v=="string"||typeof v=="number"){this.j6=v;}else if(v[this.id]!=null){this.j6=v[this.id];}else{}}
e6.gE(this.onChange);}
fR(){return this.j6;}
gP(){var d=can.data.data;if(d[this.id]||d[this.id]===0){this.j6=d[this.id];}else if(this.j6){d[this.id]=this.j6;}}
gN(attr){if(attr=="parent"){return this.parent.id;}
return this[attr];}
clear(){this.j6=null;if(this.parent){this.parent.AW.splice(this.parent.AW.indexOf(this),1);this.parent=null;}
Obj.remove(this.eZ);AB.gL(this);}}
AB.hB.value=hP;class Template extends B1{constructor(){super();this.mod="template";}
set(d,style){if(this._editMode){super.set(d,style);var dd=iJ.hF;p=this;}else{dd=can.data;p=this.parent;}
var s=this.style=AB.g2(this);if(style)this.style=Object.assign(this.style,style);this.g3();var ss={width:s.width,height:s.height};ss=Object.assign(ss,this._editMode?{left:0,top:0}:{left:s.left,top:s.top});var id=!e5.iS(d.inherit)||this._editMode?d.id:null,o=AB.dC(id,d.index,d.use,p,ss,dd);if(!o||this._editMode)return;if(this.eK.contains(this.CX)){this.eK.removeChild(this.CX);}
this.eK=o.eK;this.eK.node=o;}}
AB.hB.template=Template;class Event{static getTarget(e){return AB.AC[e.target.AD];}
static B8(e){var tar=Event.getTarget(e);if(!tar)return;if(!tar.enabled)tar=tar.parent;return tar;}
static B3(tar,BB){var el=tar.eK,_lk;if(can.device=="pc"){el.onmousedown=function(ev){Event.fC=false;_lk=0;Event.mouseEvent=ev;ev=ev||event;var eX=ev.clientX*can.A6.scale-tar.x,eY=ev.clientY*can.A6.scale-tar.y;ev.B9=eX;ev.BA=eY;el.mv=function(ev){if(_lk<3)_lk++;else Event.fC=true;Event.mouseEvent=ev;ev=ev||event;ev.B9=ev.clientX*can.A6.scale-eX;ev.BA=ev.clientY*can.A6.scale-eY;if(BB.mouseMove)BB.mouseMove(ev);}
el.mu=function(ev){Event.mouseEvent=ev;if(BB.mouseUp)BB.mouseUp(ev);document.removeEventListener("mousemove",el.mv);document.removeEventListener("mouseup",el.mu);}
document.addEventListener("mousemove",el.mv,false);document.addEventListener("mouseup",el.mu,false);if(BB.mouseDown)BB.mouseDown(ev);}}else{var sm,sw;el.ontouchstart=function(ev){var isLandscape=can.A6.rotation==-90,sX=can.A6.stageScaleX,sY=can.A6.stageScaleY;Event.fC=false;_lk=0;Event.mouseEvent=ev;var t=ev.touches[0],eX=(!isLandscape?t.clientX:(can.A6.clientWidth-t.clientY))*sX-tar.x,eY=(!isLandscape?t.clientY:t.clientX)*sY-tar.y;t.B9=eX;t.BA=eY;if(tar.swipeDown||tar.swipeUp||tar.swipeLeft||tar.swipeRight){sw=true;sm=setTimeout(function(){sw=false;},300);}
el.tm=function(ev){if(_lk<1)_lk++;else Event.fC=true;Event.mouseEvent=ev;ev.preventDefault();t=ev.touches[0];t.B9=(!isLandscape?(t.clientX*sX):((can.A6.clientWidth-t.clientY)*sX))-eX;t.BA=(!isLandscape?(t.clientY*sY):(t.clientX*sY))-eY;if(BB.mouseMove)BB.mouseMove(t);}
el.td=function(ev){Event.mouseEvent=ev;if(BB.mouseUp)BB.mouseUp(t);document.removeEventListener("touchmove",el.tm);document.removeEventListener("touchend",el.td);if(!sw)return;if(tar.swipeDown&&t.BA-eY>100){e6.gE(tar.swipeDown,t);}else if(tar.swipeUp&&eY-t.BA>100){e6.gE(tar.swipeUp,t);}else if(tar.swipeRight&&t.B9-eX>100){e6.gE(tar.swipeRight,t);}else if(tar.swipeLeft&&eX-t.B9>100){e6.gE(tar.swipeLeft,t);}
clearTimeout(sm);sw=false;}
document.addEventListener("touchmove",el.tm,{passive:false});document.addEventListener("touchend",el.td,{passive:false});if(BB.mouseDown)BB.mouseDown(t);}}}
static BC(tar){var el=tar.eK;el.ontouchstart=null;el.onmousedown=null;}
static get target(){if(AB.j1)return AB.j1;}}
can.event=Event;class Graphic{constructor(){this.eK=A7.jP("g");this.CT='';this.AW=[];}
start(parent){this.g1=parent;parent.appendChild(this.eK);}
AP(x,y){this.CT+="M"+x+" "+y+" ";return this;}
lineTo(x,y){this.CT+="L"+x+" "+y+" ";return this;}
close(){this.CT+="Z";}
lineStyle(s,c){this.CU=c;this.CV=s;return this;}
fill(c){this.CW=c;return this;}
end(){if(this.CT!=''){var el=this.BD("path");el.setAttribute("d",this.CT);this.BE(el);}
this.AU();return this;}
clear(){this.AU();for(var n=this.AW.length-1;n>=0;n--){this.eK.removeChild(this.AW[n]);this.AW.splice(n,1);}
this.AW.length=0;if(this.g1)this.g1.removeChild(this.eK);return this;}
BD(C6){var el=A7.jP(C6);this.AW.push(el);this.eK.appendChild(el);return el;}
AU(){this.CU=this.CV=this.CW=null;this.CT='';}
BE(el){if(this.CV>0){el.setAttribute("stroke",this.CU);if(this.CU)el.setAttribute("stroke",this.CU);}
if(this.CW)el.setAttribute("fill",this.CW);}
drawRect(x,y,w,h,rx=0,ry=0){let el=this.BD("rect");el.setAttribute("x",x);el.setAttribute("y",y);el.setAttribute("width",w);el.setAttribute("height",h);if(rx>0)el.setAttribute("rx",rx);if(ry>0)el.setAttribute("ry",ry);this.BE(el);return this;}
drawCircle(x,y,r){let el=this.BD("circle");el.setAttribute("cx",x);el.setAttribute("cy",y);el.setAttribute("r",r);this.BE(el);return this;}
drawEllipse(cx,cy,rx,ry){let el=this.BD("ellipse");el.setAttribute("rx",rx);el.setAttribute("ry",ry);el.setAttribute("cx",cx);el.setAttribute("cy",cy);this.BE(el);return this;}}
can.graphic=Graphic;class EditUtils extends B1{constructor(){super();e6.push([["EDU2",this.setObject],["EDU3",this.g3],["EDU4",this.clear],["EDU5",this.createColorPicker],["EDU6",this.CF],["EDU7",this.listImageAssets]]);this.init();}
init(){this.CAN_TR_X=new B1();this.CAN_TR_Y=new B1();this.CAN_TR_XY=new B1();this.CAN_TR_R=new B1();this.CAN_TR_XL=new B1();this.CAN_TR_YT=new B1();this.objectContainer=new B1();this._box=new B1();this.addChild(this.objectContainer);this.addChild(this._box);this.addChild(this.CAN_TR_X);this.addChild(this.CAN_TR_Y);this.addChild(this.CAN_TR_XY);this.addChild(this.CAN_TR_R);this.addChild(this.CAN_TR_XL);this.addChild(this.CAN_TR_YT);}
CS(o){var B5=EditUtils.instance,el=o.eK,handler,sX,sY,tX,tY,oW,oH,oX,oY;if(!el)return;Event.B3(o,{mouseMove:function(ev){o.AP(ev.B9,ev.BA);let p=o.j8();B5.AP(p.x,p.y);}});Event.B3(B5,{mouseDown:function(ev){var t=Event.B8(ev);if(t.name.indexOf("CAN_TR_")>-1){handler=t.parent;sX=handler.x;sY=handler.y;tX=B5.x;tY=B5.y;oX=o.x;oY=o.y;oW=B5.CAN_TR_XY.x;oH=B5.CAN_TR_XY.y;}},mouseMove:function(ev){if(!handler)return;if(handler.id=="CAN_TR_R"){B5.AP(ev.B9,ev.BA);o.AP(oX-tX+ev.B9,oY-tY+ev.BA);}else if(handler.id=="CAN_TR_XL"){B5.AP(ev.B9,B5.y);B5.CAN_TR_X.x=tX-ev.B9+oW;o.AP(oX-tX+ev.B9,o.y);B5.gP(B5.CAN_TR_X.x,B5.CAN_TR_Y.y);}else if(handler.id=="CAN_TR_YT"){B5.AP(B5.x,ev.BA);B5.CAN_TR_Y.y=tY-ev.BA+oH;o.AP(o.x,oY-tY+ev.BA);B5.gP(B5.CAN_TR_X.x,B5.CAN_TR_Y.y);}else{handler.AP(ev.B9-B5.x+sX,ev.BA-B5.y+sY);if(handler.id=="CAN_TR_XY"){B5.gP(B5.CAN_TR_XY.x,B5.CAN_TR_XY.y);}else if(handler.id=="CAN_TR_X"||handler.id=="CAN_TR_Y"){B5.gP(B5.CAN_TR_X.x,B5.CAN_TR_Y.y);}}},mouseUp:function(ev){handler=null;}});}
g3(boxId,CAN_TR_XId='',CAN_TR_YId='',CAN_TR_XLId='',CAN_TR_YTId='',CAN_TR_XYId='',CAN_TR_RId=''){var B5=EditUtils.instance;if(B5.model)return;B5._btn=[];can.AR.hH(boxId);var bx=B5.model=AB.gG(boxId);if(!bx)return;B5._box.addChild(bx);if(CAN_TR_XId!=''){var bnX=AB.gG(CAN_TR_XId);if(bnX){B5._btn.push(bnX);B5.CAN_TR_X.addChild(bnX);bnX.AK=-bnX.width/2;bnX.y=-bnX.height/2;B5.CAN_TR_X.id=bnX.id="CAN_TR_X";}}
if(CAN_TR_YId!=''){var bnY=AB.gG(CAN_TR_YId);if(bnY){B5._btn.push(bnY);B5.CAN_TR_Y.addChild(bnY);bnY.AK=-bnY.width/2;bnY.y=-bnY.height/2;B5.CAN_TR_Y.id=bnY.id="CAN_TR_Y";}}
if(CAN_TR_XLId!=''){var bnXL=AB.gG(CAN_TR_XLId);if(bnXL){B5._btn.push(bnXL);B5.CAN_TR_XL.addChild(bnXL);bnXL.AK=-bnXL.width/2;bnXL.y=-bnXL.height/2;B5.CAN_TR_XL.id=bnXL.id="CAN_TR_XL";}}
if(CAN_TR_YTId!=''){var bnYT=AB.gG(CAN_TR_YTId);if(bnYT){B5._btn.push(bnYT);B5.CAN_TR_YT.addChild(bnYT);bnYT.AK=-bnYT.width/2;bnYT.y=-bnYT.height/2;B5.CAN_TR_YT.id=bnYT.id="CAN_TR_YT";}}
if(CAN_TR_XYId!=''){var bnXY=AB.gG(CAN_TR_XYId);if(bnXY){B5._btn.push(bnXY);B5.CAN_TR_XY.addChild(bnXY);bnXY.AK=-bnXY.width/2;bnXY.y=-bnXY.height/2;B5.CAN_TR_XY.id=bnXY.id="CAN_TR_XY";}}
if(CAN_TR_RId!=''){var bnR=AB.gG(CAN_TR_RId);if(bnR){B5._btn.push(bnR);B5.CAN_TR_R.addChild(bnR);bnR.AK=-bnR.width/2;bnR.y=-bnR.height/2;B5.CAN_TR_R.id=bnR.id="CAN_TR_R";}}
B5.id=boxId;AB.gJ(B5);}
clear(){var B5=EditUtils.instance;B5.reset();}
gN(attr){return this[attr];}
gO(attr,v){this[attr]=v;}
setObject(id,index=-1,onHide=''){id=e5.iS(id);if(!id){B5.clear();return;}
if(id=="main")return;index=e5.iS(index);var B5=EditUtils.instance;B5.clear();var o=AB.gG(id,index);if(!o||o.x==undefined||!o.parent||(!o._editMode&&o.AV==true)){return;}
B5.CS(o);var p=o.j8();B5.AP(p.x,p.y);B5.gS=o;can.AR.addChild(B5);B5.gP(o.width,o.height);B5.onHide=onHide;}
gP(w,h){var B5=EditUtils.instance;B5.CAN_TR_X.AK=w;B5.CAN_TR_X.y=h/2;B5.CAN_TR_Y.AK=w/2;B5.CAN_TR_Y.y=h;B5.CAN_TR_XY.AK=w;B5.CAN_TR_XY.y=h;B5.CAN_TR_R.AK=w/2;B5.CAN_TR_R.y=h/2;B5.CAN_TR_XL.AK=0;B5.CAN_TR_XL.y=h/2;B5.CAN_TR_YT.AK=w/2;B5.CAN_TR_YT.y=0;if(B5.model){B5.model.width=w;B5.model.height=h;}
if(B5.gS){B5.gS.width=w;B5.gS.height=h;}
B5.scaleX=iJ.fK.scaleX;B5.scaleY=iJ.fK.scaleY;}
reset(){var B5=EditUtils.instance;for(var b in B5._btn){B5._btn[b].AK=-B5._btn[b].width/2;B5._btn[b].y=-B5._btn[b].height/2;}
e6.gE(B5.onHide);if(B5.parent){B5.parent.removeChild(B5);}}
resize(){}
createColorPicker(hW,gy,sz=2){var o=AB.gG(hW);if(!o)return;EditUtils._colorPicker=o;var sw=o.width/200,sh=o.height/200;gy=e5.iS(gy);var r=255,g=0,b=0,rr=0,gg=0,bb=0,c=0,w=sw*2/15,h=200*sh,ss=sh*4;if(!EditUtils.fK)EditUtils.fK=A7.jL(o.width,o.height);var ctx=EditUtils.fK.getContext("2d");ctx.save();for(var j=0;j<200;j+=3){for(var i=0;i<1530;i+=5){if(i<255){g+=5;}else if(i<510){r-=5;}else if(i<765){b+=5;}else if(i<1020){g-=5;}else if(i<1275){r+=5;}else{b-=5;}
if(i%2==0){let jj=200/j;rr=parseInt(gy-r/jj);gg=parseInt(gy-g/jj);bb=parseInt(gy-b/jj);c="rgb("+rr+","+gg+","+bb+")";ctx.fillStyle=c;ctx.fillRect(i*w,h-j*sh,ss,ss);}}}
ctx.restore();o.src=EditUtils.fK.toDataURL("image/png");}
CF(px,py,e9){if(!EditUtils._colorPicker)return;var o=EditUtils._colorPicker;var rc=o.eK.getBoundingClientRect();var ctx=EditUtils.fK.getContext("2d");px=e5.iS(px);py=e5.iS(py);if(px=="")px=Event.mouseEvent.clientX-rc.x;if(py=="")py=Event.mouseEvent.clientY-rc.y;px*=2;py*=2;var CJ=ctx.getImageData(px,py,1,1);var pixel=CJ.data,r=pixel[0],g=pixel[1],b=pixel[2],a=pixel[3]/255,c="rgba("+r+","+g+","+b+","+a+")";e5.fT(e9,c);}
listImageAssets(e9){var d=can.data.images,a=[];for(var i in d){let o={};o.id=i;a.push(o);}
e5.fT(e9,a);}}
EditUtils.instance=new EditUtils();class BH{}
BH.host;can.path='';e6.push([["MOD",function(src,fW,fX){src=e5.iS(src);can.jM(src+"?t="+getTime(),function(){can.AR.init();can.loadAssets(function(){can.AR.iR=null;e6.gE(can.AR.CL);});e6.gE(fW);},function(){e6.gE(fX);})}],["COMP",function(src,g1,fW,fX){src=e5.iS(src);var n=src.split(".").shift();var o=AB.gG(g1);if(!o)return;CI.jA(src,function(v){if(!o.data.childNodes)o.data.childNodes={};var d=JSON.parse(v);var c=d.components.childNodes;for(var i in c){o.data.childNodes[i]=c[i];}
can.data.style=Object.assign(can.data.style,d.style);can.data.methods=Object.assign(can.data.methods,d.methods);o.C0();e6.gE(fW);},function(){e6.gE(fX);})}],["CONF",function(path){path=e5.iS(path);if(path)can.path=path;}],["HTML1",function(url,m){url=e5.iS(url);if(m=="open")window.open(url);else window.location.href=url;}],["LOG1",function(s){if(!s)console.log(can.data.data)
else console.log(can.data.datas[s]);}],["SEV0",function(hostName){BH.host=e5.iS(hostName);}],["SEV1",function(iY,d,e9,m="GET",fW=null,fX=null){iY=e5.iS(iY);BH.host=BH.host||"";d=e5.iS(d);BI.jA(BH.host+iY,d,e9,m,fW,fX);}],["SEV2",function(iY,n,d,v,e9,fW=null,fX=null){iY=e5.iS(iY);v=e5.iS(v);d=e5.iS(d);d=JSON.stringify(d);d=encodeURIComponent(d);BH.host=BH.host||"";BI.jA(BH.host+iY,n+"="+d+"&"+v,e9,"POST",fW,fX);}],["HTTP0",function(hostName,i4){BH.http={};BH.http.host=e5.iS(hostName);BH.http.data=e5.fR(i4);}],["HTTP1",function(headId,m){headId=e5.iS(headId);var d=BH.http.data,r=null;for(let n=0,l=BH.http.data.length;n<l;n++){if(d[n].headId==headId){r=d[n];break;}}
if(!r){console.log("error");return;}
var s="head="+headId;if(r.value||r.value===0){var a=String(r.value).split(";");for(var n=0,l=a.length;n<l;n++){s=s+"&v"+(n+1)+"="+e5.iS(a[n]);}}console.log(s)
BI.jA(BH.http.host,s,r.result,m,r.onsuccess,r.onfailed);}]]);var CI=(function(){var images={},CK,CL,CM,hF,iO,iU=0,iP=6,_complete=true,_count=0;function CN(d,led,lop){if(!_complete&&!iJ.hF){console.log("---------加载未结束！---------")
return;}
_count=0;iU=0;AU();CL=led;CM=lop;if(!d||d.length<1){if(CL)CL();return;}
hF=d;iO=d.length;if(iO==0)return;for(var n=0;n<iO;n++){var i=new Image(),o={};i.idx=n;o.image=i;var u=iJ.dS||'';o.src=u+hF[n].src;o.id=hF[n].id;images[o.id]=null;CK[n]=o;}
console.log("total:"+iO)
iP=Math.min(iO,iP);for(n=0;n<iP;n++){CO(n);}}
function CO(n){if(!CK[n]){CP();return;}
_count++;var q=CK[n],i=q.image;i.src=q.src;console.log("try load:"+q.src,_count,iU);if(i.complete){images[q.id]=q.image;CP();console.log("-----loaded:"+i.src+" "+iU+"/"+iO)
return;}
i.onload=function(){var ii=this;var qq=CK[ii.idx];ii.onload=null;images[qq.id]=qq.image;CP();console.log("loaded:"+qq.src+" "+iU+"/"+iO)}
i.onerror=function(){images[q.id]=q.image
console.log("----->load:"+q.src+"---> failed :io error")
CP();return;}}
function CP(){iU++;v=parseInt(iU/iO*100);if(CI.iR){let o=AB.gG(CI.iR);if(o)o.fS(v);}
e6.gE(CM,v);console.log("Count:",_count,"  index:",iU,"length:",iO)
if(_count<iO){CO(_count);}else if(iU>=iO-1){_val();return;}}
function AU(){CK=[];CL=null;CM=null;_complete=false;}
function _val(){console.log("checking...",_complete)
for(var n=0;n<iO;n++){var i=images[CK[n].id];if(!i){console.log(n,CK[n],"---->reload",!i,CK[n].id);images[CK[n].id]=CK[n].image;i=CK[n];i.image=null;i.image=new Image();i.image.idx=n;_complete=false;CO(n);return;}}
if(_complete)return;_complete=true;console.log("ended...")
e6.gE(CL);}
function jA(url,onsuccessed,onerror=null){eF.ajax(url,null,"GET",onsuccessed,onerror,false);}
return{jA:jA,CM:CM,CL:CL,CK:CK,images:images,CN:CN}})();can.loader=CI;e6.push([["MOD",function(src,fW,fX){src=e5.iS(src);can.jM(src+"?t="+getTime(),function(){can.AR.init();can.cV.eC("",function(){e6.gE(can.AR.CL);});e6.gE(fW);},function(){e6.gE(fX);})}],["CONF",function(path){path=e5.iS(path);if(path)can.path=path;}],["COMP",function(src,g1,fW,fX){src=e5.iS(src);var n=src.split(".").shift();var o=AB.gG(g1);if(!o)return;CI.jA(src,function(v){if(!o.data.childNodes)o.data.childNodes={};var d=JSON.parse(v);var c=d.components.childNodes;for(var i in c){o.data.childNodes[i]=c[i];}
can.data.style=Object.assign(can.data.style,d.style);can.data.methods=Object.assign(can.data.methods,d.methods);o.C0();e6.gE(fW);},function(){e6.gE(fX);})}],["HTML1",function(url,m){url=e5.iS(url);if(m=="open")window.open(url);else window.location.href=url;}]]);var WSocket={};e6.push([["SCK1",function(url,fW,fX,e9,do3,do4){url=e5.iS(url);console.log("尝试连接websocket  ws://"+url+"/ws");WSocket.socket=new WebSocket("ws://"+url+"/ws");WSocket.socket.binaryType="arraybuffer";WSocket.socket.onopen=function(){console.log(url+" 连接成功");e6.gE(fW);WSocket.socket.send(WSocket.writeMessage());};WSocket.socket.onmessage=function(e){WSocket.readMessage(e.data);if(!WSocket.socket.onMessage)WSocket.socket.onMessage=fX;e6.gE(WSocket.socket.onMessage);};WSocket.socket.onerror=function(){e6.gE(do4);};}],["SCK2",function(headID,msg=null){if(!WSocket.socket){return;}
WSocket.socket.send(WSocket.writeMessage(e5.iS(headID),e5.iS(msg)));}],["SCK3",function(){if(!WSocket.socket)return;WSocket.socket.close();}]]);can.websocket=WSocket;class Animate{constructor(){}
static dT(o,id,end=null,direction=1,m=1){if(!id){if(end)end();return;}
var s={},d=can.data.data.tween?can.data.data.tween:can.data.tween,cv=can.AR;d=d[id];if(d.x===0||d.x){if(direction>0){s.x=o.getXY().x;o.x=d.x*cv.width;}else{s.x=d.x*cv.width;}}
if(d.y===0||d.y){if(direction>0){s.y=o.getXY().y;o.y=d.y*cv.height;}else{s.y=d.y*cv.height;}}
if(d.alpha===0||d.alpha){if(direction>0){s.alpha=o.alpha;o.alpha=d.alpha;}else{s.alpha=d.alpha;}}
if(d.scaleX){if(direction>0){s.scaleX=o.scaleX;o.scaleX=d.scaleX;}else{s.scaleX=d.scaleX;}}
if(d.scaleY){if(direction>0){s.scaleY=o.scaleY;o.scaleY=d.scaleY;}else{s.scaleY=d.scaleY;}}
if(d.rotation===0||d.rotation){if(direction>0){s.rotation=o.rotation;o.rotation=d.rotation;}else{s.rotation=d.rotation;}}
var sp={};for(var i in s){sp[i]=(s[i]-o[i])/d.dur*m;}
can.timer.play(1,d.dur,function(){for(var i in s){o[i]+=sp[i];}},function(){e6.gE(end);})}
moveObjectTo(hW,px,py,time,g8,callback){var o=AB.gG(hW);if(!o)return;var dx=!px&&px!==0&&p1?p1.x:px,dy=!py&&py!==0&&p1?p1.y:py;if(time>0){var spx=(dx-o.x)/time,spy=(dy-o.y)/time;can.timer.play(1,time,function(){o.x+=spx;o.y+=spy;if(g8)g8();},function(){o.x=dx;o.y=dy;if(callback)callback();},false,hW);}else{o.x=dx;o.y=dy;}}}
e6.push([["MOV1",function(i4){i4=e5.iS(i4);data.tween=e5.fR(i4);}],["MOV2",function(hW,p1,p2,t,g7){hW=e5.iS(hW);var o=AB.gG(hW);if(!o){console.log("can not found the obj named: ",hW);return;}
can.timer.remove(hW);t=e5.iS(t);if(p1){p1=p1.split(",");p1=o.getXY({x:p1[0],y:p1[1]});}else p1={x:o.x,y:o.y};if(p2){p2=p2.split(",");p2=o.getXY({x:p2[0],y:p2[1]});}else p2={x:o.x,y:o.y};var spx=(p2.x-p1.x)/t,spy=(p2.y-p1.y)/t;function f(){o.x+=spx;o.y+=spy;}
function e(){o.x=p2.x;o.y=p2.y;e6.gE(g7);}
can.timer.play(1,t,f,e,false,hW);}]])
class CG{constructor(id){this.eK=A7.createFilter(id,this);}
get id(){return this.f0;}
set id(v){this.f0=v;this.eK.setAttribute("id",v);}
get x(){return this.AK;}
set x(v){this.AK=v;this.eK.setAttribute("x",v);}
get y(){return this.AL;}
set y(v){this.AL=v;this.eK.setAttribute("y",v);}
get width(){return this.AJ;}
set width(v){v=v>0?v:1;this.AJ=v;this.eK.setAttribute("width",v);}
get height(){return this.AI;}
set height(v){v=v>0?v:1;this.AI=v;this.eK.setAttribute("height",v);}
static init(){new CH();}}
class CH extends CG{constructor(){super("shadow");var el=A7.jP("feOffset");el.setAttribute("result","offOut");el.setAttribute("in","SourceGraphic");el.setAttribute("dx",1);el.setAttribute("dy",1);this.eK.appendChild(el);el=A7.jP("feColorMatrix");el.setAttribute("result","matrixOut");el.setAttribute("in","offOut");el.setAttribute("type","matrix");el.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0");this.eK.appendChild(el);el=A7.jP("feGaussianBlur");el.setAttribute("result","blurOut");el.setAttribute("in","matrixOut");el.setAttribute("stdDeviation",3);this.eK.appendChild(el);el=A7.jP("feBlend");el.setAttribute("in","SourceGraphic");el.setAttribute("in2","blurOut");el.setAttribute("mode","normal");this.eK.appendChild(el);}}
class fQ extends AB{constructor(){super("foreignObject");this.mod="textarea";this.eS=A7.jQ("div");this.eK.appendChild(this.eS);this.eS.AD=this.AD;this.eS.setAttribute("id",this.AD)}
set(d,style){this.type=d.type||"text";this.limit=d.limit;this._placeholder=d.placeholder;var a=this.type.split("-");if(a[0]=="input"){var el=this.eY=A7.jQ("input");el.type=a[1];this.eA();}else if(a[0]=="textarea"){this.eY=A7.jQ("textarea");this.eY.style.display="table";this.eA();}else if(a[0]=="select"){this.eY=A7.jQ("select");if(d.options){this.options=d.options;}
this.eA();}else{this.eY=A7.jQ("div");}
el=this.eY;el.AD=this.AD;el.style.width="100%";el.style.height="100%";this.limit=d.limit||0;this.eS.appendChild(this.eY);super.set(d,style);this.onLondEnd=d.onloadend;this.onFocus=d.onfocus;if(d.url){var u=e5.iS(d.url);this.load(u,this.onLondEnd);this.g3();}else{var r=this.hG=String(d.value!=undefined?d.value:"");if(this._editMode){this.text=r;this.g3();return;}else{this.gP();}}}
g3(){super.g3();if(this.type=="select"){this.eY.style.textAlignLast=this.eY.style.textAlign;}}
set placeholder(v){this._placeholder=v;this.eY.placeholder=v;}
eA(){var o=this;if(o._placeholder)o.eY.placeholder=o._placeholder;o.eY.oninput=function(ev){if(o.cX)e5.fT(o.cX,v);e6.gE(o.onInput,ev);}
this.eY.onchange=function(ev){var v=o.fR();if(o.limit>0&&String(v).length>o.limit){o.value=v.substr(0,o.limit);}
if(o.cX)e5.fT(o.cX,v);e6.gE(o.cY,ev);}
o.eY.onfocus=function(){hO.hE=o.eY;e6.gE(o.onFocus);}}
get text(){if(this.type=="text"){return this.eY.innerHTML;}else if(this.type=="select"){return this.eY.options[this.eY.selectedIndex].text;}else{return this.eY.value;}}
set text(v){if(v===0)v="0";if(this.type=="text"){this.eY.innerHTML=v;}else{this.eY.value=v;}}
get x(){return this.AK;}
set x(v){this.AK=v;this.eK.setAttribute("x",v);}
get y(){return this.AL;}
set y(v){this.AL=v;this.eK.setAttribute("y",v);}
set options(v){if(typeof v=="string"){if(v.charAt(0)=="$"&&!this._editMode){v=e5.fR(v.substr(1));}else{v=v.cS("|",":");}}
var s='';for(let n=0,l=v.length;n<l;n++){if(v[n].name||v[n].value){s+="<option value="+v[n].value+">"+v[n].name+"</option>";}else if(v[n].value){s+="<option value="+v[n].value+">"+v[n].value+"</option>";}else{s+="<option value="+v[n][1]+">"+v[n][0]+"</option>";}}
this.eY.innerHTML=s;}
bind(v){if(v.match(/{(.*?)}/i)){this.hG=v;return;}
this.cX=v;this.eA();}
get onChange(){return this.cY;}
set onChange(v){this.cY=v;this.eA();}
fR(){var r=String(this.hG);if(r.indexOf("#")>-1){var a=r.split("#");var s=this.text.substr(a[0].length,this.text.length-a[1].length-a[0].length);}else if(this.type=="select"){return this.eY.value;}else{s=this.text;}
return s;}
fS(v){this.text=hL.jJ(this,v);this.height=this.eY.clientHeight;if(this.cX)e5.fT(this.cX,this.fR());}
load(url,end){var o=this;CI.jA((iJ.dS||"")+url,function(r){o.eY.innerHTML=r;e6.gE(end);})}
AT(el=null){if(!this.style)return;var s=this.style,el=this.eS;this.gK();el.style.height=el.style.width="100%";el.style.resize="none";if(s.backgroundColor)el.style.backgroundColor=s.backgroundColor;if(s.borderColor)el.style.borderColor=s.borderColor;el.style.borderWidth=(s.borderWidth||0)+"px";el.style.borderStyle=s.borderStyle||"solid";if(s.borderRadius)el.style.borderRadius=s.borderRadius+"px";el.style.display="table";el=this.eY;s.color=s.color||"#000";var fs=s.fontSize||20;el.style.fontSize=fs+"px";el.style.color=s.color;el.style.borderWidth="0";el.style.backgroundColor="rgba(0,0,0,0)";el.style.textAlign=s.textAlign;if(this.type=="text"){el.style.wordBreak="break-all";el.style.display="table-cell"
el.style.verticalAlign=s.verticalAlign||"top";}}
gP(){super.gP();if(this.j6){this.text=hL.jJ(this,this.j6);return;}else{this.text=hL.jJ(this,this.hG);}
this.g3();}
clear(){super.clear();this.cX=null;this.eS.innerHTML='';this.eS.removeAttribute("style");this.eY.onchange=null;this.eY.oninput=null;}}
AB.hB.textarea=fQ;var CompLib=CompLib||{};CompLib.getCompData=function(o){var d=o.data,r={};r.data=d;r.style={};r.methods={};c(d);function c(d){r.style[d.id]=iJ.hF.style[d.id];for(var m in iJ.hF.methods){if(m.split("_on")[0]==d.id){r.methods[m]=iJ.hF.methods[m]}}
if(d.bindStyle&&iJ.hF.style[d.bindStyle])r.style[d.bindStyle]=iJ.hF.style[d.bindStyle];if(d.childNodes){for(var i in d.childNodes){c(d.childNodes[i]);}}}
r.image=o.toString();r.base64=new Base64().encode(JSON.stringify(r));return r;}
e6.push([["COMP1",function(d,e9){d=e5.iS(d);if(!d)return;for(var n=0,l=d.length;n<l;n++){var o={name:d[n].name,author:d[n].author};d[n]=JSON.parse(new Base64().decode(d[n].data));d[n]=Object.assign(d[n],o);}}]]);this.dJ=this.dJ||{},function(){var a=dJ.SoundJS=dJ.SoundJS||{};a.version="1.0.0",a.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"}(),this.dJ=this.dJ||{},dJ.extend=function(a,b){"use strict";function c(){this.constructor=a}return c.prototype=b.prototype,a.prototype=new c},this.dJ=this.dJ||{},dJ.promote=function(a,b){"use strict";var c=a.prototype,d=Object.getPrototypeOf&&Object.getPrototypeOf(c)||c.__proto__;if(d){c[(b+="_")+"constructor"]=d.constructor;for(var e in d)c.hasOwnProperty(e)&&"function"==typeof d[e]&&(c[b+e]=d[e])}return a},this.dJ=this.dJ||{},dJ.deprecate=function(a,b){"use strict";return function(){var c="Deprecated property or method '"+b+"'. See docs for info.";return console&&(console.warn?console.warn(c):console.log(c)),a&&a.apply(this,arguments)}},this.dJ=this.dJ||{},dJ.indexOf=function(a,b){"use strict";for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1},this.dJ=this.dJ||{},function(){"use strict";dJ.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),this.dJ=this.dJ||{},function(){"use strict";function BrowserDetect(){throw"BrowserDetect cannot be instantiated"}var a=BrowserDetect.agent=window.navigator.userAgent;BrowserDetect.isWindowPhone=a.indexOf("IEMobile")>-1||a.indexOf("Windows Phone")>-1,BrowserDetect.isFirefox=a.indexOf("Firefox")>-1,BrowserDetect.isOpera=null!=window.opera,BrowserDetect.isChrome=a.indexOf("Chrome")>-1,BrowserDetect.isIOS=(a.indexOf("iPod")>-1||a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1)&&!BrowserDetect.isWindowPhone,BrowserDetect.isAndroid=a.indexOf("Android")>-1&&!BrowserDetect.isWindowPhone,BrowserDetect.isBlackberry=a.indexOf("Blackberry")>-1,dJ.BrowserDetect=BrowserDetect}(),this.dJ=this.dJ||{},function(){"use strict";function EventDispatcher(){this._listeners=null,this._captureListeners=null}var a=EventDispatcher.prototype;EventDispatcher.initialize=function(b){b.addEventListener=a.addEventListener,b.on=a.on,b.removeEventListener=b.off=a.removeEventListener,b.removeAllEventListeners=a.removeAllEventListeners,b.hasEventListener=a.hasEventListener,b.dispatchEvent=a.dispatchEvent,b._dispatchEvent=a._dispatchEvent,b.willTrigger=a.willTrigger},a.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b},a.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e),d&&a.remove()},f)},a.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},a.off=a.removeEventListener,a.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},a.dispatchEvent=function(a,b,c){if("string"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new dJ.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){for(var f=this,g=[f];f.parent;)g.push(f=f.parent);var h,i=g.length;for(h=i-1;h>=0&&!a.propagationStopped;h--)g[h]._dispatchEvent(a,1+(0==h));for(h=1;i>h&&!a.propagationStopped;h++)g[h]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented},a.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},a.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1},a.toString=function(){return"[EventDispatcher]"},a._dispatchEvent=function(a,b){var c,d,e=2>=b?this._captureListeners:this._listeners;if(a&&e&&(d=e[a.type])&&(c=d.length)){try{a.currentTarget=this}catch(f){}try{a.eventPhase=0|b}catch(f){}a.removed=!1,d=d.slice();for(var g=0;c>g&&!a.immediatePropagationStopped;g++){var h=d[g];h.handleEvent?h.handleEvent(a):h(a),a.removed&&(this.off(a.type,h,1==b),a.removed=!1)}}2===b&&this._dispatchEvent(a,2.1)},dJ.EventDispatcher=EventDispatcher}(),this.dJ=this.dJ||{},function(){"use strict";function Event(a,b,c){this.type=a,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!b,this.cancelable=!!c,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var a=Event.prototype;a.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},a.stopPropagation=function(){this.propagationStopped=!0},a.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},a.remove=function(){this.removed=!0},a.clone=function(){return new Event(this.type,this.bubbles,this.cancelable)},a.set=function(a){for(var b in a)this[b]=a[b];return this},a.toString=function(){return"[Event (type="+this.type+")]"},dJ.Event=Event}(),this.dJ=this.dJ||{},function(){"use strict";function ErrorEvent(a,b,c){this.Event_constructor("error"),this.title=a,this.message=b,this.data=c}var a=dJ.extend(ErrorEvent,dJ.Event);a.clone=function(){return new dJ.ErrorEvent(this.title,this.message,this.data)},dJ.ErrorEvent=dJ.promote(ErrorEvent,"Event")}(),this.dJ=this.dJ||{},function(){"use strict";function ProgressEvent(a,b){this.Event_constructor("progress"),this.loaded=a,this.total=null==b?1:b,this.progress=0==b?0:this.loaded/this.total}var a=dJ.extend(ProgressEvent,dJ.Event);a.clone=function(){return new dJ.ProgressEvent(this.loaded,this.total)},dJ.ProgressEvent=dJ.promote(ProgressEvent,"Event")}(window),this.dJ=this.dJ||{},function(){"use strict";function LoadItem(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=dJ.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=b.LOAD_TIMEOUT_DEFAULT}var a=LoadItem.prototype={},b=LoadItem;b.LOAD_TIMEOUT_DEFAULT=8e3,b.CE=function(a){if("string"==typeof a){var c=new LoadItem;return c.src=a,c}if(a instanceof b)return a;if(a instanceof Object&&a.src)return null==a.loadTimeout&&(a.loadTimeout=b.LOAD_TIMEOUT_DEFAULT),a;throw new Error("Type not recognized.")},a.set=function(a){for(var b in a)this[b]=a[b];return this},dJ.LoadItem=b}(),this.dJ=this.dJ||{},function(){var a={};a.POST="POST",a.GET="GET",dJ.Methods=a}(),this.dJ=this.dJ||{},function(){var a={};a.BINARY="binary",a.CSS="css",a.FONT="font",a.FONTCSS="fontcss",a.IMAGE="image",a.JAVASCRIPT="javascript",a.JSON="json",a.JSONP="jsonp",a.MANIFEST="manifest",a.SOUND="sound",a.VIDEO="video",a.SPRITESHEET="spritesheet",a.SVG="svg",a.TEXT="text",a.XML="xml",dJ.Types=a}(),function(){var a={};a.a=function(){return a.el("a")},a.svg=function(){return a.el("svg")},a.object=function(){return a.el("object")},a.image=function(){return a.el("image")},a.img=function(){return a.el("img")},a.style=function(){return a.el("style")},a.link=function(){return a.el("link")},a.script=function(){return a.el("script")},a.audio=function(){return a.el("audio")},a.video=function(){return a.el("video")},a.text=function(a){return document.createTextNode(a)},a.el=function(a){return document.createElement(a)},dJ.Elements=a}(),function(){var a={container:null};a.appendToHead=function(b){a.getHead().appendChild(b)},a.appendToBody=function(b){if(null==a.container){a.container=document.createElement("div"),a.container.id="preloadjs-container";var c=a.container.style;c.visibility="hidden",c.position="absolute",c.width=a.container.style.height="10px",c.overflow="hidden",c.transform=c.msTransform=c.webkitTransform=c.oTransform="translate(-10px, -10px)",a.getBody().appendChild(a.container)}a.container.appendChild(b)},a.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},a.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},a.removeChild=function(a){a.parent&&a.parent.removeChild(a)},a.isImageTag=function(a){return a instanceof HTMLImageElement},a.isAudioTag=function(a){return window.HTMLAudioElement?a instanceof HTMLAudioElement:!1},a.isVideoTag=function(a){return window.HTMLVideoElement?a instanceof HTMLVideoElement:!1},dJ.DomUtils=a}(),function(){var a={};a.isBinary=function(a){switch(a){case dJ.Types.IMAGE:case dJ.Types.BINARY:return!0;default:return!1}},a.isText=function(a){switch(a){case dJ.Types.TEXT:case dJ.Types.JSON:case dJ.Types.MANIFEST:case dJ.Types.XML:case dJ.Types.CSS:case dJ.Types.SVG:case dJ.Types.JAVASCRIPT:case dJ.Types.SPRITESHEET:return!0;default:return!1}},a.getTypeByExtension=function(a){if(null==a)return dJ.Types.TEXT;switch(a.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return dJ.Types.IMAGE;case"ogg":case"mp3":case"webm":return dJ.Types.SOUND;case"mp4":case"webm":case"ts":return dJ.Types.VIDEO;case"json":return dJ.Types.JSON;case"xml":return dJ.Types.XML;case"css":return dJ.Types.CSS;case"js":return dJ.Types.JAVASCRIPT;case"svg":return dJ.Types.SVG;default:return dJ.Types.TEXT}},dJ.RequestUtils=a}(),function(){var a={};a.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,a.RELATIVE_PATT=/^[.\/]*?\//i,a.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,a.parseURI=function(b){var c={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==b)return c;var d=dJ.Elements.a();d.href=b;for(var e in c)e in d&&(c[e]=d[e]);var f=b.indexOf("?");f>-1&&(b=b.substr(0,f));var g;return a.ABSOLUTE_PATT.test(b)?c.absolute=!0:a.RELATIVE_PATT.test(b)&&(c.relative=!0),(g=b.match(a.EXTENSION_PATT))&&(c.extension=g[1].toLowerCase()),c},a.formatQueryString=function(a,b){if(null==a)throw new Error("You must specify data.");var c=[];for(var d in a)c.push(d+"="+escape(a[d]));return b&&(c=c.concat(b)),c.join("&")},a.buildURI=function(a,b){if(null==b)return a;var c=[],d=a.indexOf("?");if(-1!=d){var e=a.slice(d+1);c=c.concat(e.split("&"))}return-1!=d?a.slice(0,d)+"?"+this.formatQueryString(b,c):a+"?"+this.formatQueryString(b,c)},a.isCrossDomain=function(a){var b=dJ.Elements.a();b.href=a.src;var c=dJ.Elements.a();c.href=location.href;var d=""!=b.hostname&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname);return d},a.isLocal=function(a){var b=dJ.Elements.a();return b.href=a.src,""==b.hostname&&"file:"==b.protocol},dJ.URLUtils=a}(),this.dJ=this.dJ||{},function(){"use strict";function AbstractLoader(a,b,c){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=c,this.resultFormatter=null,this._item=a?dJ.LoadItem.CE(a):null,this._preferXHR=b,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var a=dJ.extend(AbstractLoader,dJ.EventDispatcher),b=AbstractLoader;try{Object.defineProperties(b,{POST:{get:dJ.deprecate(function(){return dJ.Methods.POST},"AbstractLoader.POST")},GET:{get:dJ.deprecate(function(){return dJ.Methods.GET},"AbstractLoader.GET")},BINARY:{get:dJ.deprecate(function(){return dJ.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:dJ.deprecate(function(){return dJ.Types.CSS},"AbstractLoader.CSS")},FONT:{get:dJ.deprecate(function(){return dJ.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:dJ.deprecate(function(){return dJ.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:dJ.deprecate(function(){return dJ.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:dJ.deprecate(function(){return dJ.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:dJ.deprecate(function(){return dJ.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:dJ.deprecate(function(){return dJ.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:dJ.deprecate(function(){return dJ.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:dJ.deprecate(function(){return dJ.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:dJ.deprecate(function(){return dJ.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:dJ.deprecate(function(){return dJ.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:dJ.deprecate(function(){return dJ.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:dJ.deprecate(function(){return dJ.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:dJ.deprecate(function(){return dJ.Types.XML},"AbstractLoader.XML")}})}catch(c){}a.getItem=function(){return this._item},a.getResult=function(a){return a?this._rawResult:this._result},a.getTag=function(){return this._tag},a.setTag=function(a){this._tag=a},a.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var a=new dJ.Event("initialize");a.loader=this._request,this.dispatchEvent(a),this._request.load()},a.cancel=function(){this.canceled=!0,this.destroy()},a.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},a.getLoadedItems=function(){return this._loadedItems},a._createRequest=function(){this._request=this._preferXHR?new dJ.XHRRequest(this._item):new dJ.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},a._createTag=function(){return null},a._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},a._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new dJ.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(b)}},a._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new dJ.Event("complete");a.rawResult=this._rawResult,null!=this._result&&(a.result=this._result),this.dispatchEvent(a)}},a._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new dJ.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))},a._isCanceled=function(){return null==window.dJ||this.canceled?!0:!1},a.resultFormatter=null,a.handleEvent=function(a){switch(a.type){case"complete":this._rawResult=a.target._response;var b=this.resultFormatter&&this.resultFormatter(this);b instanceof Function?b.call(this,dJ.proxy(this._resultFormatSuccess,this),dJ.proxy(this._resultFormatFailed,this)):(this._result=b||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(a);break;case"error":this._sendError(a);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new dJ.ErrorEvent("PRELOAD_"+a.type.toUpperCase()+"_ERROR"))}},a._resultFormatSuccess=function(a){this._result=a,this._sendComplete()},a._resultFormatFailed=function(a){this._sendError(a)},a.toString=function(){return"[PreloadJS AbstractLoader]"},dJ.AbstractLoader=dJ.promote(AbstractLoader,"EventDispatcher")}(),this.dJ=this.dJ||{},function(){"use strict";function AbstractMediaLoader(a,b,c){this.AbstractLoader_constructor(a,b,c),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var a=dJ.extend(AbstractMediaLoader,dJ.AbstractLoader);a.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},a._createTag=function(){},a._createRequest=function(){this._request=this._preferXHR?new dJ.XHRRequest(this._item):new dJ.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},a._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType("blob")},a._formatResult=function(a){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var b=window.URL||window.webkitURL,c=a.getResult(!0);a.getTag().src=b.createObjectURL(c)}return a.getTag()},dJ.AbstractMediaLoader=dJ.promote(AbstractMediaLoader,"AbstractLoader")}(),this.dJ=this.dJ||{},function(){"use strict";var AbstractRequest=function(a){this._item=a},a=dJ.extend(AbstractRequest,dJ.EventDispatcher);a.load=function(){},a.destroy=function(){},a.cancel=function(){},dJ.AbstractRequest=dJ.promote(AbstractRequest,"EventDispatcher")}(),this.dJ=this.dJ||{},function(){"use strict";function TagRequest(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=dJ.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var a=dJ.extend(TagRequest,dJ.AbstractRequest);a.load=function(){this._tag.onload=dJ.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=dJ.proxy(this._handleReadyStateChange,this),this._tag.onerror=dJ.proxy(this._handleError,this);var a=new dJ.Event("initialize");a.loader=this._tag,this.dispatchEvent(a),this._loadTimeout=setTimeout(dJ.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(dJ.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},a.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},a._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},a._handleError=function(){this._clean(),this.dispatchEvent("error")},a._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},a._handleTimeout=function(){this._clean(),this.dispatchEvent(new dJ.Event("timeout"))},a._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},a._handleStalled=function(){},dJ.TagRequest=dJ.promote(TagRequest,"AbstractRequest")}(),this.dJ=this.dJ||{},function(){"use strict";function MediaTagRequest(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=dJ.proxy(this._handleTagComplete,this)}var a=dJ.extend(MediaTagRequest,dJ.TagRequest);a.load=function(){var a=dJ.proxy(this._handleStalled,this);this._stalledCallback=a;var b=dJ.proxy(this._handleProgress,this);this._handleProgress=b,this._tag.addEventListener("stalled",a),this._tag.addEventListener("progress",b),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},a._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},a._handleStalled=function(){},a._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new dJ.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},a._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},dJ.MediaTagRequest=dJ.promote(MediaTagRequest,"TagRequest")}(),this.dJ=this.dJ||{},function(){"use strict";function XHRRequest(a){this.AbstractRequest_constructor(a),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=dJ.proxy(this._handleLoadStart,this),this._handleProgressProxy=dJ.proxy(this._handleProgress,this),this._handleAbortProxy=dJ.proxy(this._handleAbort,this),this._handleErrorProxy=dJ.proxy(this._handleError,this),this._handleTimeoutProxy=dJ.proxy(this._handleTimeout,this),this._handleLoadProxy=dJ.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=dJ.proxy(this._handleReadyStateChange,this),!this._createXHR(a)}var a=dJ.extend(XHRRequest,dJ.AbstractRequest);XHRRequest.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],a.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response},a.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},a.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(dJ.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(dJ.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new dJ.ErrorEvent("XHR_SEND",null,a))}},a.setResponseType=function(a){"blob"===a&&(a=window.URL?"blob":"arraybuffer",this._responseType=a),this._request.responseType=a},a.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},a.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null},a._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new dJ.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},a._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},a._handleAbort=function(a){this._clean(),this.dispatchEvent(new dJ.ErrorEvent("XHR_ABORTED",null,a))},a._handleError=function(a){this._clean(),this.dispatchEvent(new dJ.ErrorEvent(a.message))},a._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},a._handleLoad=function(){if(!this.loaded){this.loaded=!0;var a=this._checkError();if(a)return void this._handleError(a);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(b){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===b.name&&window.BlobBuilder){var c=new BlobBuilder;c.append(this._response),this._response=c.getBlob()}}this._clean(),this.dispatchEvent(new dJ.Event("complete"))}},a._handleTimeout=function(a){this._clean(),this.dispatchEvent(new dJ.ErrorEvent("PRELOAD_TIMEOUT",null,a))},a._checkError=function(){var a=parseInt(this._request.status);return a>=400&&599>=a?new Error(a):0==a&&/^https?:/.test(location.protocol)?new Error(0):null},a._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null},a._createXHR=function(a){var b=dJ.URLUtils.isCrossDomain(a),c={},d=null;if(window.XMLHttpRequest)d=new XMLHttpRequest,b&&void 0===d.withCredentials&&window.XDomainRequest&&(d=new XDomainRequest);else{for(var e=0,f=s.ACTIVEX_VERSIONS.length;f>e;e++){var g=s.ACTIVEX_VERSIONS[e];try{d=new ActiveXObject(g);break}catch(h){}}if(null==d)return!1}null==a.mimeType&&dJ.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8"),a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType),this._xhrLevel="string"==typeof d.responseType?2:1;var i=null;if(i=a.method==dJ.Methods.GET?dJ.URLUtils.buildURI(a.src,a.values):a.src,d.open(a.method||dJ.Methods.GET,i,!0),b&&d instanceof XMLHttpRequest&&1==this._xhrLevel&&(c.Origin=location.origin),a.values&&a.method==dJ.Methods.POST&&(c["Content-Type"]="application/x-www-form-urlencoded"),b||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),a.headers)for(var j in a.headers)c[j]=a.headers[j];for(j in c)d.setRequestHeader(j,c[j]);return d instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(d.withCredentials=a.withCredentials),this._request=d,!0},a._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},a.toString=function(){return"[PreloadJS XHRRequest]"},dJ.XHRRequest=dJ.promote(XHRRequest,"AbstractRequest")}(),this.dJ=this.dJ||{},function(){"use strict";function SoundLoader(a,b){this.AbstractMediaLoader_constructor(a,b,dJ.Types.SOUND),dJ.DomUtils.isAudioTag(a)?this._tag=a:dJ.DomUtils.isAudioTag(a.src)?this._tag=a:dJ.DomUtils.isAudioTag(a.C6)&&(this._tag=dJ.DomUtils.isAudioTag(a)?a:a.src),null!=this._tag&&(this._preferXHR=!1)}var a=dJ.extend(SoundLoader,dJ.AbstractMediaLoader),b=SoundLoader;b.canLoadItem=function(a){return a.type==dJ.Types.SOUND},a._createTag=function(a){var b=dJ.Elements.audio();return b.autoplay=!1,b.preload="none",b.src=a,b},dJ.SoundLoader=dJ.promote(SoundLoader,"AbstractMediaLoader")}(),this.dJ=this.dJ||{},function(){"use strict";var PlayPropsConfig=function(){this.interrupt=null,this.delay=null,this.offset=null,this.gB=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},a=PlayPropsConfig.prototype={},b=PlayPropsConfig;b.CE=function(a){if("string"==typeof a)return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),(new dJ.PlayPropsConfig).set({interrupt:a});if(null==a||a instanceof b||a instanceof Object)return(new dJ.PlayPropsConfig).set(a);if(null==a)throw new Error("PlayProps configuration not recognized.")},a.set=function(a){if(null!=a)for(var b in a)this[b]=a[b];return this},a.toString=function(){return"[PlayPropsConfig]"},dJ.PlayPropsConfig=b}(),this.dJ=this.dJ||{},function(){"use strict";function Sound(){throw"Sound cannot be instantiated"}function a(a,b){this.init(a,b)}var b=Sound;b.INTERRUPT_ANY="any",b.INTERRUPT_EARLY="early",b.INTERRUPT_LATE="late",b.INTERRUPT_NONE="none",b.PLAY_INITED="playInited",b.PLAY_SUCCEEDED="playSucceeded",b.PLAY_INTERRUPTED="playInterrupted",b.PLAY_FINISHED="playFinished",b.PLAY_FAILED="playFailed",b.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],b.EXTENSION_MAP={m4a:"mp4"},b.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,b.defaultInterruptBehavior=b.INTERRUPT_NONE,b.alternateExtensions=[],b.activePlugin=null,b._masterVolume=1,b._getMasterVolume=function(){return this._masterVolume},b.getVolume=dJ.deprecate(b._getMasterVolume,"Sound.getVolume"),b._setMasterVolume=function(a){if(null!=Number(a)&&(a=Math.max(0,Math.min(1,a)),b._masterVolume=a,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a)))for(var c=this.AC,d=0,e=c.length;e>d;d++)c[d].setMasterVolume(a)},b.setVolume=dJ.deprecate(b._setMasterVolume,"Sound.setVolume"),b._masterMute=!1,b._getMute=function(){return this._masterMute},b.getMute=dJ.deprecate(b._getMute,"Sound.getMute"),b._setMute=function(a){if(null!=a&&(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a)))for(var b=this.AC,c=0,d=b.length;d>c;c++)b[c].setMasterMute(a)},b.setMute=dJ.deprecate(b._setMute,"Sound.setMute"),b._getCapabilities=function(){return null==b.activePlugin?null:b.activePlugin._capabilities},b.getCapabilities=dJ.deprecate(b._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(b,{volume:{get:b._getMasterVolume,set:b._setMasterVolume},muted:{get:b._getMute,set:b._setMute},capabilities:{get:b._getCapabilities}}),b._pluginsRegistered=!1,b._lastID=0,b.AC=[],b.AD={},b._preloadHash={},b._defaultPlayPropsHash={},b.addEventListener=null,b.removeEventListener=null,b.removeAllEventListeners=null,b.dispatchEvent=null,b.hasEventListener=null,b._listeners=null,dJ.EventDispatcher.initialize(b),b.getPreloadHandlers=function(){return{callback:dJ.proxy(b.initLoad,b),types:["sound"],extensions:b.SUPPORTED_EXTENSIONS}},b._handleLoadComplete=function(a){var c=a.target.getItem().src;if(b._preloadHash[c])for(var d=0,e=b._preloadHash[c].length;e>d;d++){var f=b._preloadHash[c][d];if(b._preloadHash[c][d]=!0,b.hasEventListener("fileload")){var a=new dJ.Event("fileload");a.src=f.src,a.id=f.id,a.data=f.data,a.sprite=f.sprite,b.dispatchEvent(a)}}},b._handleLoadError=function(a){var c=a.target.getItem().src;if(b._preloadHash[c])for(var d=0,e=b._preloadHash[c].length;e>d;d++){var f=b._preloadHash[c][d];if(b._preloadHash[c][d]=!1,b.hasEventListener("fileerror")){var a=new dJ.Event("fileerror");a.src=f.src,a.id=f.id,a.data=f.data,a.sprite=f.sprite,b.dispatchEvent(a)}}},b._registerPlugin=function(a){return a.isSupported()?(b.activePlugin=new a,!0):!1},b.registerPlugins=function(a){b._pluginsRegistered=!0;for(var c=0,d=a.length;d>c;c++)if(b._registerPlugin(a[c]))return!0;return!1},b.initializeDefaultPlugins=function(){return null!=b.activePlugin?!0:b._pluginsRegistered?!1:b.registerPlugins([dJ.WebAudioPlugin,dJ.HTMLAudioPlugin])?!0:!1},b.isReady=function(){return null!=b.activePlugin},b.initLoad=function(a){return"video"==a.type?!0:b._registerSound(a)},b._registerSound=function(c){if(!b.initializeDefaultPlugins())return!1;var d;if(c.src instanceof Object?(d=b._parseSrc(c.src),d.src=c.path+d.src):d=b._parsePath(c.src),null==d)return!1;c.src=d.src,c.type="sound";var e=c.data,f=null;if(null!=e&&(isNaN(e.channels)?isNaN(e)||(f=parseInt(e)):f=parseInt(e.channels),e.audioSprite))for(var g,h=e.audioSprite.length;h--;)g=e.audioSprite[h],b.AD[g.id]={src:c.src,startTime:parseInt(g.startTime),duration:parseInt(g.duration)},g.defaultPlayProps&&(b._defaultPlayPropsHash[g.id]=dJ.PlayPropsConfig.CE(g.defaultPlayProps));null!=c.id&&(b.AD[c.id]={src:c.src});var i=b.activePlugin.register(c);return a.CE(c.src,f),null!=e&&isNaN(e)?c.data.channels=f||a.maxPerChannel():c.data=f||a.maxPerChannel(),i.type&&(c.type=i.type),c.defaultPlayProps&&(b._defaultPlayPropsHash[c.src]=dJ.PlayPropsConfig.CE(c.defaultPlayProps)),i},b.registerSound=function(a,c,d,e,f){var g={src:a,id:c,data:d,defaultPlayProps:f};a instanceof Object&&a.src&&(e=c,g=a),g=dJ.LoadItem.CE(g),g.path=e,null==e||g.src instanceof Object||(g.src=e+g.src);var h=b._registerSound(g);if(!h)return!1;if(b._preloadHash[g.src]||(b._preloadHash[g.src]=[]),b._preloadHash[g.src].push(g),1==b._preloadHash[g.src].length)h.on("complete",this._handleLoadComplete,this),h.on("error",this._handleLoadError,this),b.activePlugin.preload(h);else if(1==b._preloadHash[g.src][0])return!0;return g},b.registerSounds=function(a,b){var c=[];a.path&&(b?b+=a.path:b=a.path,a=a.manifest);for(var d=0,e=a.length;e>d;d++)c[d]=dJ.Sound.registerSound(a[d].src,a[d].id,a[d].data,b,a[d].defaultPlayProps);return c},b.removeSound=function(c,d){if(null==b.activePlugin)return!1;c instanceof Object&&c.src&&(c=c.src);var e;if(c instanceof Object?e=b._parseSrc(c):(c=b._getSrcById(c).src,e=b._parsePath(c)),null==e)return!1;c=e.src,null!=d&&(c=d+c);for(var f in b.AD)b.AD[f].src==c&&delete b.AD[f];return a.removeSrc(c),delete b._preloadHash[c],b.activePlugin.removeSound(c),!0},b.removeSounds=function(a,b){var c=[];a.path&&(b?b+=a.path:b=a.path,a=a.manifest);for(var d=0,e=a.length;e>d;d++)c[d]=dJ.Sound.removeSound(a[d].src,b);return c},b.removeAllSounds=function(){b.AD={},b._preloadHash={},a.removeAll(),b.activePlugin&&b.activePlugin.removeAllSounds()},b.loadComplete=function(a){if(!b.isReady())return!1;var c=b._parsePath(a);return a=c?b._getSrcById(c.src).src:b._getSrcById(a).src,void 0==b._preloadHash[a]?!1:1==b._preloadHash[a][0]},b._parsePath=function(a){"string"!=typeof a&&(a=a.toString());var c=a.match(b.FILE_PATTERN);if(null==c)return!1;for(var d=c[4],e=c[5],f=b.capabilities,g=0;!f[e];)if(e=b.alternateExtensions[g++],g>b.alternateExtensions.length)return null;a=a.replace("."+c[5],"."+e);var h={name:d,src:a,extension:e};return h},b._parseSrc=function(a){var c={name:void 0,src:void 0,extension:void 0},d=b.capabilities;for(var e in a)if(a.hasOwnProperty(e)&&d[e]){c.src=a[e],c.extension=e;break}if(!c.src)return!1;var f=c.src.lastIndexOf("/");return c.name=-1!=f?c.src.slice(f+1):c.src,c},b.play=function(a,c){var d=dJ.PlayPropsConfig.CE(c),e=b.createInstance(a,d.startTime,d.duration),f=b._playInstance(e,d);return f||e._playFailed(),e},b.createInstance=function(c,d,e){if(!b.initializeDefaultPlugins())return new dJ.DefaultSoundInstance(c,d,e);var f=b._defaultPlayPropsHash[c];c=b._getSrcById(c);var g=b._parsePath(c.src),h=null;return null!=g&&null!=g.src?(a.CE(g.src),null==d&&(d=c.startTime),h=b.activePlugin.CE(g.src,d,e||c.duration),f=f||b._defaultPlayPropsHash[g.src],f&&h.applyPlayProps(f)):h=new dJ.DefaultSoundInstance(c,d,e),h.uniqueId=b._lastID++,h},b.stop=function(){for(var a=this.AC,b=a.length;b--;)a[b].stop()},b.setDefaultPlayProps=function(a,c){a=b._getSrcById(a),b._defaultPlayPropsHash[b._parsePath(a.src).src]=dJ.PlayPropsConfig.CE(c)},b.getDefaultPlayProps=function(a){return a=b._getSrcById(a),b._defaultPlayPropsHash[b._parsePath(a.src).src]},b._playInstance=function(a,c){var d=b._defaultPlayPropsHash[a.src]||{};if(null==c.interrupt&&(c.interrupt=d.interrupt||b.defaultInterruptBehavior),null==c.delay&&(c.delay=d.delay||0),null==c.offset&&(c.offset=a.position),null==c.gB&&(c.gB=a.gB),null==c.volume&&(c.volume=a.volume),null==c.pan&&(c.pan=a.pan),0==c.delay){var e=b._beginPlaying(a,c);if(!e)return!1}else{var f=setTimeout(function(){b._beginPlaying(a,c)},c.delay);a.delayTimeoutId=f}return this.AC.push(a),!0},b._beginPlaying=function(b,c){if(!a.add(b,c.interrupt))return!1;var d=b._beginPlaying(c);if(!d){var e=dJ.indexOf(this.AC,b);return e>-1&&this.AC.splice(e,1),!1}return!0},b._getSrcById=function(a){return b.AD[a]||{src:a}},b._playFinished=function(b){a.remove(b);var c=dJ.indexOf(this.AC,b);c>-1&&this.AC.splice(c,1)},dJ.Sound=Sound,a.channels={},a.CE=function(b,c){var d=a.get(b);return null==d?(a.channels[b]=new a(b,c),!0):!1},a.removeSrc=function(b){var c=a.get(b);return null==c?!1:(c._removeAll(),delete a.channels[b],!0)},a.removeAll=function(){for(var b in a.channels)a.channels[b]._removeAll();a.channels={}},a.add=function(b,c){var d=a.get(b.src);return null==d?!1:d._add(b,c)},a.remove=function(b){var c=a.get(b.src);return null==c?!1:(c._remove(b),!0)},a.maxPerChannel=function(){return c.maxDefault},a.get=function(b){return a.channels[b]};var c=a.prototype;c.constructor=a,c.src=null,c.max=null,c.maxDefault=100,c.length=0,c.init=function(a,b){this.src=a,this.max=b||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this.AC=[]},c._get=function(a){return this.AC[a]},c._add=function(a,b){return this._getSlot(b,a)?(this.AC.push(a),this.length++,!0):!1},c._remove=function(a){var b=dJ.indexOf(this.AC,a);return-1==b?!1:(this.AC.splice(b,1),this.length--,!0)},c._removeAll=function(){for(var a=this.length-1;a>=0;a--)this.AC[a].stop()},c._getSlot=function(a){var b,c;if(a!=Sound.INTERRUPT_NONE&&(c=this._get(0),null==c))return!0;for(var d=0,e=this.max;e>d;d++){if(b=this._get(d),null==b)return!0;if(b.playState==Sound.PLAY_FINISHED||b.playState==Sound.PLAY_INTERRUPTED||b.playState==Sound.PLAY_FAILED){c=b;break}a!=Sound.INTERRUPT_NONE&&(a==Sound.INTERRUPT_EARLY&&b.position<c.position||a==Sound.INTERRUPT_LATE&&b.position>c.position)&&(c=b)}return null!=c?(c._interrupt(),this._remove(c),!0):!1},c.toString=function(){return"[Sound SoundChannel]"}}(),this.dJ=this.dJ||{},function(){"use strict";var AbstractSoundInstance=function(a,b,c,d){this.EventDispatcher_constructor(),this.src=a,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this.getVolume=dJ.deprecate(this._getVolume,"AbstractSoundInstance.getVolume"),this.setVolume=dJ.deprecate(this._setVolume,"AbstractSoundInstance.setVolume"),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this.getPan=dJ.deprecate(this._getPan,"AbstractSoundInstance.getPan"),this.setPan=dJ.deprecate(this._setPan,"AbstractSoundInstance.setPan"),this._startTime=Math.max(0,b||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this.getStartTime=dJ.deprecate(this._getStartTime,"AbstractSoundInstance.getStartTime"),this.setStartTime=dJ.deprecate(this._setStartTime,"AbstractSoundInstance.setStartTime"),this._duration=Math.max(0,c||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this.getDuration=dJ.deprecate(this._getDuration,"AbstractSoundInstance.getDuration"),this.setDuration=dJ.deprecate(this._setDuration,"AbstractSoundInstance.setDuration"),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),d!==!1&&d!==!0&&this._setPlaybackResource(d),this.getPlaybackResource=dJ.deprecate(this._getPlaybackResource,"AbstractSoundInstance.getPlaybackResource"),this.setPlaybackResource=dJ.deprecate(this._setPlaybackResource,"AbstractSoundInstance.setPlaybackResource"),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this.getPosition=dJ.deprecate(this._getPosition,"AbstractSoundInstance.getPosition"),this.setPosition=dJ.deprecate(this._setPosition,"AbstractSoundInstance.setPosition"),this._loop=0,Object.defineProperty(this,"gB",{get:this._getLoop,set:this._setLoop}),this.getLoop=dJ.deprecate(this._getLoop,"AbstractSoundInstance.getLoop"),this.setLoop=dJ.deprecate(this._setLoop,"AbstractSoundInstance.setLoop"),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this.getMuted=dJ.deprecate(this._getMuted,"AbstractSoundInstance.getMuted"),this.setMuted=dJ.deprecate(this._setMuted,"AbstractSoundInstance.setMuted"),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused}),this.getPaused=dJ.deprecate(this._getPaused,"AbstractSoundInstance.getPaused"),this.setPaused=dJ.deprecate(this._setPaused,"AbstractSoundInstance.setPaused")},a=dJ.extend(AbstractSoundInstance,dJ.EventDispatcher);a.play=function(a){var b=dJ.PlayPropsConfig.CE(a);return this.playState==dJ.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(b),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),dJ.Sound._playInstance(this,b),this)},a.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=dJ.Sound.PLAY_FINISHED,this},a.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},a.applyPlayProps=function(a){return null!=a.offset&&this._setPosition(a.offset),null!=a.gB&&this._setLoop(a.gB),null!=a.volume&&this._setVolume(a.volume),null!=a.pan&&this._setPan(a.pan),null!=a.startTime&&(this._setStartTime(a.startTime),this._setDuration(a.duration)),this},a.toString=function(){return"[AbstractSoundInstance]"},a._getPaused=function(){return this._paused},a._setPaused=function(a){return a!==!0&&a!==!1||this._paused==a||1==a&&this.playState!=dJ.Sound.PLAY_SUCCEEDED?void 0:(this._paused=a,a?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},a._setVolume=function(a){return a==this._volume?this:(this._volume=Math.max(0,Math.min(1,a)),this._muted||this._updateVolume(),this)},a._getVolume=function(){return this._volume},a._setMuted=function(a){return a===!0||a===!1?(this._muted=a,this._updateVolume(),this):void 0},a._getMuted=function(){return this._muted},a._setPan=function(a){return a==this._pan?this:(this._pan=Math.max(-1,Math.min(1,a)),this._updatePan(),this)},a._getPan=function(){return this._pan},a._getPosition=function(){return this._paused||this.playState!=dJ.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},a._setPosition=function(a){return this._position=Math.max(0,a),this.playState==dJ.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},a._getStartTime=function(){return this._startTime},a._setStartTime=function(a){return a==this._startTime?this:(this._startTime=Math.max(0,a||0),this._updateStartTime(),this)},a._getDuration=function(){return this._duration},a._setDuration=function(a){return a==this._duration?this:(this._duration=Math.max(0,a||0),this._updateDuration(),this)},a._setPlaybackResource=function(a){return this._playbackResource=a,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},a._getPlaybackResource=function(){return this._playbackResource},a._getLoop=function(){return this._loop},a._setLoop=function(a){null!=this._playbackResource&&(0!=this._loop&&0==a?this._removeLooping(a):0==this._loop&&0!=a&&this._addLooping(a)),this._loop=a},a._sendEvent=function(a){var b=new dJ.Event(a);this.dispatchEvent(b)},a._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,dJ.Sound._playFinished(this)},a._interrupt=function(){this._cleanUp(),this.playState=dJ.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},a._beginPlaying=function(a){return this._setPosition(a.offset),this._setLoop(a.gB),this._setVolume(a.volume),this._setPan(a.pan),null!=a.startTime&&(this._setStartTime(a.startTime),this._setDuration(a.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=dJ.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},a._playFailed=function(){this._cleanUp(),this.playState=dJ.Sound.PLAY_FAILED,this._sendEvent("failed")},a._handleSoundComplete=function(){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("gB")):(this._cleanUp(),this.playState=dJ.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},a._handleSoundReady=function(){},a._updateVolume=function(){},a._updatePan=function(){},a._updateStartTime=function(){},a._updateDuration=function(){},a._setDurationFromSource=function(){},a._calculateCurrentPosition=function(){},a._updatePosition=function(){},a._removeLooping=function(){},a._addLooping=function(){},a._pause=function(){},a._resume=function(){},a._handleStop=function(){},a._handleCleanUp=function(){},a._handleLoop=function(){},dJ.AbstractSoundInstance=dJ.promote(AbstractSoundInstance,"EventDispatcher"),dJ.DefaultSoundInstance=dJ.AbstractSoundInstance}(),this.dJ=this.dJ||{},function(){"use strict";var AbstractPlugin=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},a=AbstractPlugin.prototype;AbstractPlugin._capabilities=null,AbstractPlugin.isSupported=function(){return!0},a.register=function(a){var b=this._loaders[a.src];return b&&!b.canceled?this._loaders[a.src]:(this._audioSources[a.src]=!0,this._soundInstances[a.src]=[],b=new this._loaderClass(a),b.on("complete",this._handlePreloadComplete,this),this._loaders[a.src]=b,b)},a.preload=function(a){a.on("error",this._handlePreloadError,this),a.load()},a.isPreloadStarted=function(a){return null!=this._audioSources[a]},a.isPreloadComplete=function(a){return!(null==this._audioSources[a]||1==this._audioSources[a])},a.removeSound=function(a){if(this._soundInstances[a]){for(var b=this._soundInstances[a].length;b--;){var c=this._soundInstances[a][b];c.destroy()}delete this._soundInstances[a],delete this._audioSources[a],this._loaders[a]&&this._loaders[a].destroy(),delete this._loaders[a]}},a.removeAllSounds=function(){for(var a in this._audioSources)this.removeSound(a)},a.CE=function(a,b,c){this.isPreloadStarted(a)||this.preload(this.register(a));var d=new this._soundInstanceClass(a,b,c,this._audioSources[a]);return this._soundInstances[a]&&this._soundInstances[a].push(d),d.setMasterVolume&&d.setMasterVolume(dJ.Sound.volume),d.setMasterMute&&d.setMasterMute(dJ.Sound.muted),d},a.setVolume=function(a){return this._volume=a,this._updateVolume(),!0},a.getVolume=function(){return this._volume},a.setMute=function(){return this._updateVolume(),!0},a.toString=function(){return"[AbstractPlugin]"},a._handlePreloadComplete=function(a){var b=a.target.getItem().src;this._audioSources[b]=a.result;for(var c=0,d=this._soundInstances[b].length;d>c;c++){var e=this._soundInstances[b][c];e.playbackResource=this._audioSources[b],this._soundInstances[b]=null}},a._handlePreloadError=function(){},a._updateVolume=function(){},dJ.AbstractPlugin=AbstractPlugin}(),this.dJ=this.dJ||{},function(){"use strict";function a(a){this.AbstractLoader_constructor(a,!0,dJ.Types.SOUND)}var b=dJ.extend(a,dJ.AbstractLoader);a.context=null,b.toString=function(){return"[WebAudioLoader]"},b._createRequest=function(){this._request=new dJ.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},b._sendComplete=function(){a.context.decodeAudioData(this._rawResult,dJ.proxy(this._handleAudioDecoded,this),dJ.proxy(this._sendError,this))},b._handleAudioDecoded=function(a){this._result=a,this.AbstractLoader__sendComplete()},dJ.WebAudioLoader=dJ.promote(a,"AbstractLoader")}(),this.dJ=this.dJ||{},function(){"use strict";function WebAudioSoundInstance(a,c,d,e){this.AbstractSoundInstance_constructor(a,c,d,e),this.gainNode=b.context.createGain(),this.panNode=b.context.createPanner(),this.panNode.panningModel=b._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=dJ.proxy(this._handleSoundComplete,this)}var a=dJ.extend(WebAudioSoundInstance,dJ.AbstractSoundInstance),b=WebAudioSoundInstance;b.context=null,b._scratchBuffer=null,b.destinationNode=null,b._panningModel="equalpower",a.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},a.toString=function(){return"[WebAudioSoundInstance]"},a._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},a._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},a._addLooping=function(){this.playState==dJ.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},a._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},a._handleCleanUp=function(){this.sourceNode&&this.playState==dJ.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},a._cleanUpAudioNode=function(a){if(a){if(a.stop(0),a.disconnect(0),dJ.BrowserDetect.isIOS)try{a.buffer=b._scratchBuffer}catch(c){}a=null}return a},a._handleSoundReady=function(){this.gainNode.connect(b.destinationNode);var a=.001*this._duration,c=Math.min(.001*Math.max(0,this._position),a);this.sourceNode=this._createAndPlayAudioNode(b.context.currentTime-a,c),this._playbackStartTime=this.sourceNode.startTime-c,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(a-c)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},a._createAndPlayAudioNode=function(a,c){var d=b.context.createBufferSource();d.buffer=this.playbackResource,d.connect(this.panNode);var e=.001*this._duration;return d.startTime=a+e,d.start(d.startTime,c+.001*this._startTime,e-c),d},a._pause=function(){this._position=1e3*(b.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},a._resume=function(){this._handleSoundReady()},a._updateVolume=function(){var a=this._muted?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},a._calculateCurrentPosition=function(){return 1e3*(b.context.currentTime-this._playbackStartTime)},a._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},a._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},a._updateDuration=function(){this.playState==dJ.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},dJ.WebAudioSoundInstance=dJ.promote(WebAudioSoundInstance,"AbstractSoundInstance")}(),this.dJ=this.dJ||{},function(){"use strict";function WebAudioPlugin(){this.AbstractPlugin_constructor(),this._panningModel=b._panningModel,this.context=b.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),dJ.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=b._capabilities,this._loaderClass=dJ.WebAudioLoader,this._soundInstanceClass=dJ.WebAudioSoundInstance,this._addPropsToClasses()}var a=dJ.extend(WebAudioPlugin,dJ.AbstractPlugin),b=WebAudioPlugin;b._capabilities=null,b._panningModel="equalpower",b.context=null,b._scratchBuffer=null,b._unlocked=!1,b.DEFAULT_SAMPLE_RATE=44100,b.isSupported=function(){var a=dJ.BrowserDetect.isIOS||dJ.BrowserDetect.isAndroid||dJ.BrowserDetect.isBlackberry;return"file:"!=location.protocol||a||this._isFileXHRSupported()?(b._generateCapabilities(),null==b.context?!1:!0):!1},b.playEmptySound=function(){if(null!=b.context){var a=b.context.createBufferSource();a.buffer=b._scratchBuffer,a.connect(b.context.destination),a.start(0,0,0)}},b._isFileXHRSupported=function(){var a=!0,b=new XMLHttpRequest;try{b.open("GET","WebAudioPluginTest.fail",!1)}catch(c){return a=!1}b.onerror=function(){a=!1},b.onload=function(){a=404==this.status||200==this.status||0==this.status&&""!=this.response};try{b.send()}catch(c){a=!1}return a},b._generateCapabilities=function(){if(null==b._capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;if(null==b.context&&(b.context=b._createAudioContext(),null==b.context))return null;null==b._scratchBuffer&&(b._scratchBuffer=b.context.createBuffer(1,1,22050)),b._compatibilitySetUp(),"ontouchstart"in window&&"running"!=b.context.state&&(b._unlock(),document.addEventListener("mousedown",b._unlock,!0),document.addEventListener("touchstart",b._unlock,!0),document.addEventListener("touchend",b._unlock,!0)),b._capabilities={panning:!0,volume:!0,tracks:-1};for(var c=dJ.Sound.SUPPORTED_EXTENSIONS,d=dJ.Sound.EXTENSION_MAP,e=0,f=c.length;f>e;e++){var g=c[e],h=d[g]||g;b._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}b.context.destination.numberOfChannels<2&&(b._capabilities.panning=!1)}},b._createAudioContext=function(){var a=window.AudioContext||window.webkitAudioContext;if(null==a)return null;var c=new a;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&c.sampleRate!==b.DEFAULT_SAMPLE_RATE){var d=c.createBuffer(1,1,b.DEFAULT_SAMPLE_RATE),e=c.createBufferSource();e.buffer=d,e.connect(c.destination),e.start(0),e.disconnect(),c.close(),c=new a}return c},b._compatibilitySetUp=function(){if(b._panningModel="equalpower",!b.context.createGain){b.context.createGain=b.context.createGainNode;var a=b.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn,a.__proto__.stop=a.__proto__.noteOff,b._panningModel=0}},b._unlock=function(){b._unlocked||(b.playEmptySound(),"running"==b.context.state&&(document.removeEventListener("mousedown",b._unlock,!0),document.removeEventListener("touchend",b._unlock,!0),document.removeEventListener("touchstart",b._unlock,!0),b._unlocked=!0))},a.toString=function(){return"[WebAudioPlugin]"},a._addPropsToClasses=function(){var a=this._soundInstanceClass;a.context=this.context,a._scratchBuffer=b._scratchBuffer,a.destinationNode=this.gainNode,a._panningModel=this._panningModel,this._loaderClass.context=this.context},a._updateVolume=function(){var a=dJ.Sound._masterMute?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},dJ.WebAudioPlugin=dJ.promote(WebAudioPlugin,"AbstractPlugin")}(),this.dJ=this.dJ||{},function(){"use strict";function HTMLAudioTagPool(){throw"HTMLAudioTagPool cannot be instantiated"}function a(){this._tags=[]}var b=HTMLAudioTagPool;b._tags={},b._tagPool=new a,b._tagUsed={},b.get=function(a){var c=b._tags[a];return null==c?(c=b._tags[a]=b._tagPool.get(),c.src=a):b._tagUsed[a]?(c=b._tagPool.get(),c.src=a):b._tagUsed[a]=!0,c},b.set=function(a,c){c==b._tags[a]?b._tagUsed[a]=!1:b._tagPool.set(c)},b.remove=function(a){var c=b._tags[a];return null==c?!1:(b._tagPool.set(c),delete b._tags[a],delete b._tagUsed[a],!0)},b.getDuration=function(a){var c=b._tags[a];return null!=c&&c.duration?1e3*c.duration:0},dJ.HTMLAudioTagPool=HTMLAudioTagPool;var c=a.prototype;c.constructor=a,c.get=function(){var a;return a=0==this._tags.length?this._createTag():this._tags.pop(),null==a.parentNode&&document.body.appendChild(a),a},c.set=function(a){var b=dJ.indexOf(this._tags,a);-1==b&&(this._tags.src=null,this._tags.push(a))},c.toString=function(){return"[TagPool]"},c._createTag=function(){var a=document.createElement("audio");return a.autoplay=!1,a.preload="none",a}}(),this.dJ=this.dJ||{},function(){"use strict";function HTMLAudioSoundInstance(a,b,c,d){this.AbstractSoundInstance_constructor(a,b,c,d),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=dJ.proxy(this._handleSoundComplete,this),this._readyHandler=dJ.proxy(this._handleTagReady,this),this._stalledHandler=dJ.proxy(this._playFailed,this),this._audioSpriteEndHandler=dJ.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=dJ.proxy(this._handleSoundComplete,this),c?this._audioSpriteStopTime=.001*(b+c):this._duration=dJ.HTMLAudioTagPool.getDuration(this.src)}var a=dJ.extend(HTMLAudioSoundInstance,dJ.AbstractSoundInstance);a.setMasterVolume=function(){this._updateVolume()},a.setMasterMute=function(){this._updateVolume()},a.toString=function(){return"[HTMLAudioSoundInstance]"},a._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.gB=!1,this._playbackResource.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},a._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.gB=!0)},a._handleCleanUp=function(){var a=this._playbackResource;if(null!=a){a.pause(),a.gB=!1,a.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),a.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),a.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),a.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),a.removeEventListener(dJ.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{a.currentTime=this._startTime}catch(b){}dJ.HTMLAudioTagPool.set(this.src,a),this._playbackResource=null}},a._beginPlaying=function(a){return this._playbackResource=dJ.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(a)},a._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var a=this._playbackResource;return a.addEventListener(dJ.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),a.addEventListener(dJ.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),a.preload="auto",void a.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(dJ.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(dJ.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.gB=!0)),this._playbackResource.play()},a._handleTagReady=function(){this._playbackResource.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},a._pause=function(){this._playbackResource.pause()},a._resume=function(){this._playbackResource.play()},a._updateVolume=function(){if(null!=this._playbackResource){var a=this._muted||dJ.Sound._masterMute?0:this._volume*dJ.Sound._masterVolume;a!=this._playbackResource.volume&&(this._playbackResource.volume=a)}},a._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},a._updatePosition=function(){this._playbackResource.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(a){this._handleSetPositionSeek(null)}},a._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},a._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("gB")))},a._handleLoop=function(){0==this._loop&&(this._playbackResource.gB=!1,this._playbackResource.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},a._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==dJ.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(dJ.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},a._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==dJ.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(dJ.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(dJ.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},a._setDurationFromSource=function(){this._duration=dJ.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},dJ.HTMLAudioSoundInstance=dJ.promote(HTMLAudioSoundInstance,"AbstractSoundInstance")}(),this.dJ=this.dJ||{},function(){"use strict";function HTMLAudioPlugin(){this.AbstractPlugin_constructor(),this._capabilities=b._capabilities,this._loaderClass=dJ.SoundLoader,this._soundInstanceClass=dJ.HTMLAudioSoundInstance}var a=dJ.extend(HTMLAudioPlugin,dJ.AbstractPlugin),b=HTMLAudioPlugin;b.MAX_INSTANCES=30,b._AUDIO_READY="canplaythrough",b._AUDIO_ENDED="ended",b._AUDIO_SEEKED="seeked",b._AUDIO_STALLED="stalled",b._TIME_UPDATE="timeupdate",b._capabilities=null,b.isSupported=function(){return b._generateCapabilities(),null!=b._capabilities},b._generateCapabilities=function(){if(null==b._capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;b._capabilities={panning:!1,volume:!0,tracks:-1};for(var c=dJ.Sound.SUPPORTED_EXTENSIONS,d=dJ.Sound.EXTENSION_MAP,e=0,f=c.length;f>e;e++){var g=c[e],h=d[g]||g;b._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}}},a.register=function(a){var b=dJ.HTMLAudioTagPool.get(a.src),c=this.AbstractPlugin_register(a);return c.setTag(b),c},a.removeSound=function(a){this.AbstractPlugin_removeSound(a),dJ.HTMLAudioTagPool.remove(a)},a.CE=function(a,b,c){var d=this.AbstractPlugin_create(a,b,c);return d.playbackResource=null,d},a.toString=function(){return"[HTMLAudioPlugin]"},a.setVolume=a.getVolume=a.setMute=null,dJ.HTMLAudioPlugin=dJ.promote(HTMLAudioPlugin,"AbstractPlugin")}();var Sound=function(){}
var api=api||Can.api;Sound.loadAssets=function(d,p,end){if(!d)d=api.data.sounds;console.log(d)
if(!d)return;p=p||"audio/";Sound.removeAssets(d,p);dJ.Sound.alternateExtensions=["mp3"];dJ.Sound.registerSounds(d,p);var n=d.length;var a=dJ.Sound.on("fileload",ld,this);function ld(e){console.log("load sounds-->:",n)
n--;if(n<=0){dJ.Sound.off("fileload",a);e6.gE(end);}}}
Sound.removeAssets=function(d,p){if(!d)d=api.data.sounds;if(!d)return;p=p||"audio/";dJ.Sound.removeSounds(d,p);}
Sound.play=function(id,l,v=1,end){if(String(id).match(/\.mp3/)){dJ.Sound.on("fileload",loadHandler);dJ.Sound.registerSound(id,id);function loadHandler(event){dJ.Sound.play(id);}
return;}
if(l)var o={gB:l};var s=dJ.Sound.play(id,o);s.off("complete",a);s.volume=v;var a=s.on("complete",function(){s.off("complete",a);e6.gE(end);},this);}
Sound.mute=function(id){dJ.Sound.stop();}
e6.push([["SD1",function(id,l,v=1,g7){id=e5.iS(id);l=e5.iS(l);l=l||1;v=e5.iS(v);v=v||1;console.log("play:",id)
Sound.play(id,l,v,g7);}],["SD2",function(id){if(!id){Sound.mute();return;}
var a=Sound.audios[id];if(a)
a.stop();}],["SD3",function(d,p,g7){d=e5.iS(d);p=e5.iS(p);if(!d)d=can.data.data.sounds;Sound.loadAssets(d,p,g7);}]]);function int(v){return parseInt(v);}
function len(v){if(typeof v=='string'||v instanceof Array)return v.length;else return 0;}
function sub(o,v1,v2=null){if(typeof o=='string')return o.substr(v1,v2);}
function typeOf(name){let o=AB.gG(name);if(o)return o.mod;return undefined;}
function hasUI(name){let o=AB.gG(name);return!o?false:true;}
function getTime(){return new Date().getTime();}
Object.defineProperties(AB.prototype,{svg:{configurable:true,enumerable:true,get:function(){return this.eK;},set:function(obj){if(!obj)return;this.eK=obj}},value:{configurable:true,enumerable:true,get:function(){return this.fR();},set:function(v){this.fS(v);}},tap:{configurable:true,enumerable:true,get:function(){return this.mouseUp;},set:function(v){this.mouseUp=v;}}});Object.defineProperties(hP.prototype,{value:{configurable:true,enumerable:true,get:function(){return this.fR();},set:function(v){this.fS(v);}}});B1.prototype.add=function(eT,index){}
var eE={};can.api=eE;eE.val=function(name,value){can.objects.define_data=can.objects.define_data||{}
var o={};o[name]={configurable:true,enumerable:true,get:function(){return can.data.data[name];},set:function(v){can.data.data[name]=v;}}
can.objects.define_data=Object.assign(can.objects.define_data,o);Object.defineProperties(can.objects,can.objects.define_data);can.objects[name]=value;}
eE.getUI=function(name){return AB.gG(name);}
eE.registMethod=function(name,method){eE.methods[name]=method;}
eE.__defineGetter__('FPS',function(){return can.timer.g6;});eE.__defineSetter__('FPS',function(v){can.timer.g6=v;});eE.__defineGetter__('timer',function(){return can.timer;});eE.__defineGetter__('data',function(){return can.data.data;});eE.__defineSetter__('data',function(v){return can.data.data=v;});eE.__defineGetter__('style',function(){return can.data.style;});eE.__defineSetter__('style',function(v){return can.data.style=v;});eE.__defineGetter__('images',function(){return can.data.images;});eE.__defineSetter__('images',function(v){return can.data.images=v;});eE.getStageSacle=function(){return can.A6.scale;};eE.showUI=function(obj,parent,eff=-1){if(obj instanceof Array){for(var n=0,l=obj.length;n<l;n++){f(obj[n]);}}else if(typeof obj=="string"){return f(obj);}
function f(d){var o=AB.gG(d);if(o){o.visible=true;return o;}else return can.AR.hH(d,-1,eff,parent);}}
eE.hideUI=function(obj,eff=-1){if(obj instanceof Array){for(var n=0,l=obj.length;n<l;n++){f(obj[n]);}}else if(typeof obj=="string"){return f(obj);}
function f(d){var o=AB.gG(d);if(o){can.AR.hI(o.id,o.index,eff);}}}
eE.remove=function(){for(var n=0,l=arguments.length;n<l;n++){var o=arguments[n];if(typeof o=="string")o=Obj.get(o);if(o&&o.parent)o.clear();}}
eE.update=function(){for(var n=0,l=arguments.length;n<l;n++){var o=arguments[n];if(typeof o=="string")o=AB.gG(o);if(o&&o.parent)o.gP();}}
eE.load=function(url,callback){url=e5.iS(url);var ex=url.cS("/",".");ex=ex[ex.length-1];ex=ex[ex.length-1];switch(ex){case("js"):can.cV.i7(url,callback);break;case("can"):case("json"):can.jM(url,function(){can.AR.init();can.cV.eC(null,function(){CI.iR=null;e6.gE(can.AR.CL);if(callback)callback();})},null);break;case("txt"):CI.jA(url,callback);break;}
console.log("load:",url)}
eE.loadAudios=function(data,path,ended){Sound.loadAssets(data,path,ended);}
eE.audio=Sound;eE.playSound=function(id,gB=0,vol=1,ended){Sound.play(id,gB,vol,ended);}
eE.stopSound=function(id){Sound.stop(id);}
eE.getLocal=function(obj){if(typeof obj=="string")var o=AB.gG(obj);else o=obj;if(!o){console.log("there is not Object named: "+obj);return;}
var p=o.j8(0,0);return p;}
eE.getChildren=function(obj){if(typeof obj=="string")var o=AB.gG(obj);else o=obj;if(!o){console.log("there is not Object named: "+obj);return;}
return o.AW;}
eE.runActionGroup=function(id,v,d="action",e8=","){can.eB.dM(id,v,d,e8);}
eE.runAction=function(name){e6.gE(can.data.methods[name]);}
eE.createUI=function(id,index,dE,parent,style){return AB.dC(id,index,dE,parent,style);}
eE.getTarget=function(){if(AB.j1)return AB.j1;}
eE.getTargetIndex=function(){if(AB.j1)return AB.j1.index;}
eE.getMouseEvent=function(){return Event.mouseEvent;}
eE.getSwitchGroup=function(id){if(!jH.B7[id])return null;return jH.B7[id];}
eE.getSwitchGroupByName=function(name){var o=AB.gG(name);if(!o)return;let id=o.data.group;if(!jH.B7[id])return null;return jH.B7[id];}
eE.ajax=function(scriptName,d,m="POST",onload=null,ioerror=null,parseJson=false){if(window.XMLHttpRequest)var t=new XMLHttpRequest();else if(window.ActiveXObject)t=new window.ActiveXObject();else return;if(t!=null){if(m=="POST"){t.open(m,scriptName,true);t.setRequestHeader("Content-type","application/x-www-form-urlencoded");t.send(d);}else{d=d?"?"+d:""
t.open(m,scriptName+d,true);t.send(null);}
t.onreadystatechange=function(){if(t.readyState==4&&t.status==200){if(t.responseText!=undefined){if(parseJson&&(t.responseText.match(/{(.*?)}/i)||t.responseText.match(/[(.*?)]/i))){var r=eval('('+t.responseText+')');}else{r=t.responseText;}
if(onload)onload(r);}}else if(t.readyState==404){if(ioerror)ioerror();}};}}
eE.moveObjectTo=function(hW,px,py,time=0,g8=null,callback=null){var o=AB.gG(hW);if(!o)return;var e=Event.mouseEvent;if(e){var p1=o.parent.fF(e.stageX,e.stageY);}
var dx=!px&&px!==0&&p1?p1.x:px,dy=!py&&py!==0&&p1?p1.y:py;if(time>0){var spx=(dx-o.x)/time,spy=(dy-o.y)/time;can.timer.play(1,time,function(){o.x+=spx;o.y+=spy;if(g8)g8();},function(){o.x=dx;o.y=dy;if(callback)callback();},false,hW);}else{o.x=dx;o.y=dy;}}
eE.import=function(i4,end,type="text"){can.cV.dN(i4,end,type);}
eE.appendStyle=function(obj,style){if(typeof obj=="string")var o=AB.gG(obj);else o=obj;if(!o){console.log("there is not Object named: "+obj);return;}
o.style=Object.assign(o.style,style);o.g3();}
eE.loadAssets=function(data,ended,clippingData=null){can.cV.eC(data,ended,clippingData);}
eE.getLocationArg=function(agr){let rg=new RegExp("(^|&)"+agr+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(rg);if(r)return r[2];}
eE.set=function(agr,value){if(agr.charAt(0)=="$"&&agr.indexOf(".")<0){eE.val(agr.substr(1),value);return;}
e5.fT(agr,value);}
eE.get=function(str){if(!str.match(/\$|\@|\{/)){var o=AB.gG(str);if(o)return o;o=can.objects[str];if(o)return o;return null;}
return e5.iS(str);}
eE.editor={onStart:function(){},onLoad:function(){console.log("load:",eE.editor.getProject());},onSave:function(){console.log("save:",eE.editor.getProject());},onDebug:function(){console.log("debug:",eE.editor.getProject());},onPublish:function(){console.log("publish:",eE.editor.getProject());},getProject:function(){var o={},d=can.data.data;o.name=d.nodes.projectName;o.user=d.user;o.data=d.nodes;return o;},activatePlugin:function(name){var d=can.data.data.plugin;for(var n=0;n<d.length;n++){if(d[n].name==name)
e6.gE(d[n].action);}},registerPlugin:function(name,action,ico){var d=can.data.data.plugin;for(var i in d){if(d[i].name==name){d[i]={name:name,action:action,ico:ico};return;}}
can.data.data.plugin.push({name:name,action:action,ico:ico});},registerComponent:function(url,end){eF.ajax(url,null,'GET',function(d){if(!d)return;can.data.components.childNodes[d.data.id]=d.data;can.data.style=Object.assign(can.data.style,d.style);can.data.methods=Object.assign(can.data.methods,d.methods);console.log(can.data)
e6.gE(end);},null,true);}}
var QRCode;(function(){function b(H){this.mode=v.MODE_8BIT_BYTE,this.data=H,this.parsedData=[];for(var I=0,J=this.data.length;I<J;I++){var K=[],L=this.data.charCodeAt(I);65536<L?(K[0]=240|(1835008&L)>>>18,K[1]=128|(258048&L)>>>12,K[2]=128|(4032&L)>>>6,K[3]=128|63&L):2048<L?(K[0]=224|(61440&L)>>>12,K[1]=128|(4032&L)>>>6,K[2]=128|63&L):128<L?(K[0]=192|(1984&L)>>>6,K[1]=128|63&L):K[0]=L,this.parsedData.push(K)}
this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}
function f(H,I){this.typeNumber=H,this.errorCorrectLevel=I,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}
function g(H,I){if(H.length==void 0)throw new Error(H.length+"/"+I);for(var J=0;J<H.length&&0==H[J];)J++;this.num=Array(H.length-J+I);for(var K=0;K<H.length-J;K++)this.num[K]=H[K+J]}
function h(H,I){this.totalCount=H,this.dataCount=I}
function m(){this.buffer=[],this.length=0}
function s(){var H=!1,I=navigator.userAgent;if(/android/i.test(I)){H=!0;var J=I.toString().match(/android ([0-9]\.[0-9])/i);J&&J[1]&&(H=parseFloat(J[1]))}
return H}
function t(H,I){for(var N,J=1,K=u(H),L=0,M=D.length;L<=M&&(N=0,I===w.L?N=D[L][0]:I===w.M?N=D[L][1]:I===w.Q?N=D[L][2]:I===w.H?N=D[L][3]:void 0,!(K<=N));L++)J++;if(J>D.length)throw new Error("Too long data");return J}
function u(H){var I=encodeURI(H).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return I.length+(I.length==H?0:3)}
b.prototype={dZ:function(){return this.parsedData.length},write:function(H){for(var I=0,J=this.parsedData.length;I<J;I++)H.put(this.parsedData[I],8)}},f.prototype={addData:function(H){var I=new b(H);this.dataList.push(I),this.dataCache=null},isDark:function(H,I){if(0>H||this.moduleCount<=H||0>I||this.moduleCount<=I)throw new Error(H+","+I);return this.modules[H][I]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(H,I){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var J=0;J<this.moduleCount;J++){this.modules[J]=Array(this.moduleCount);for(var K=0;K<this.moduleCount;K++)this.modules[J][K]=null}
this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(H,I),7<=this.typeNumber&&this.setupTypeNumber(H),null==this.dataCache&&(this.dataCache=f.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,I)},setupPositionProbePattern:function(H,I){for(var J=-1;7>=J;J++)
if(!(-1>=H+J||this.moduleCount<=H+J))
for(var K=-1;7>=K;K++)-1>=I+K||this.moduleCount<=I+K||(this.modules[H+J][I+K]=0<=J&&6>=J&&(0==K||6==K)||0<=K&&6>=K&&(0==J||6==J)||2<=J&&4>=J&&2<=K&&4>=K)},getBestMaskPattern:function(){for(var H=0,I=0,J=0;8>J;J++){this.makeImpl(!0,J);var K=A.getLostPoint(this);(0==J||H>K)&&(H=K,I=J)}
return I},createMovieClip:function(H,I,J){var K=H.createEmptyMovieClip(I,J),L=1;this.make();for(var N,M=0;M<this.modules.length;M++){N=M*L;for(var O=0;O<this.modules[M].length;O++){var P=O*L,Q=this.modules[M][O];Q&&(K.beginFill(0,100),K.AP(P,N),K.lineTo(P+L,N),K.lineTo(P+L,N+L),K.lineTo(P,N+L),K.endFill())}}
return K},setupTimingPattern:function(){for(var H=8;H<this.moduleCount-8;H++)null==this.modules[H][6]&&(this.modules[H][6]=0==H%2);for(var I=8;I<this.moduleCount-8;I++)null==this.modules[6][I]&&(this.modules[6][I]=0==I%2)},setupPositionAdjustPattern:function(){for(var H=A.getPatternPosition(this.typeNumber),I=0;I<H.length;I++)
for(var J=0;J<H.length;J++){var K=H[I],L=H[J];if(null==this.modules[K][L])
for(var M=-2;2>=M;M++)
for(var N=-2;2>=N;N++)this.modules[K+M][L+N]=-2==M||2==M||-2==N||2==N||0==M&&0==N}},setupTypeNumber:function(H){for(var K,I=A.getBCHTypeNumber(this.typeNumber),J=0;18>J;J++)K=!H&&1==(1&I>>J),this.modules[Math.floor(J/3)][J%3+this.moduleCount-8-3]=K;for(var K,J=0;18>J;J++)K=!H&&1==(1&I>>J),this.modules[J%3+this.moduleCount-8-3][Math.floor(J/3)]=K},setupTypeInfo:function(H,I){for(var M,J=this.errorCorrectLevel<<3|I,K=A.getBCHTypeInfo(J),L=0;15>L;L++)M=!H&&1==(1&K>>L),6>L?this.modules[L][8]=M:8>L?this.modules[L+1][8]=M:this.modules[this.moduleCount-15+L][8]=M;for(var M,L=0;15>L;L++)M=!H&&1==(1&K>>L),8>L?this.modules[8][this.moduleCount-L-1]=M:9>L?this.modules[8][15-L-1+1]=M:this.modules[8][15-L-1]=M;this.modules[this.moduleCount-8][8]=!H},mapData:function(H,I){for(var J=-1,K=this.moduleCount-1,L=7,M=0,N=this.moduleCount-1;0<N;N-=2)
for(6==N&&N--;;){for(var O=0;2>O;O++)
if(null==this.modules[K][N-O]){var P=!1;M<H.length&&(P=1==(1&H[M]>>>L));var Q=A.getMask(I,K,N-O);Q&&(P=!P),this.modules[K][N-O]=P,L--,-1==L&&(M++,L=7)}
if(K+=J,0>K||this.moduleCount<=K){K-=J,J=-J;break}}}},f.PAD0=236,f.PAD1=17,f.createData=function(H,I,J){for(var N,K=h.getRSBlocks(H,I),L=new m,M=0;M<J.length;M++)N=J[M],L.put(N.mode,4),L.put(N.dZ(),A.getLengthInBits(N.mode,H)),N.write(L);for(var O=0,M=0;M<K.length;M++)O+=K[M].dataCount;if(L.getLengthInBits()>8*O)throw new Error("code length overflow. ("+L.getLengthInBits()+">"+8*O+")");for(L.getLengthInBits()+4<=8*O&&L.put(0,4);0!=L.getLengthInBits()%8;)L.putBit(!1);for(;!(L.getLengthInBits()>=8*O)&&!(L.put(f.PAD0,8),L.getLengthInBits()>=8*O);)L.put(f.PAD1,8);return f.createBytes(L,K)},f.createBytes=function(H,I){for(var J=0,K=0,L=0,M=Array(I.length),N=Array(I.length),O=0;O<I.length;O++){var P=I[O].dataCount,Q=I[O].totalCount-P;K=Math.max(K,P),L=Math.max(L,Q),M[O]=Array(P);for(var R=0;R<M[O].length;R++)M[O][R]=255&H.buffer[R+J];J+=P;var S=A.getErrorCorrectPolynomial(Q),T=new g(M[O],S.dZ()-1),U=T.mod(S);N[O]=Array(S.dZ()-1);for(var V,R=0;R<N[O].length;R++)V=R+U.dZ()-N[O].length,N[O][R]=0<=V?U.get(V):0}
for(var W=0,R=0;R<I.length;R++)W+=I[R].totalCount;for(var X=Array(W),Y=0,R=0;R<K;R++)
for(var O=0;O<I.length;O++)R<M[O].length&&(X[Y++]=M[O][R]);for(var R=0;R<L;R++)
for(var O=0;O<I.length;O++)R<N[O].length&&(X[Y++]=N[O][R]);return X};for(var v={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},w={L:1,M:0,Q:3,H:2},z={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},A={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(H){for(var I=H<<10;0<=A.getBCHDigit(I)-A.getBCHDigit(A.G15);)I^=A.G15<<A.getBCHDigit(I)-A.getBCHDigit(A.G15);return(H<<10|I)^A.G15_MASK},getBCHTypeNumber:function(H){for(var I=H<<12;0<=A.getBCHDigit(I)-A.getBCHDigit(A.G18);)I^=A.G18<<A.getBCHDigit(I)-A.getBCHDigit(A.G18);return H<<12|I},getBCHDigit:function(H){for(var I=0;0!=H;)I++,H>>>=1;return I},getPatternPosition:function(H){return A.PATTERN_POSITION_TABLE[H-1]},getMask:function(H,I,J){switch(H){case z.PATTERN000:return 0==(I+J)%2;case z.PATTERN001:return 0==I%2;case z.PATTERN010:return 0==J%3;case z.PATTERN011:return 0==(I+J)%3;case z.PATTERN100:return 0==(Math.floor(I/2)+Math.floor(J/3))%2;case z.PATTERN101:return 0==I*J%2+I*J%3;case z.PATTERN110:return 0==(I*J%2+I*J%3)%2;case z.PATTERN111:return 0==(I*J%3+(I+J)%2)%2;default:throw new Error("bad maskPattern:"+H);}},getErrorCorrectPolynomial:function(H){for(var I=new g([1],0),J=0;J<H;J++)I=I.multiply(new g([1,B.gexp(J)],0));return I},getLengthInBits:function(H,I){if(1<=I&&10>I)switch(H){case v.MODE_NUMBER:return 10;case v.MODE_ALPHA_NUM:return 9;case v.MODE_8BIT_BYTE:return 8;case v.MODE_KANJI:return 8;default:throw new Error("mode:"+H);}else if(27>I)switch(H){case v.MODE_NUMBER:return 12;case v.MODE_ALPHA_NUM:return 11;case v.MODE_8BIT_BYTE:return 16;case v.MODE_KANJI:return 10;default:throw new Error("mode:"+H);}else if(41>I)switch(H){case v.MODE_NUMBER:return 14;case v.MODE_ALPHA_NUM:return 13;case v.MODE_8BIT_BYTE:return 16;case v.MODE_KANJI:return 12;default:throw new Error("mode:"+H);}else throw new Error("type:"+I)},getLostPoint:function(H){for(var I=H.getModuleCount(),J=0,K=0;K<I;K++)
for(var L=0;L<I;L++){for(var M=0,N=H.isDark(K,L),O=-1;1>=O;O++)
if(!(0>K+O||I<=K+O))
for(var P=-1;1>=P;P++)0>L+P||I<=L+P||(0!=O||0!=P)&&N==H.isDark(K+O,L+P)&&M++;5<M&&(J+=3+M-5)}
for(var K=0;K<I-1;K++)
for(var Q,L=0;L<I-1;L++)Q=0,H.isDark(K,L)&&Q++,H.isDark(K+1,L)&&Q++,H.isDark(K,L+1)&&Q++,H.isDark(K+1,L+1)&&Q++,(0==Q||4==Q)&&(J+=3);for(var K=0;K<I;K++)
for(var L=0;L<I-6;L++)H.isDark(K,L)&&!H.isDark(K,L+1)&&H.isDark(K,L+2)&&H.isDark(K,L+3)&&H.isDark(K,L+4)&&!H.isDark(K,L+5)&&H.isDark(K,L+6)&&(J+=40);for(var L=0;L<I;L++)
for(var K=0;K<I-6;K++)H.isDark(K,L)&&!H.isDark(K+1,L)&&H.isDark(K+2,L)&&H.isDark(K+3,L)&&H.isDark(K+4,L)&&!H.isDark(K+5,L)&&H.isDark(K+6,L)&&(J+=40);for(var R=0,L=0;L<I;L++)
for(var K=0;K<I;K++)H.isDark(K,L)&&R++;var S=Math.abs(100*R/I/I-50)/5;return J+=10*S,J}},B={glog:function(H){if(1>H)throw new Error("glog("+H+")");return B.LOG_TABLE[H]},gexp:function(H){for(;0>H;)H+=255;for(;256<=H;)H-=255;return B.EXP_TABLE[H]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},C=0;8>C;C++)B.EXP_TABLE[C]=1<<C;for(var C=8;256>C;C++)B.EXP_TABLE[C]=B.EXP_TABLE[C-4]^B.EXP_TABLE[C-5]^B.EXP_TABLE[C-6]^B.EXP_TABLE[C-8];for(var C=0;255>C;C++)B.LOG_TABLE[B.EXP_TABLE[C]]=C;g.prototype={get:function(H){return this.num[H]},dZ:function(){return this.num.length},multiply:function(H){for(var I=Array(this.dZ()+H.dZ()-1),J=0;J<this.dZ();J++)
for(var K=0;K<H.dZ();K++)I[J+K]^=B.gexp(B.glog(this.get(J))+B.glog(H.get(K)));return new g(I,0)},mod:function(H){if(0>this.dZ()-H.dZ())return this;for(var I=B.glog(this.get(0))-B.glog(H.get(0)),J=Array(this.dZ()),K=0;K<this.dZ();K++)J[K]=this.get(K);for(var K=0;K<H.dZ();K++)J[K]^=B.gexp(B.glog(H.get(K))+I);return new g(J,0).mod(H)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(H,I){var J=h.getRsBlockTable(H,I);if(J==void 0)throw new Error("bad rs block @ typeNumber:"+H+"/errorCorrectLevel:"+I);for(var K=J.length/3,L=[],M=0;M<K;M++)
for(var N=J[3*M+0],O=J[3*M+1],P=J[3*M+2],Q=0;Q<N;Q++)L.push(new h(O,P));return L},h.getRsBlockTable=function(H,I){return I===w.L?h.RS_BLOCK_TABLE[4*(H-1)+0]:I===w.M?h.RS_BLOCK_TABLE[4*(H-1)+1]:I===w.Q?h.RS_BLOCK_TABLE[4*(H-1)+2]:I===w.H?h.RS_BLOCK_TABLE[4*(H-1)+3]:void 0},m.prototype={get:function(H){var I=Math.floor(H/8);return 1==(1&this.buffer[I]>>>7-H%8)},put:function(H,I){for(var J=0;J<I;J++)this.putBit(1==(1&H>>>I-J-1))},getLengthInBits:function(){return this.length},putBit:function(H){var I=Math.floor(this.length/8);this.buffer.length<=I&&this.buffer.push(0),H&&(this.buffer[I]|=128>>>this.length%8),this.length++}};var D=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],E=function(){var H=function(I,J){this._el=I,this._htOption=J};return H.prototype.draw=function(I){function J(T,U){var V=document.createElementNS("http://www.w3.org/2000/svg",T);for(var W in U)U.hasOwnProperty(W)&&V.setAttribute(W,U[W]);return V}
var K=this._htOption,L=this._el,M=I.getModuleCount(),N=Math.floor(K.width/M),O=Math.floor(K.height/M);this.clear();var P=J("svg",{viewBox:"0 0 "+(M+" ")+(M+""),width:"100%",height:"100%",fill:K.colorLight});P.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),L.appendChild(P),P.appendChild(J("rect",{fill:K.colorLight,width:"100%",height:"100%"})),P.appendChild(J("rect",{fill:K.colorDark,width:"1",height:"1",id:"template"}));for(var Q=0;Q<M;Q++)
for(var R=0;R<M;R++)
if(I.isDark(Q,R)){var S=J("use",{x:R+"",y:Q+""});S.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),P.appendChild(S)}},H.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},H}(),F="svg"===document.documentElement.tagName.toLowerCase(),G=F?E:function(){return"undefined"!=typeof CanvasRenderingContext2D}()?function(){function H(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}
function I(M,N){var O=this;if(O._fFail=N,O._fSuccess=M,null===O._bSupportDataURI){var P=document.createElement("img"),Q=function(){O._bSupportDataURI=!1,O._fFail&&O._fFail.call(O)},R=function(){O._bSupportDataURI=!0,O._fSuccess&&O._fSuccess.call(O)};return P.onabort=Q,P.onerror=Q,P.onload=R,void(P.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===O._bSupportDataURI&&O._fSuccess?O._fSuccess.call(O):!1===O._bSupportDataURI&&O._fFail&&O._fFail.call(O)}
if(this._android&&2.1>=this._android){var J=1/window.devicePixelRatio,K=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(M,N,O,P,Q,R,S,T){if("nodeName"in M&&/img/i.test(M.nodeName))
for(var V=arguments.length-1;1<=V;V--)arguments[V]*=J;else"undefined"==typeof T&&(arguments[1]*=J,arguments[2]*=J,arguments[3]*=J,arguments[4]*=J);K.apply(this,arguments)}}
var L=function(M,N){this._bIsPainted=!1,this._android=s(),this._htOption=N,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=N.width,this._elCanvas.height=N.height,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=M,this._bSupportDataURI=null};return L.prototype.draw=function(M){var N=this._elImage,O=this._oContext,P=this._htOption,Q=M.getModuleCount(),R=P.width/Q,S=P.height/Q,T=Math.round(R),U=Math.round(S);this.clear();for(var V=0;V<Q;V++)
for(var W=0;W<Q;W++){var X=M.isDark(V,W),Y=W*R,Z=V*S;O.strokeStyle=X?P.colorDark:P.colorLight,O.lineWidth=1,O.fillStyle=X?P.colorDark:P.colorLight,O.fillRect(Y,Z,R,S),O.strokeRect(Math.floor(Y)+0.5,Math.floor(Z)+0.5,T,U),O.strokeRect(Math.ceil(Y)-0.5,Math.ceil(Z)-0.5,T,U)}
this._bIsPainted=!0},L.prototype.makeImage=function(){this._bIsPainted&&I.call(this,H)},L.prototype.isPainted=function(){return this._bIsPainted},L.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},L.prototype.round=function(M){return M?Math.floor(1e3*M)/1e3:M},L}():function(){var H=function(I,J){this._el=I,this._htOption=J};return H.prototype.draw=function(I){for(var J=this._htOption,K=this._el,L=I.getModuleCount(),M=Math.floor(J.width/L),N=Math.floor(J.height/L),O=["<table style=\"border:0;border-collapse:collapse;\">"],P=0;P<L;P++){O.push("<tr>");for(var Q=0;Q<L;Q++)O.push("<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:"+M+"px;height:"+N+"px;background-color:"+(I.isDark(P,Q)?J.colorDark:J.colorLight)+";\"></td>");O.push("</tr>")}
O.push("</table>"),K.innerHTML=O.join("");var R=K.childNodes[0],S=(J.width-R.offsetWidth)/2,T=(J.height-R.offsetHeight)/2;0<S&&0<T&&(R.style.margin=T+"px "+S+"px")},H.prototype.clear=function(){this._el.innerHTML=""},H}();QRCode=function(H,I){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:w.H},"string"==typeof I&&(I={text:I}),I)
for(var J in I)this._htOption[J]=I[J];"string"==typeof H&&(H=document.getElementById(H)),this._htOption.useSVG&&(G=E),this._android=s(),this._el=H,this._oQRCode=null,this._oDrawing=new G(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(H){this._oQRCode=new f(t(H,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(H),this._oQRCode.make(),this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=w})();e6.push([["QR1",function(b,f){f=e5.iS(f);var g=AB.gG(b);if(g){var m=new QRCode(g,{width:g.width,height:g.height});m.makeCode(f);}}]]); Can=can})()