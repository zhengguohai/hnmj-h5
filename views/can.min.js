var Can=Can||{};(function(){console.log('Cansvg  version:1.272.371');console.log('Powered By Alxmo  https://can.alxmo.com');

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).e3=t()}}(function(){return function t(e,a,i){function n(s,o){if(!a[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}
var d=a[s]={exports:{}};e[s][0].call(d.exports,function(t){var a=e[s][1][t];return n(a||t)},d,d.exports,t,e,a,i)}
return a[s].exports}
for(var r="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,a){function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({level:_,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var a=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==f)throw new Error(l[a]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=r.deflateSetDictionary(this.strm,n))!==f)throw new Error(l[a]);this._dict_set=!0}}
function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg||l[a.err];return a.result}
var r=t("./zlib/e2"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),h=t("./zlib/zstream"),d=Object.prototype.toString,f=0,_=-1,u=0,c=8;i.prototype.push=function(t,e){var a,i,n=this.strm,l=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?n.input=o.string2buf(t):"[object ArrayBuffer]"===d.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new s.Buf8(l),n.next_out=0,n.avail_out=l),1!==(a=r.e2(n,i))&&a!==f)return this.fM(a),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(o.buf2binstring(s.shrinkBuf(n.output,n.next_out))):this.onData(s.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==a);return 4===i?(a=r.deflateEnd(this.strm),this.fM(a),this.ended=!0,a===f):2!==i||(this.fM(f),n.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.fM=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=i,a.e2=n,a.deflateRaw=function(t,e){return e=e||{},e.raw=!0,n(t,e)},a.gzip=function(t,e){return e=e||{},e.gzip=!0,n(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/e2":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,a){function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var a=r.inflateInit2(this.strm,e.windowBits);if(a!==l.Z_OK)throw new Error(h[a]);this.header=new f,r.inflateGetHeader(this.strm,this.header)}
function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg||h[a.err];return a.result}
var r=t("./zlib/e0"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),h=t("./zlib/messages"),d=t("./zlib/zstream"),f=t("./zlib/gzheader"),_=Object.prototype.toString;i.prototype.push=function(t,e){var a,i,n,h,d,f,u=this.strm,c=this.options.chunkSize,b=this.options.dictionary,g=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?u.input=o.binstring2buf(t):"[object ArrayBuffer]"===_.call(t)?u.input=new Uint8Array(t):u.input=t,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new s.Buf8(c),u.next_out=0,u.avail_out=c),(a=r.e0(u,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&b&&(f="string"==typeof b?o.string2buf(b):"[object ArrayBuffer]"===_.call(b)?new Uint8Array(b):b,a=r.inflateSetDictionary(this.strm,f)),a===l.Z_BUF_ERROR&&!0===g&&(a=l.Z_OK,g=!1),a!==l.Z_STREAM_END&&a!==l.Z_OK)return this.fM(a),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&a!==l.Z_STREAM_END&&(0!==u.avail_in||i!==l.Z_FINISH&&i!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(n=o.utf8border(u.output,u.next_out),h=u.next_out-n,d=o.buf2string(u.output,n),u.next_out=h,u.avail_out=c-h,h&&s.arraySet(u.output,u.output,n,h,0),this.onData(d)):this.onData(s.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(g=!0)}while((u.avail_in>0||0===u.avail_out)&&a!==l.Z_STREAM_END);return a===l.Z_STREAM_END&&(i=l.Z_FINISH),i===l.Z_FINISH?(a=r.inflateEnd(this.strm),this.fM(a),this.ended=!0,a===l.Z_OK):i!==l.Z_SYNC_FLUSH||(this.fM(l.Z_OK),u.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.fM=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=i,a.e0=n,a.inflateRaw=function(t,e){return e=e||{},e.raw=!0,n(t,e)},a.ungzip=n},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/e0":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,a){function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var n in a)i(a,n)&&(t[n]=a[n])}}
return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,a,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+i),n);else
for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){var e,a,i,n,r,s;for(i=0,e=0,a=t.length;e<a;e++)i+=t[e].length;for(s=new Uint8Array(i),n=0,e=0,a=t.length;e<a;e++)r=t[e],s.set(r,n),n+=r.length;return s}},s={arraySet:function(t,e,a,i,n){for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,r)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,s))},a.setTyped(n)},{}],4:[function(t,e,a){function i(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var a="",i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a}
var n=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}
try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}
for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,a.string2buf=function(t){var e,a,i,r,s,o=t.length,l=0;for(r=0;r<o;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(i-56320),r++),l+=a<128?1:a<2048?2:a<65536?3:4;for(e=new n.Buf8(l),s=0,r=0;s<l;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(i-56320),r++),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},a.buf2binstring=function(t){return i(t,t.length)},a.binstring2buf=function(t){for(var e=new n.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,r,s,l=e||t.length,h=new Array(2*l);for(n=0,a=0;a<l;)
if((r=t[a++])<128)h[n++]=r;else if((s=o[r])>4)h[n++]=65533,a+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&a<l;)r=r<<6|63&t[a++],s--;s>1?h[n++]=65533:r<65536?h[n++]=r:(r-=65536,h[n++]=55296|r>>10&1023,h[n++]=56320|1023&r)}
return i(h,n)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":3}],5:[function(t,e,a){e.exports=function(t,e,a,i){for(var n=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{r=r+(n=n+e[i++]|0)|0}while(--s);n%=65521,r%=65521}
return n|r<<16|0}},{}],6:[function(t,e,a){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,a){var i=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}
return e}();e.exports=function(t,e,a,n){var r=i,s=n+a;t^=-1;for(var o=n;o<s;o++)t=t>>>8^r[255&(t^e[o])];return-1^t}},{}],8:[function(t,e,a){function i(t,e){return t.msg=A[e],e}
function n(t){return(t<<1)-(t>4?9:0)}
function r(t){for(var e=t.length;--e>=0;)t[e]=0}
function s(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(z.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}
function o(t,e){B._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}
function l(t,e){t.pending_buf[t.pending++]=e}
function h(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}
function d(t,e,a,i){var n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,z.arraySet(e,t.input,t.next_in,n,a),1===t.state.wrap?t.adler=S(t.adler,e,n,a):2===t.state.wrap&&(t.adler=E(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)}
function f(t,e){var a,i,n=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-it?t.strstart-(t.w_size-it):0,h=t.window,d=t.w_mask,f=t.prev,_=t.strstart+at,u=h[r+s-1],c=h[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+s]===c&&h[a+s-1]===u&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do{}while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<_);if(i=at-(_-r),r=_-at,i>s){if(t.match_start=e,s=i,i>=o)break;u=h[r+s-1],c=h[r+s]}}}while((e=f[e&d])>l&&0!=--n);return s<=t.lookahead?s:t.lookahead}
function _(t){var e,a,i,n,r,s=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-it)){z.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=a=t.hash_size;do{i=t.head[--e],t.head[e]=i>=s?i-s:0}while(--a);e=a=s;do{i=t.prev[--e],t.prev[e]=i>=s?i-s:0}while(--a);n+=s}
if(0===t.strm.avail_in)break;if(a=d(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=a,t.lookahead+t.insert>=et)
for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+et-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<et)););}while(t.lookahead<it&&0!==t.strm.avail_in)}
function u(t,e){for(var a,i;;){if(t.lookahead<it){if(_(t),t.lookahead<it&&e===Z)return _t;if(0===t.lookahead)break}
if(a=0,t.lookahead>=et&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-it&&(t.match_length=f(t,a)),t.match_length>=et)
if(i=B._tr_tally(t,t.strstart-t.match_start,t.match_length-et),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=et){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=B._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(o(t,!1),0===t.strm.avail_out))return _t}
return t.insert=t.strstart<et-1?t.strstart:et-1,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?_t:ut}
function c(t,e){for(var a,i,n;;){if(t.lookahead<it){if(_(t),t.lookahead<it&&e===Z)return _t;if(0===t.lookahead)break}
if(a=0,t.lookahead>=et&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=et-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-it&&(t.match_length=f(t,a),t.match_length<=5&&(t.strategy===H||t.match_length===et&&t.strstart-t.match_start>4096)&&(t.match_length=et-1)),t.prev_length>=et&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-et,i=B._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-et),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=et-1,t.strstart++,i&&(o(t,!1),0===t.strm.avail_out))return _t}else if(t.match_available){if((i=B._tr_tally(t,0,t.window[t.strstart-1]))&&o(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return _t}else t.match_available=1,t.strstart++,t.lookahead--}
return t.match_available&&(i=B._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<et-1?t.strstart:et-1,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?_t:ut}
function b(t,e){for(var a,i,n,r,s=t.window;;){if(t.lookahead<=at){if(_(t),t.lookahead<=at&&e===Z)return _t;if(0===t.lookahead)break}
if(t.match_length=0,t.lookahead>=et&&t.strstart>0&&(n=t.strstart-1,(i=s[n])===s[++n]&&i===s[++n]&&i===s[++n])){r=t.strstart+at;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<r);t.match_length=at-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}
if(t.match_length>=et?(a=B._tr_tally(t,1,t.match_length-et),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=B._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(o(t,!1),0===t.strm.avail_out))return _t}
return t.insert=0,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?_t:ut}
function g(t,e){for(var a;;){if(0===t.lookahead&&(_(t),0===t.lookahead)){if(e===Z)return _t;break}
if(t.match_length=0,a=B._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(o(t,!1),0===t.strm.avail_out))return _t}
return t.insert=0,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?_t:ut}
function m(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}
function w(t){t.window_size=2*t.w_size,r(t.head),t.max_lazy_match=x[t.level].max_lazy,t.good_match=x[t.level].good_length,t.nice_match=x[t.level].nice_length,t.max_chain_length=x[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=et-1,t.match_available=0,t.ins_h=0}
function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new z.Buf16(2*$),this.dyn_dtree=new z.Buf16(2*(2*Q+1)),this.bl_tree=new z.Buf16(2*(2*V+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new z.Buf16(tt+1),this.heap=new z.Buf16(2*J+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new z.Buf16(2*J+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}
function v(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Y,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?rt:dt,t.adler=2===e.wrap?0:1,e.last_flush=Z,B._tr_init(e),D):i(t,U)}
function k(t){var e=v(t);return e===D&&w(t.state),e}
function y(t,e,a,n,r,s){if(!t)return U;var o=1;if(e===L&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>G||a!==q||n<8||n>15||e<0||e>9||s<0||s>M)return i(t,U);8===n&&(n=9);var l=new p;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+et-1)/et),l.window=new z.Buf8(2*l.w_size),l.head=new z.Buf16(l.hash_size),l.prev=new z.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new z.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=a,k(t)}
var x,z=t("../utils/common"),B=t("./trees"),S=t("./adler32"),E=t("./crc32"),A=t("./messages"),Z=0,R=1,C=3,N=4,O=5,D=0,I=1,U=-2,T=-3,F=-5,L=-1,H=1,j=2,K=3,M=4,P=0,Y=2,q=8,G=9,X=15,W=8,J=286,Q=30,V=19,$=2*J+1,tt=15,et=3,at=258,it=at+et+1,nt=32,rt=42,st=69,ot=73,lt=91,ht=103,dt=113,ft=666,_t=1,ut=2,ct=3,bt=4,gt=3;x=[new m(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_(t),0===t.lookahead&&e===Z)return _t;if(0===t.lookahead)break}
t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+a;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,o(t,!1),0===t.strm.avail_out))return _t;if(t.strstart-t.block_start>=t.w_size-it&&(o(t,!1),0===t.strm.avail_out))return _t}
return t.insert=0,e===N?(o(t,!0),0===t.strm.avail_out?ct:bt):(t.strstart>t.block_start&&(o(t,!1),t.strm.avail_out),_t)}),new m(4,4,8,4,u),new m(4,5,16,8,u),new m(4,6,32,32,u),new m(4,4,16,16,c),new m(8,16,32,32,c),new m(8,16,128,128,c),new m(8,32,128,256,c),new m(32,128,258,1024,c),new m(32,258,258,4096,c)],a.deflateInit=function(t,e){return y(t,e,q,X,W,P)},a.deflateInit2=y,a.deflateReset=k,a.deflateResetKeep=v,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?U:(t.state.gzhead=e,D):U},a.e2=function(t,e){var a,o,d,f;if(!t||!t.state||e>O||e<0)return t?i(t,U):U;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===ft&&e!==N)return i(t,0===t.avail_out?F:U);if(o.strm=t,a=o.last_flush,o.last_flush=e,o.status===rt)
if(2===o.wrap)t.adler=0,l(o,31),l(o,139),l(o,8),o.gzhead?(l(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),l(o,255&o.gzhead.time),l(o,o.gzhead.time>>8&255),l(o,o.gzhead.time>>16&255),l(o,o.gzhead.time>>24&255),l(o,9===o.level?2:o.strategy>=j||o.level<2?4:0),l(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(l(o,255&o.gzhead.extra.length),l(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=E(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=st):(l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=j||o.level<2?4:0),l(o,gt),o.status=dt);else{var _=q+(o.w_bits-8<<4)<<8;_|=(o.strategy>=j||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(_|=nt),_+=31-_%31,o.status=dt,h(o,_),0!==o.strstart&&(h(o,t.adler>>>16),h(o,65535&t.adler)),t.adler=1}
if(o.status===st)
if(o.gzhead.extra){for(d=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending!==o.pending_buf_size));)l(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=ot)}else o.status=ot;if(o.status===ot)
if(o.gzhead.name){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending===o.pending_buf_size)){f=1;break}
f=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,l(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),0===f&&(o.gzindex=0,o.status=lt)}else o.status=lt;if(o.status===lt)
if(o.gzhead.comment){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending===o.pending_buf_size)){f=1;break}
f=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,l(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>d&&(t.adler=E(t.adler,o.pending_buf,o.pending-d,d)),0===f&&(o.status=ht)}else o.status=ht;if(o.status===ht&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(t),o.pending+2<=o.pending_buf_size&&(l(o,255&t.adler),l(o,t.adler>>8&255),t.adler=0,o.status=dt)):o.status=dt),0!==o.pending){if(s(t),0===t.avail_out)return o.last_flush=-1,D}else if(0===t.avail_in&&n(e)<=n(a)&&e!==N)return i(t,F);if(o.status===ft&&0!==t.avail_in)return i(t,F);if(0!==t.avail_in||0!==o.lookahead||e!==Z&&o.status!==ft){var u=o.strategy===j?g(o,e):o.strategy===K?b(o,e):x[o.level].func(o,e);if(u!==ct&&u!==bt||(o.status=ft),u===_t||u===ct)return 0===t.avail_out&&(o.last_flush=-1),D;if(u===ut&&(e===R?B._tr_align(o):e!==O&&(B._tr_stored_block(o,0,0,!1),e===C&&(r(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(t),0===t.avail_out))return o.last_flush=-1,D}
return e!==N?D:o.wrap<=0?I:(2===o.wrap?(l(o,255&t.adler),l(o,t.adler>>8&255),l(o,t.adler>>16&255),l(o,t.adler>>24&255),l(o,255&t.total_in),l(o,t.total_in>>8&255),l(o,t.total_in>>16&255),l(o,t.total_in>>24&255)):(h(o,t.adler>>>16),h(o,65535&t.adler)),s(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?D:I)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==rt&&e!==st&&e!==ot&&e!==lt&&e!==ht&&e!==dt&&e!==ft?i(t,U):(t.state=null,e===dt?i(t,T):D):U},a.deflateSetDictionary=function(t,e){var a,i,n,s,o,l,h,d,f=e.length;if(!t||!t.state)return U;if(a=t.state,2===(s=a.wrap)||1===s&&a.status!==rt||a.lookahead)return U;for(1===s&&(t.adler=S(t.adler,e,f,0)),a.wrap=0,f>=a.w_size&&(0===s&&(r(a.head),a.strstart=0,a.block_start=0,a.insert=0),d=new z.Buf8(a.w_size),z.arraySet(d,e,f-a.w_size,a.w_size,0),e=d,f=a.w_size),o=t.avail_in,l=t.next_in,h=t.input,t.avail_in=f,t.next_in=0,t.input=e,_(a);a.lookahead>=et;){i=a.strstart,n=a.lookahead-(et-1);do{a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+et-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++}while(--n);a.strstart=i,a.lookahead=et-1,_(a)}
return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=et-1,a.match_available=0,t.next_in=l,t.input=h,t.avail_in=o,a.wrap=s,D},a.deflateInfo="e3 e2 (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,a){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,a){e.exports=function(t,e){var a,i,n,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S;a=t.state,i=t.next_in,B=t.input,n=i+(t.avail_in-5),r=t.next_out,S=t.output,s=r-(e-t.avail_out),o=r+(t.avail_out-257),l=a.dmax,h=a.wsize,d=a.whave,f=a.wnext,_=a.window,u=a.hold,c=a.bits,b=a.lencode,g=a.distcode,m=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;t:do{c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=b[u&m];e:for(;;){if(v=p>>>24,u>>>=v,c-=v,0===(v=p>>>16&255))S[r++]=65535&p;else{if(!(16&v)){if(0==(64&v)){p=b[(65535&p)+(u&(1<<v)-1)];continue e}
if(32&v){a.mode=12;break t}
t.msg="invalid literal/length code",a.mode=30;break t}
k=65535&p,(v&=15)&&(c<v&&(u+=B[i++]<<c,c+=8),k+=u&(1<<v)-1,u>>>=v,c-=v),c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=g[u&w];a:for(;;){if(v=p>>>24,u>>>=v,c-=v,!(16&(v=p>>>16&255))){if(0==(64&v)){p=g[(65535&p)+(u&(1<<v)-1)];continue a}
t.msg="invalid distance code",a.mode=30;break t}
if(y=65535&p,v&=15,c<v&&(u+=B[i++]<<c,(c+=8)<v&&(u+=B[i++]<<c,c+=8)),(y+=u&(1<<v)-1)>l){t.msg="invalid distance too far back",a.mode=30;break t}
if(u>>>=v,c-=v,v=r-s,y>v){if((v=y-v)>d&&a.sane){t.msg="invalid distance too far back",a.mode=30;break t}
if(x=0,z=_,0===f){if(x+=h-v,v<k){k-=v;do{S[r++]=_[x++]}while(--v);x=r-y,z=S}}else if(f<v){if(x+=h+f-v,(v-=f)<k){k-=v;do{S[r++]=_[x++]}while(--v);if(x=0,f<k){k-=v=f;do{S[r++]=_[x++]}while(--v);x=r-y,z=S}}}else if(x+=f-v,v<k){k-=v;do{S[r++]=_[x++]}while(--v);x=r-y,z=S}
for(;k>2;)S[r++]=z[x++],S[r++]=z[x++],S[r++]=z[x++],k-=3;k&&(S[r++]=z[x++],k>1&&(S[r++]=z[x++]))}else{x=r-y;do{S[r++]=S[x++],S[r++]=S[x++],S[r++]=S[x++],k-=3}while(k>2);k&&(S[r++]=S[x++],k>1&&(S[r++]=S[x++]))}
break}}
break}}while(i<n&&r<o);i-=k=c>>3,u&=(1<<(c-=k<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=r<o?o-r+257:257-(r-o),a.hold=u,a.bits=c}},{}],11:[function(t,e,a){function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}
function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}
function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=N,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new u.Buf32(dt),e.distcode=e.distdyn=new u.Buf32(ft),e.sane=1,e.back=-1,z):E}
function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,r(t)):E}
function o(t,e){var a,i;return t&&t.state?(i=t.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?E:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,s(t))):E}
function l(t,e){var a,i;return t?(i=new n,t.state=i,i.window=null,(a=o(t,e))!==z&&(t.state=null),a):E}
function h(t){if(ut){var e;for(f=new u.Buf32(512),_=new u.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(m(p,t.lens,0,288,f,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;m(v,t.lens,0,32,_,0,t.work,{bits:5}),ut=!1}
t.lencode=f,t.lenbits=9,t.distcode=_,t.distbits=5}
function d(t,e,a,i){var n,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new u.Buf8(r.wsize)),i>=r.wsize?(u.arraySet(r.window,e,a-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>i&&(n=i),u.arraySet(r.window,e,a-i,n,r.wnext),(i-=n)?(u.arraySet(r.window,e,a-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}
var f,_,u=t("../utils/common"),c=t("./adler32"),b=t("./crc32"),g=t("./inffast"),m=t("./inftrees"),w=0,p=1,v=2,k=4,y=5,x=6,z=0,B=1,S=2,E=-2,A=-3,Z=-4,R=-5,C=8,N=1,O=2,D=3,I=4,U=5,T=6,F=7,L=8,H=9,j=10,K=11,M=12,P=13,Y=14,q=15,G=16,X=17,W=18,J=19,Q=20,V=21,$=22,tt=23,et=24,at=25,it=26,nt=27,rt=28,st=29,ot=30,lt=31,ht=32,dt=852,ft=592,_t=15,ut=!0;a.inflateReset=s,a.inflateReset2=o,a.inflateResetKeep=r,a.inflateInit=function(t){return l(t,_t)},a.inflateInit2=l,a.e0=function(t,e){var a,n,r,s,o,l,f,_,dt,ft,_t,ut,ct,bt,gt,mt,wt,pt,vt,kt,yt,xt,zt,Bt,St=0,Et=new u.Buf8(4),At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return E;(a=t.state).mode===M&&(a.mode=P),o=t.next_out,r=t.output,f=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,_=a.hold,dt=a.bits,ft=l,_t=f,xt=z;t:for(;;)switch(a.mode){case N:if(0===a.wrap){a.mode=P;break}
for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(2&a.wrap&&35615===_){a.check=0,Et[0]=255&_,Et[1]=_>>>8&255,a.check=b(a.check,Et,2,0),_=0,dt=0,a.mode=O;break}
if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&_)<<8)+(_>>8))%31){t.msg="incorrect header check",a.mode=ot;break}
if((15&_)!==C){t.msg="unknown compression method",a.mode=ot;break}
if(_>>>=4,dt-=4,yt=8+(15&_),0===a.wbits)a.wbits=yt;else if(yt>a.wbits){t.msg="invalid window size",a.mode=ot;break}
a.dmax=1<<yt,t.adler=a.check=1,a.mode=512&_?j:M,_=0,dt=0;break;case O:for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(a.flags=_,(255&a.flags)!==C){t.msg="unknown compression method",a.mode=ot;break}
if(57344&a.flags){t.msg="unknown header flags set",a.mode=ot;break}
a.head&&(a.head.text=_>>8&1),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=b(a.check,Et,2,0)),_=0,dt=0,a.mode=D;case D:for(;dt<32;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.head&&(a.head.time=_),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,Et[2]=_>>>16&255,Et[3]=_>>>24&255,a.check=b(a.check,Et,4,0)),_=0,dt=0,a.mode=I;case I:for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.head&&(a.head.xflags=255&_,a.head.os=_>>8),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=b(a.check,Et,2,0)),_=0,dt=0,a.mode=U;case U:if(1024&a.flags){for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.length=_,a.head&&(a.head.extra_len=_),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=b(a.check,Et,2,0)),_=0,dt=0}else a.head&&(a.head.extra=null);a.mode=T;case T:if(1024&a.flags&&((ut=a.length)>l&&(ut=l),ut&&(a.head&&(yt=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),u.arraySet(a.head.extra,n,s,ut,yt)),512&a.flags&&(a.check=b(a.check,n,ut,s)),l-=ut,s+=ut,a.length-=ut),a.length))break t;a.length=0,a.mode=F;case F:if(2048&a.flags){if(0===l)break t;ut=0;do{yt=n[s+ut++],a.head&&yt&&a.length<65536&&(a.head.name+=String.fromCharCode(yt))}while(yt&&ut<l);if(512&a.flags&&(a.check=b(a.check,n,ut,s)),l-=ut,s+=ut,yt)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=L;case L:if(4096&a.flags){if(0===l)break t;ut=0;do{yt=n[s+ut++],a.head&&yt&&a.length<65536&&(a.head.comment+=String.fromCharCode(yt))}while(yt&&ut<l);if(512&a.flags&&(a.check=b(a.check,n,ut,s)),l-=ut,s+=ut,yt)break t}else a.head&&(a.head.comment=null);a.mode=H;case H:if(512&a.flags){for(;dt<16;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(_!==(65535&a.check)){t.msg="header crc mismatch",a.mode=ot;break}
_=0,dt=0}
a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=M;break;case j:for(;dt<32;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
t.adler=a.check=i(_),_=0,dt=0,a.mode=K;case K:if(0===a.havedict)return t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=dt,S;t.adler=a.check=1,a.mode=M;case M:if(e===y||e===x)break t;case P:if(a.last){_>>>=7&dt,dt-=7&dt,a.mode=nt;break}
for(;dt<3;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
switch(a.last=1&_,_>>>=1,dt-=1,3&_){case 0:a.mode=Y;break;case 1:if(h(a),a.mode=Q,e===x){_>>>=2,dt-=2;break t}
break;case 2:a.mode=X;break;case 3:t.msg="invalid block type",a.mode=ot}
_>>>=2,dt-=2;break;case Y:for(_>>>=7&dt,dt-=7&dt;dt<32;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if((65535&_)!=(_>>>16^65535)){t.msg="invalid stored block lengths",a.mode=ot;break}
if(a.length=65535&_,_=0,dt=0,a.mode=q,e===x)break t;case q:a.mode=G;case G:if(ut=a.length){if(ut>l&&(ut=l),ut>f&&(ut=f),0===ut)break t;u.arraySet(r,n,s,ut,o),l-=ut,s+=ut,f-=ut,o+=ut,a.length-=ut;break}
a.mode=M;break;case X:for(;dt<14;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(a.nlen=257+(31&_),_>>>=5,dt-=5,a.ndist=1+(31&_),_>>>=5,dt-=5,a.ncode=4+(15&_),_>>>=4,dt-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=ot;break}
a.have=0,a.mode=W;case W:for(;a.have<a.ncode;){for(;dt<3;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.lens[At[a.have++]]=7&_,_>>>=3,dt-=3}
for(;a.have<19;)a.lens[At[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,zt={bits:a.lenbits},xt=m(w,a.lens,0,19,a.lencode,0,a.work,zt),a.lenbits=zt.bits,xt){t.msg="invalid code lengths set",a.mode=ot;break}
a.have=0,a.mode=J;case J:for(;a.have<a.nlen+a.ndist;){for(;St=a.lencode[_&(1<<a.lenbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(wt<16)_>>>=gt,dt-=gt,a.lens[a.have++]=wt;else{if(16===wt){for(Bt=gt+2;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(_>>>=gt,dt-=gt,0===a.have){t.msg="invalid bit length repeat",a.mode=ot;break}
yt=a.lens[a.have-1],ut=3+(3&_),_>>>=2,dt-=2}else if(17===wt){for(Bt=gt+3;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
dt-=gt,yt=0,ut=3+(7&(_>>>=gt)),_>>>=3,dt-=3}else{for(Bt=gt+7;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
dt-=gt,yt=0,ut=11+(127&(_>>>=gt)),_>>>=7,dt-=7}
if(a.have+ut>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=ot;break}
for(;ut--;)a.lens[a.have++]=yt}}
if(a.mode===ot)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=ot;break}
if(a.lenbits=9,zt={bits:a.lenbits},xt=m(p,a.lens,0,a.nlen,a.lencode,0,a.work,zt),a.lenbits=zt.bits,xt){t.msg="invalid literal/lengths set",a.mode=ot;break}
if(a.distbits=6,a.distcode=a.distdyn,zt={bits:a.distbits},xt=m(v,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,zt),a.distbits=zt.bits,xt){t.msg="invalid distances set",a.mode=ot;break}
if(a.mode=Q,e===x)break t;case Q:a.mode=V;case V:if(l>=6&&f>=258){t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=dt,g(t,_t),o=t.next_out,r=t.output,f=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,_=a.hold,dt=a.bits,a.mode===M&&(a.back=-1);break}
for(a.back=0;St=a.lencode[_&(1<<a.lenbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(mt&&0==(240&mt)){for(pt=gt,vt=mt,kt=wt;St=a.lencode[kt+((_&(1<<pt+vt)-1)>>pt)],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(pt+gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
_>>>=pt,dt-=pt,a.back+=pt}
if(_>>>=gt,dt-=gt,a.back+=gt,a.length=wt,0===mt){a.mode=it;break}
if(32&mt){a.back=-1,a.mode=M;break}
if(64&mt){t.msg="invalid literal/length code",a.mode=ot;break}
a.extra=15&mt,a.mode=$;case $:if(a.extra){for(Bt=a.extra;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.length+=_&(1<<a.extra)-1,_>>>=a.extra,dt-=a.extra,a.back+=a.extra}
a.was=a.length,a.mode=tt;case tt:for(;St=a.distcode[_&(1<<a.distbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(0==(240&mt)){for(pt=gt,vt=mt,kt=wt;St=a.distcode[kt+((_&(1<<pt+vt)-1)>>pt)],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(pt+gt<=dt);){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
_>>>=pt,dt-=pt,a.back+=pt}
if(_>>>=gt,dt-=gt,a.back+=gt,64&mt){t.msg="invalid distance code",a.mode=ot;break}
a.offset=wt,a.extra=15&mt,a.mode=et;case et:if(a.extra){for(Bt=a.extra;dt<Bt;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
a.offset+=_&(1<<a.extra)-1,_>>>=a.extra,dt-=a.extra,a.back+=a.extra}
if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=ot;break}
a.mode=at;case at:if(0===f)break t;if(ut=_t-f,a.offset>ut){if((ut=a.offset-ut)>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=ot;break}
ut>a.wnext?(ut-=a.wnext,ct=a.wsize-ut):ct=a.wnext-ut,ut>a.length&&(ut=a.length),bt=a.window}else bt=r,ct=o-a.offset,ut=a.length;ut>f&&(ut=f),f-=ut,a.length-=ut;do{r[o++]=bt[ct++]}while(--ut);0===a.length&&(a.mode=V);break;case it:if(0===f)break t;r[o++]=a.length,f--,a.mode=V;break;case nt:if(a.wrap){for(;dt<32;){if(0===l)break t;l--,_|=n[s++]<<dt,dt+=8}
if(_t-=f,t.total_out+=_t,a.total+=_t,_t&&(t.adler=a.check=a.flags?b(a.check,r,_t,o-_t):c(a.check,r,_t,o-_t)),_t=f,(a.flags?_:i(_))!==a.check){t.msg="incorrect data check",a.mode=ot;break}
_=0,dt=0}
a.mode=rt;case rt:if(a.wrap&&a.flags){for(;dt<32;){if(0===l)break t;l--,_+=n[s++]<<dt,dt+=8}
if(_!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=ot;break}
_=0,dt=0}
a.mode=st;case st:xt=B;break t;case ot:xt=A;break t;case lt:return Z;case ht:default:return E}
return t.next_out=o,t.avail_out=f,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=dt,(a.wsize||_t!==t.avail_out&&a.mode<ot&&(a.mode<nt||e!==k))&&d(t,t.output,t.next_out,_t-t.avail_out)?(a.mode=lt,Z):(ft-=t.avail_in,_t-=t.avail_out,t.total_in+=ft,t.total_out+=_t,a.total+=_t,a.wrap&&_t&&(t.adler=a.check=a.flags?b(a.check,r,_t,t.next_out-_t):c(a.check,r,_t,t.next_out-_t)),t.data_type=a.bits+(a.last?64:0)+(a.mode===M?128:0)+(a.mode===Q||a.mode===q?256:0),(0===ft&&0===_t||e===k)&&xt===z&&(xt=R),xt)},a.inflateEnd=function(t){if(!t||!t.state)return E;var e=t.state;return e.window&&(e.window=null),t.state=null,z},a.inflateGetHeader=function(t,e){var a;return t&&t.state?0==(2&(a=t.state).wrap)?E:(a.head=e,e.done=!1,z):E},a.inflateSetDictionary=function(t,e){var a,i,n=e.length;return t&&t.state?0!==(a=t.state).wrap&&a.mode!==K?E:a.mode===K&&(i=1,(i=c(i,e,n,0))!==a.check)?A:d(t,e,n,n)?(a.mode=lt,Z):(a.havedict=1,z):E},a.inflateInfo="e3 e0 (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,a){var i=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,l,h,d,f,_){var u,c,b,g,m,w,p,v,k,y=_.bits,x=0,z=0,B=0,S=0,E=0,A=0,Z=0,R=0,C=0,N=0,O=null,D=0,I=new i.Buf16(16),U=new i.Buf16(16),T=null,F=0;for(x=0;x<=15;x++)I[x]=0;for(z=0;z<l;z++)I[e[a+z]]++;for(E=y,S=15;S>=1&&0===I[S];S--);if(E>S&&(E=S),0===S)return h[d++]=20971520,h[d++]=20971520,_.bits=1,0;for(B=1;B<S&&0===I[B];B++);for(E<B&&(E=B),R=1,x=1;x<=15;x++)
if(R<<=1,(R-=I[x])<0)return-1;if(R>0&&(0===t||1!==S))return-1;for(U[1]=0,x=1;x<15;x++)U[x+1]=U[x]+I[x];for(z=0;z<l;z++)0!==e[a+z]&&(f[U[e[a+z]]++]=z);if(0===t?(O=T=f,w=19):1===t?(O=n,D-=257,T=r,F-=257,w=256):(O=s,T=o,w=-1),N=0,z=0,x=B,m=d,A=E,Z=0,b=-1,C=1<<E,g=C-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){p=x-Z,f[z]<w?(v=0,k=f[z]):f[z]>w?(v=T[F+f[z]],k=O[D+f[z]]):(v=96,k=0),u=1<<x-Z,B=c=1<<A;do{h[m+(N>>Z)+(c-=u)]=p<<24|v<<16|k|0}while(0!==c);for(u=1<<x-1;N&u;)u>>=1;if(0!==u?(N&=u-1,N+=u):N=0,z++,0==--I[x]){if(x===S)break;x=e[a+f[z]]}
if(x>E&&(N&g)!==b){for(0===Z&&(Z=E),m+=B,R=1<<(A=x-Z);A+Z<S&&!((R-=I[A+Z])<=0);)A++,R<<=1;if(C+=1<<A,1===t&&C>852||2===t&&C>592)return 1;h[b=N&g]=E<<24|A<<16|m-d|0}}
return 0!==N&&(h[m+N]=x-Z<<24|64<<16|0),_.bits=E,0}},{"../utils/common":3}],13:[function(t,e,a){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,a){function i(t){for(var e=t.length;--e>=0;)t[e]=0}
function n(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}
function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}
function s(t){return t<256?et[t]:et[256+(t>>>7)]}
function o(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}
function l(t,e,a){t.bi_valid>M-a?(t.bi_buf|=e<<t.bi_valid&65535,o(t,t.bi_buf),t.bi_buf=e>>M-t.bi_valid,t.bi_valid+=a-M):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}
function h(t,e,a){l(t,a[2*e],a[2*e+1])}
function d(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1}
function f(t){16===t.bi_valid?(o(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}
function _(t,e){var a,i,n,r,s,o,l=e.dyn_tree,h=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,_=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,c=e.stat_desc.max_length,b=0;for(r=0;r<=K;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<j;a++)(r=l[2*l[2*(i=t.heap[a])+1]+1]+1)>c&&(r=c,b++),l[2*i+1]=r,i>h||(t.bl_count[r]++,s=0,i>=u&&(s=_[i-u]),o=l[2*i],t.opt_len+=o*(r+s),f&&(t.static_len+=o*(d[2*i+1]+s)));if(0!==b){do{for(r=c-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[c]--,b-=2}while(b>0);for(r=c;0!==r;r--)
for(i=t.bl_count[r];0!==i;)(n=t.heap[--a])>h||(l[2*n+1]!==r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),i--)}}
function u(t,e,a){var i,n,r=new Array(K+1),s=0;for(i=1;i<=K;i++)r[i]=s=s+a[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=d(r[o]++,o))}}
function c(){var t,e,a,i,r,s=new Array(K+1);for(a=0,i=0;i<U-1;i++)
for(it[i]=a,t=0;t<1<<W[i];t++)at[a++]=i;for(at[a-1]=i,r=0,i=0;i<16;i++)
for(nt[i]=r,t=0;t<1<<J[i];t++)et[r++]=i;for(r>>=7;i<L;i++)
for(nt[i]=r<<7,t=0;t<1<<J[i]-7;t++)et[256+r++]=i;for(e=0;e<=K;e++)s[e]=0;for(t=0;t<=143;)$[2*t+1]=8,t++,s[8]++;for(;t<=255;)$[2*t+1]=9,t++,s[9]++;for(;t<=279;)$[2*t+1]=7,t++,s[7]++;for(;t<=287;)$[2*t+1]=8,t++,s[8]++;for(u($,F+1,s),t=0;t<L;t++)tt[2*t+1]=5,tt[2*t]=d(t,5);rt=new n($,W,T+1,F,K),st=new n(tt,J,0,L,K),ot=new n(new Array(0),Q,0,H,P)}
function b(t){var e;for(e=0;e<F;e++)t.dyn_ltree[2*e]=0;for(e=0;e<L;e++)t.dyn_dtree[2*e]=0;for(e=0;e<H;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Y]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}
function g(t){t.bi_valid>8?o(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}
function m(t,e,a,i){g(t),i&&(o(t,a),o(t,~a)),A.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}
function w(t,e,a,i){var n=2*e,r=2*a;return t[n]<t[r]||t[n]===t[r]&&i[e]<=i[a]}
function p(t,e,a){for(var i=t.heap[a],n=a<<1;n<=t.heap_len&&(n<t.heap_len&&w(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!w(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i}
function v(t,e,a){var i,n,r,o,d=0;if(0!==t.last_lit)
do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],n=t.pending_buf[t.l_buf+d],d++,0===i?h(t,n,e):(h(t,(r=at[n])+T+1,e),0!==(o=W[r])&&l(t,n-=it[r],o),h(t,r=s(--i),a),0!==(o=J[r])&&l(t,i-=nt[r],o))}while(d<t.last_lit);h(t,Y,e)}
function k(t,e){var a,i,n,r=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=j,a=0;a<l;a++)0!==r[2*a]?(t.heap[++t.heap_len]=h=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)r[2*(n=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=h,a=t.heap_len>>1;a>=1;a--)p(t,r,a);n=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],p(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=i,r[2*n]=r[2*a]+r[2*i],t.depth[n]=(t.depth[a]>=t.depth[i]?t.depth[a]:t.depth[i])+1,r[2*a+1]=r[2*i+1]=n,t.heap[1]=n++,p(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],_(t,e),u(r,h,t.bl_count)}
function y(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=s,s=e[2*(i+1)+1],++o<l&&n===s||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[2*q]++):o<=10?t.bl_tree[2*G]++:t.bl_tree[2*X]++,o=0,r=n,0===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4))}
function x(t,e,a){var i,n,r=-1,s=e[1],o=0,d=7,f=4;for(0===s&&(d=138,f=3),i=0;i<=a;i++)
if(n=s,s=e[2*(i+1)+1],!(++o<d&&n===s)){if(o<f)
do{h(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==r&&(h(t,n,t.bl_tree),o--),h(t,q,t.bl_tree),l(t,o-3,2)):o<=10?(h(t,G,t.bl_tree),l(t,o-3,3)):(h(t,X,t.bl_tree),l(t,o-11,7));o=0,r=n,0===s?(d=138,f=3):n===s?(d=6,f=3):(d=7,f=4)}}
function z(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),k(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*V[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}
function B(t,e,a,i){var n;for(l(t,e-257,5),l(t,a-1,5),l(t,i-4,4),n=0;n<i;n++)l(t,t.bl_tree[2*V[n]+1],3);x(t,t.dyn_ltree,e-1),x(t,t.dyn_dtree,a-1)}
function S(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)
if(1&a&&0!==t.dyn_ltree[2*e])return R;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return C;for(e=32;e<T;e++)
if(0!==t.dyn_ltree[2*e])return C;return R}
function E(t,e,a,i){l(t,(O<<1)+(i?1:0),3),m(t,e,a,!0)}
var A=t("../utils/common"),Z=4,R=0,C=1,N=2,O=0,D=1,I=2,U=29,T=256,F=T+1+U,L=30,H=19,j=2*F+1,K=15,M=16,P=7,Y=256,q=16,G=17,X=18,W=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(F+2));i($);var tt=new Array(2*L);i(tt);var et=new Array(512);i(et);var at=new Array(256);i(at);var it=new Array(U);i(it);var nt=new Array(L);i(nt);var rt,st,ot,lt=!1;a._tr_init=function(t){lt||(c(),lt=!0),t.l_desc=new r(t.dyn_ltree,rt),t.d_desc=new r(t.dyn_dtree,st),t.bl_desc=new r(t.bl_tree,ot),t.bi_buf=0,t.bi_valid=0,b(t)},a._tr_stored_block=E,a._tr_flush_block=function(t,e,a,i){var n,r,s=0;t.level>0?(t.strm.data_type===N&&(t.strm.data_type=S(t)),k(t,t.l_desc),k(t,t.d_desc),s=z(t),n=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=n&&(n=r)):n=r=a+5,a+4<=n&&-1!==e?E(t,e,a,i):t.strategy===Z||r===n?(l(t,(D<<1)+(i?1:0),3),v(t,$,tt)):(l(t,(I<<1)+(i?1:0),3),B(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),v(t,t.dyn_ltree,t.dyn_dtree)),b(t),i&&g(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(at[a]+T+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){l(t,D<<1,3),h(t,Y,$),f(t)}},{"../utils/common":3}],15:[function(t,e,a){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,a){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/e2"),t("./lib/e0"),t("./lib/zlib/constants")),e.exports=i},{"./lib/e2":1,"./lib/e0":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});class jJ{static get body(){return document.body;}
static j2(BM){return document.createElementNS('http://www.w3.org/2000/svg',BM);}
static j3(BM){return document.createElement(BM);}
static BU(BM,node){let el=jJ.j2(BM);el.node=node;return el;}
static j4(node){return jJ.BU("rect",node);}
static j5(node){return jJ.BU("g",node);}
static j6(node){return jJ.BU("text",node);}
static j7(node){return jJ.BU("image",node);}
static B1(id,el,w,h,x=0,y=0,pUnits="userSpaceOnUse"){if(!jJ.BE){jJ.BE=jJ.j2("defs");can.jI.e1.appendChild(jJ.BE);}
let pt=jJ.j2("pattern");if(x>0)pt.setAttribute("x",x);if(y>0)pt.setAttribute("y",y);if(w)pt.setAttribute("width",w);if(h)pt.setAttribute("height",h);pt.setAttribute("id",id);pt.setAttribute("patternUnits","userSpaceOnUse");pt.appendChild(el);jJ.BE.appendChild(pt);return pt;}
static createFilter(id){if(!jJ.BE){jJ.BE=jJ.j2("defs");can.jI.e1.appendChild(jJ.BE);}
let el=jJ.j2("filter");el.setAttribute("id",id);jJ.BE.appendChild(el);return el;}
static j8(id){return document.getElementById(id);}
static j9(elmName){return document.getElementsByName(elmName);}
static setImageSrc(el,v){el.setAttributeNS("http://www.w3.org/1999/xlink","href",v);}
static B2(el){el.getAttributeNS("http://www.w3.org/1999/xlink","href");}
static B3(el){el.removeAttributeNS("http://www.w3.org/1999/xlink","href");}
static iY(w,h){var c=document.createElement('canvas');c.width=w;c.height=h;return c;}
static jA(obj){if(!jJ.BE){jJ.BE=jJ.j2("defs");can.jI.e1.appendChild(jJ.BE);}
if(!obj.jB){var clp=jJ.j2("clipPath"),m=jJ.j2("rect");clp.appendChild(m);jJ.BE.appendChild(clp);obj.jB=m;}
obj.jB.parentNode.setAttribute("id",obj.name+"_clr");obj.e1.setAttribute("clip-path","url(#"+obj.name+"_clr)");}
static B4(id,src,w,h,imgX=0,imgY=0){if(!jJ.BE){jJ.BE=jJ.j2("defs");can.jI.e1.appendChild(jJ.BE);}
let pt=jJ.j2("pattern"),img=jJ.j2("image");pt.appendChild(img);pt.setAttribute("id",id);pt.setAttribute("width",w);pt.setAttribute("height",h);img.setAttribute("width",w);img.setAttribute("height",h);if(imgX>0)img.setAttribute("x",imgX);if(imgY>0)img.setAttribute("y",imgY);pt.setAttribute("patternUnits","userSpaceOnUse");img.setAttributeNS("http://www.w3.org/1999/xlink","href",src);jJ.BE.appendChild(pt);}
static B5(id){return jJ.j8(id);}
static B6(el,cacheId){if(isNaN(cacheId)&&cacheId.match(/http|png|jpg|jpeg|\.svg/i)){let n=cacheId.replace(/\.|\/\/|:/g,"_");var o=jJ.B5(n);if(o)el.setAttribute("fill","url(#"+n+")");else{jJ.B4(n,cacheId,el.getAttribute("width"),el.getAttribute("height"));el.setAttribute("fill","url(#"+n+")");}}else
el.setAttribute("fill","url(#"+cacheId+")");}
static B7(d){if(!d)d=hY.gU?hY.gU.data.clipping:can.data.data.clipping;if(!d)return;for(var n=0,l=d.length;n<l;n++){var i=d[n];clip(i.src,i.id,i.x||0,i.y||0,i.width,i.height);}
function clip(src,id,x,y,w,h){var s=ass[src];if(!p||!s)return;var eX=jJ.iY(w,h),ctx=eX.getContext("2d");ctx.drawImage(s,x,y,w,h,0,0,w,h);can.data.images[id]=eX.toDataURL("image/png");eX=null;}}}
Object.defineProperties(SVGElement.prototype,{node:{configurable:true,enumerable:true,get:function(){return jC;},set:function(obj){if(!obj)return;jC=obj}}})
var p=String.prototype;p.cS=function(cT=";",cU=","){if(this.length==0){return[];}
let a=this.split(cT);let l=a.length;let r=[];for(let n=l-1;n>=0;n--){let aa=a[n].split(cU).map(f);r.unshift(aa);}
function f(v){if(isNaN(v)){return v;}else{return parseFloat(v);}}
return r;}
Array.BT=function(arr,cT=";",cU=","){if(arr.length==0){return'';}
let s='';let l=arr.length;for(var n=l-1;n>=1;n--){if(!arr[n]){arr[n]='';}
s=cT+f(arr[n])+s;}
s=f(arr[0])+s;function f(a){if(typeof(a)=="string"||typeof(a)=="number"){return a;}
let ss='';let ll=a.length;for(var n=ll-1;n>=1;n--){if(!a[n]){a[n]='';}
ss=cU+a[n]+ss;}
ss=a[0]+ss;return ss;}
return s;}
p.cX=function(value=null,start="{",end="}"){if(value==null){return this;}
var pattern=new RegExp(start+"(.*?)"+end,"g");return this.replace(pattern,function(){return value[arguments[1]];});}
p.fC=function(s1,s2){return this.split(s1).join(s2);}
String.randomId=function(){return new Date().getTime().toString(36);}
Image.prototype.toBase64=function(){var eX=document.createElement("canvas");eX.width=this.width;eX.height=this.height;var ctx=eX.getContext("2d");ctx.drawImage(this,0,0,this.width,this.height);var r=eX.toDataURL("image/png");eX=null;return r;}
function Base64(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~-=";this.encode=function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=jD(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}else if(isNaN(chr3)){enc4=64;}
output=output+
_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+
_keyStr.charAt(enc3)+_keyStr.charAt(enc4);}
return output;}
this.decode=function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\-\=\~]/g,"");while(i<input.length){enc1=_keyStr.indexOf(input.charAt(i++));enc2=_keyStr.indexOf(input.charAt(i++));enc3=_keyStr.indexOf(input.charAt(i++));enc4=_keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2);}
if(enc4!=64){output=output+String.fromCharCode(chr3);}}
output=BS(output);return output;}
jD=function(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}
return utftext;}
BS=function(utftext){var string="";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++;}else if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}
return string;}}
String.jE=function(s,cT=";",cU=","){if(s.length==0){return{};}
let a=s.split(cT);let l=a.length;let r={};for(let n=l-1;n>=0;n--){let aa=a[n].split(cU).map(f);console.log(aa[0],aa[1])
r[aa[0]]=aa[1];}
function f(v){if(isNaN(v)){return v;}else{return parseFloat(v);}}
return r;}
Date.prototype.format=function(formatStr){var str=formatStr,Week=['','','','','','',''],year=this.getYear()%100,mth=this.getMonth()+1,day=this.getDate()
h=this.getHours(),m=this.getMinutes(),s=this.getSeconds();str=str.replace(/yyyy|YYYY/,this.getFullYear());str=str.replace(/yy|YY/,year>9?year.toString():'0'+year);str=str.replace(/MM/,mth>9?mth.toString():'0'+mth);str=str.replace(/M/g,mth);str=str.replace(/w|W/g,Week[this.getDay()]);str=str.replace(/dd|DD/,day>9?day.toString():'0'+day);str=str.replace(/d|D/g,day);str=str.replace(/hh|HH/,h>9?h.toString():'0'+h);str=str.replace(/h|H/g,h);str=str.replace(/mm/,m>9?m.toString():'0'+m);str=str.replace(/m/g,m);str=str.replace(/ss|SS/,s>9?s.toString():'0'+s);str=str.replace(/s|S/g,s);return str;}
Date.jG=function(num){let m=parseInt(num/60)%60,s=parseInt(num%60);return String.BR(m,"00")+":"+String.BR(s,"00");}
String.BR=function(v,form="000000"){var l=String(v).length;if(l>=form.length)return v;return form.substr(l,form.length)+v;}
Date.jF=function(obj){var date=new Date(obj),y=1900+date.getYear(),m="0"+(date.getMonth()+1),d="0"+date.getDate(),h="0"+date.getHours(),mm="0"+date.getMinutes();return y+"-"+m.substring(m.length-2,m.length)+"-"+d.substring(d.length-2,d.length)+" "+h.substring(h.length-2,h.length)+":"+mm.substring(mm.length-2,mm.length);}
class jH{constructor(id,landscape,op){if(!id)var el=jJ.body;else el=jJ.j8(id);el.innerHTML='<div id="container"></div>'+'<svg id="can_stage" width="100%" height="100%" fill="#fff" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>';this.e1=jJ.j8("can_stage");this.parent=el;this.d0=Object.assign({iphone:"640 1136",ipad:"800 1280",android:"640 1136",scale:2},op);this.scale=this.d0.scale;this.landscape=landscape;}
eT(){can.d4();var b=this.parent,op=String(this.d0[can.device]).split(" ");op[1]=op[1]||op[0];op=b.offsetHeight>b.offsetWidth?op[0]:op[1];if(this.landscape&&b.offsetHeight>b.offsetWidth){var w=b.offsetHeight,h=b.offsetWidth;b.style.width=w+"px";b.style.height=h+"px";b.classList.add("landscape");this.rotation=-90;op=Math.max(jJ.body.clientHeight,op);var s=jJ.body.clientHeight/jJ.body.clientWidth,sw=op/s/jJ.body.clientWidth,sh=op/jJ.body.clientHeight;}else{this.rotation=0;b.style.width="100%";b.style.height="100%";b.classList.remove("landscape");if(can.device!="pc"){op=Math.max(jJ.body.clientWidth,op);s=jJ.body.clientWidth/jJ.body.clientHeight,sw=op/jJ.body.clientWidth,sh=op/s/jJ.body.clientHeight;}else{s=this.scale;this.width=jJ.body.clientWidth*s;this.height=jJ.body.clientHeight*s;this.e1.setAttribute("viewBox","0,0,"+this.jW*s+","+this.jV*s);return;}}
this.width=jJ.body.clientWidth*sw;this.height=jJ.body.clientHeight*sh;this.e1.setAttribute("viewBox","0,0,"+this.jW*sw+","+this.jV*sh);}
get width(){return this.jW;}
set width(v){this.jW=v;this.e1.setAttribute("width",v);can.A4.width=v;}
get height(){return this.jV;}
set height(v){this.jV=v;can.A4.height=v;this.e1.setAttribute("height",v);}}
class fI{constructor(fJ=25){this.fK=[];this.fJ=fJ;var o=this;setInterval(function(){var d=o.fK;for(var n=d.length-1;n>=0;n--){var i=d[n];i[0]--;if(i[0]<=0){i[0]=i[1];if(i[3]){i[3]();}
if(i[5]==true){continue;}
i[2]--;if(i[2]<=0){if(i[4]){i[4]();}
o.fK.splice(n,1);}}}},1000/o.fJ);}
play(delay,C9,fL,fM=null,fO=false,id=null){delay=dM.i5(delay);C9=dM.i5(C9);this.fK.push([delay,delay,C9,fL,fM,fO,id]);}
remove(id){var d=this.fK;for(var n=d.length-1;n>=0;n--){var i=d[n];if(i[6]&&i[6]==id){i[5]=false;this.fK.splice(n,1);return;}}}
reset(){this.fK.length=0;}}
var $timer=new fI();class can{constructor(){}
static init(src,id=null,landscape=false,fJ=25,op=null){let r=window.location.search.substr(1).match(/(^|&)src=([^&]*)(&|$)/i);if(r)src=r[2];can.d4();can.jI=new jH(id,landscape,op);can.timer=new fI(fJ);can.A4=new g8();BW.init();if(src)can.iZ(src,can.AV);else can.AV();var tar=null,db=0,cZ,d2;AI.AH(can.A4,{mouseDown:function(ev){can.jI.eU=ev.clientX;can.jI.eV=ev.clientY;tar=AI.AO(AI.mouseEvent);h3.hV();if(!tar)return;if(g8.rightClickMenu&&tar.parent&&tar.A3!=g8.rightClickMenu){g8.rightClickMenu.clear();g8.rightClickMenu=null;}
jN.iE=tar;if(cZ&&!cZ.style.activated)cZ=null;if((!cZ||tar.name!=cZ.name)&&!tar._editMode){if(tar&&tar.style.active)tar.fZ();if(tar.style.active)tar.fG(tar.style.active);}
if(g8.gD)g8.gD.f5(tar.id);if(g8.gC)g8.gC.f5(tar.index);if(tar._editMode)return;dN.fR(tar.mouseDown,ev);dN.fR(can.A4.mouseDown,ev);},mouseMove:function(ev){if(AI.eP(AI.mouseEvent))can.timer.remove("gA");var t=AI.AO(AI.mouseEvent);if(t&&t._editMode)return;if(!t||d2==t)return;if(d2){d2.fZ();d2=null;}
if(cZ&&t.name==cZ.name)return;if(t.style&&t.style.hover){d2=t;t.fG(t.style.hover);}
if(t)dN.fR(t.mouseMove,ev);},mouseUp:function(ev){can.timer.remove("gA");var o=AI.AO(AI.mouseEvent);if(!o)return;if(tar!=o)return;if(!tar._editMode){if(tar.style.active)tar.fZ();if(tar.style.activated){if(cZ)cZ.fZ();cZ=tar;cZ.fG(cZ.style.activated);d2=null;}}
if(!tar._editMode&&tar.draggable)dN.fR(o.onDrop,ev);if(AI.eP(AI.mouseEvent))return;if(!tar._editMode)dN.fR(o.mouseUp,ev);if(o.dbClick){if(db==0){can.timer.play(can.timer.fJ/3,1,null,function(){db=0;tar=null;},false,"DBCLICK");}
db++;if(db==2){dN.fR(o.dbClick,ev);db==0;tar=null;}
return;}else{tar=null;}
dN.fR(can.A4.mouseUp,ev);if(can.A4.dbClick){if(db==0){can.timer.play(can.timer.fJ/3,1,null,function(){db=0;},false,"DBCLICK");}
db++;if(db==2){dN.fR(can.A4.dbClick,ev);db==0;}}}});}
static AV(){can.data.images={};can.A4.init();can.cW=new AY();function resize(){can.jI.eT();can.A4.resize();}
resize();jJ.body.onresize=resize;dN.fR(can.A4.onLoad);can.cW.dT("",function(){dN.fR(can.A4.C4);});jJ.body.addEventListener('touchmove',(e)=>{e.preventDefault();},{passive:false});}
static iZ(src,onend,onerror=null){if(!src.match(/\./))src+=".json";BY.iN(src,function(v){var ex=src.split(".").pop();if(ex=="can"){}else{can.data=JSON.parse(v);}
if(onend)onend();},onerror);}
static d4(){var i=navigator.userAgent;console.log(i);if(i.match(/iphone/i)){can.device="iphone";}else if(i.match(/iPad/i)){can.device="ipad";}else if(i.match(/Android/i)){can.device="android";}else{can.device="pc";jJ.body.onmousewheel=function(e){e=e||window.e;if(can.mouseWheelTarget){can.mouseWheelTarget.j0(e.deltaY);}};}
return i;}
static AW(){var o={},ss=can.data.style;for(var s in ss){o["#"+s]=ss[s];if(ss[s].borderWidth>0&&!ss[s].borderStyle)ss[s].borderStyle="solid";}
s=JSON.stringify(o);var n=-1,a=[];s=s.replace(/\"\#.*?\"\:/g,function(){n++;a[n]=arguments[0];return"$__name__"+n;});s=s.replace(/[A-Z]/g,function(){return"-"+arguments[0].toLowerCase();});n=-1;s=s.replace(/\$\_\jZ\_\_[0-9]+/g,function(){n++;return a[n];});s=s.replace(/\#class\-/g,".");s=s.replace(/\:\{/g,"{\n");s=s.replace(/\",|,\"/g,";\n").replace(/\"/g,"");s=s.replace(/\};/g,"}\n");s=s.replace(/[0-9]+;/g,function(){return arguments[0].substr(0,arguments[0].length-1)+"px;";});s=s.replace(/[0-9]+\}/g,function(){return arguments[0].substr(0,arguments[0].length-1)+"px\n}";});s=s.substr(1,s.length-2);var ss=document.getElementById("style");if(ss)document.body.removeChild(ss);ss=document.createElement("style");ss.id="style";jJ.body.appendChild(ss);if(ss.styleSheet){ss.styleSheet.cssText=s;}else{ss.appendChild(document.createTextNode(s));}}}
var dW=(function(){function send(id,method="POST",onsuccessed=null,onerror=null){if(!dW.protocol)return;var s="head="+id,a=dW.protocol[id];for(var n=0,l=a.length;n<l;n++){s=s+"&v"+(n+1)+"="+dM.i5(dW.protocol[id][n]);}
console.log(s);if(!dW.host)return;ajax(dW.host,s,method,onsuccessed,onerror,true);}
function ajax(url,data,method="POST",onsuccessed=null,onerror=null,parsejson=false){if(window.XMLHttpRequest)var t=new XMLHttpRequest();else if(window.ActiveXObject)t=new window.ActiveXObject();else return;if(t!=null){if(method=="POST"){t.open(method,url,true);t.setRequestHeader("Content-type","application/x-www-form-urlencoded");t.send(data);}else{data=data?"?"+data:""
t.open(method,url+data,true);t.send(null);}
t.onreadystatechange=function(){if(t.readyState==4&&t.status==200){if(t.responseText!=undefined){if(parsejson&&(t.responseText.match(/{(.*?)}/i)||t.responseText.match(/[(.*?)]/i))){try{var r=eval('('+t.responseText+')');}catch(error){r=t.responseText;}}else{r=t.responseText;}
if(onsuccessed)onsuccessed(r);}}else if(t.readyState==404){if(onerror)onerror();}};}}
return{send:send,ajax:ajax}})();can.http=dW;class dN{constructor(){dN.fK=[];dN.push([["DO0",this.runAction],["DO1",this.d5],["DO2",this.h6],["DO3",this.iC],["TIMER1",this.fQ],["TIMER2",this.gO],["EVL",this.iT],["SLEEP",function(t){return false;}]]);}
static push(v){if(v[0]instanceof Array==false){dN.fK[v[0]]=v[1];return;}
for(let n=0,l=v.length;n<l;n++){dN.fK[v[n][0]]=v[n][1];}}
static fR(src,e=null){if(typeof(src)=="function"){e?src(e):src();return;}
let o=can.data.methods[src];if(!o)o=src;if(!o||typeof o=="number"){return;}
var a=o.slice(),b;f();function f(){for(let n=0,l=a.length;n<l;n++){if(typeof a=="string")continue;b=a.shift();if(!b||!dN.fK[b.name]){console.log(""+b.name+"")
continue;}
let r=b.value==null?dN.fK[b.name]():dN.fK[b.name](...b.value);if(typeof(r)=="boolean"&&r==false){console.log("----------",a);break;}}
if(b&&b.name=="SLEEP")can.timer.play(b.value,1,null,f);}}
fR(src){dN.fR(src);}
h6(content,f9,fA){let r=confirm(dM.i5(content));dN.fR(r==true?f9:fA);}
fQ(delay,len,fN,fM,id=''){can.timer.play(delay,len,function(){dN.fR(fN);},function(){dN.fR(fM);},len==0,id);}
gO(id){can.timer.remove(id);}
runAction(v){dN.fR(dM.i5(v));}
d5(id,values,dO="action",dP=" "){id=dM.i5(id);var a=dM.dK(dO,"id",String(id));if(!a||!a[0])return;var s=JSON.parse(JSON.stringify(a[0]["data"])),v=values instanceof Array?values:String(values).split(dP),l=v.length;if(l>0){for(var n=0;n<l;n++){v[n]=dM.i5(v[n]);}
l=s.length;for(n=0;n<l;n++){var o=s[n].value;if(!o)continue;if(typeof o=="object")o=dM.BN(o);for(var m=0,ll=o.length;m<ll;m++){var ss=String(o[m]);if(ss.indexOf("#")>-1){s[n].value[m]=o[m].replace("#",v.shift());}}}}
dN.fR(s);}
iC(hB,iA,dQ){hB=dM.i5(hB);var o=hB=="main"?hY.eX:jN.fT(hB);if(!o)return;iA=dM.i5(iA);if(hB=="main")var d=o.mod=="canvas"?hY.gU.methods["main_"+iA]:can.data.methods["main_"+iA];else d=o._editMode?hY.gU.methods[o.id+"_"+iA]:can.data.methods[o.id+"_"+iA];dM.f6(dQ,d);}
iT(s,v=null,dP=" "){if(!v){s=dM.i5(s);if(!s.match(/\(/))s+='()';return eval(s);}else{v=String(v).split(dP);for(var n=0,l=v.length;n<l;n++){v[n]=dM.i5(v[n]);if(typeof v[n]=="string"){v[n]="'"+v[n]+"'";}}
return eval(s+"("+v+")");}}}
can.dS=new dN();var DisplayUtils={};dN.push(["IMG6",function(rgbValue,t,dQ){rgbValue=dM.i5(rgbValue);t=dM.i5(t);rgbValue=String(rgbValue).replace("rgba(","");rgbValue=rgbValue.replace(")","");let aa=rgbValue.split(","),r=parseInt(aa[0]),g=parseInt(aa[1]),b=parseInt(aa[2]);a=Number(aa[3]).toFixed(2),v=null;switch(t){case("a"):v=a;break;case("r"):v=r;break;case("g"):v=g;break;case("b"):v=b;break;case("gray"):v=parseInt((r*299+g*587+b*114+500)/1000);break;}
dM.f6(dQ,v);}]);class eW{}
eW.hZ=null;dN.push([["PLG1",function(hI,url,hJ,d,f9,fA){var o=jN.fT(hI);if(!o)return;eW.hZ=hI;var el=jJ.j9(eW.hZ);if(!hI&&el){jJ.body.removeChild(el);return;}
url=dM.i5(url);el=jJ.j3("iframe");el.id=el.name=eW.hZ;el.setAttribute("frameborder","0");el.style.position="fixed";if(o){let sw=can.jI.parent.clientWidth/can.A4.width,sh=can.jI.parent.clientHeight/can.A4.height,p=o.iL(0,0);el.style.width=o.width*sw+"px";el.style.height=o.height*sh+"px";el.style.left=p.x*sw+"px";el.style.top=p.y*sh+"px";}else{el.style.width="100%";el.style.height="100%";}
jJ.body.insertBefore(el,can.jI.e1);el.src=url;el.onload=function(){d=hJ=="DEBUG"?hY.gU:dM.i5(d);el.contentWindow.postMessage({name:dM.i5(hJ),value:d,onload:f9},'*');can.data.methods.onUploadPlugin=fA;}
can.timer.remove("gA");}],["PLG2",function(hJ,d,f9){window.parent.postMessage({name:dM.i5(hJ),value:dM.i5(d),onload:f9},"*");}],["PLG3",function(){let el=jJ.j8(eW.hZ);if(el){jJ.body.removeChild(el);dN.fR(can.data.methods.onUploadPlugin);}}],["KB1",function(keyBoardEventData){var kb=null;document.onkeydown=function(iS){var e=iS||window.event||arguments.callee.caller.arguments[0];if(e.key=="Control"||e.key=="Alt"||e.key=="Shift"||e.key=="Meta"){kb=e.key;}}
document.onkeyup=function(iS){if(h3.gT){kb=null;return;}
let e=iS||window.event||arguments.callee.caller.arguments[0],k=kb?kb+" ":"",a=dM.dK(keyBoardEventData,"key",k+e.key);console.log(k+e.key);if(e.key=="Control"||e.key=="Alt"||e.key=="Shift"||e.key=="Meta"){kb=null;}
if(!a||!a[0])return;dN.fR(JSON.parse(JSON.stringify(a[0]["action"])));}}]]);window.addEventListener('message',function(e){if(e.source!=window.parent){dM.f6(e.data.name,e.data.value);dN.fR(e.data.onload);}else{if(e.data.name=="DEBUG"){can.data=e.data.value;H5b.init(H5b.eX.id,_FPS);}else{dM.iO={};dM.iO.name=e.data.name;dM.iO.value=e.data.value;dM.iO.onReceive=e.data.onload;}}},false);class AY{constructor(){dN.push([["FILE1",this.hP],["FILE2",this.hQ],["FILE3",this.d6],["FILE6",this.dT],["SCR",this.hM]]);}
hP(hJ,path,dQ,f9,fA){hJ=dM.i5(hJ);path=dM.i5(path);if(path=='local'){var a=hJ.split(".");path=a[0];if(!data.data[path])data.data[path]={};var d=dM.f4(hJ);if(!d)d=[];if(dQ)data.data[dQ]=d;dN.fR(f9);return d;}else if(path=="server"){AY.iN(hJ,null,dQ,"GET",f9,fA);return;}
let f=hJ.split(".")[0];try{d=dM.hS(localStorage[f]);}catch(e){}
if(!d&&d!==0)return;can.data.data[dQ]=JSON.parse(d);dN.fR(f9);}
hQ(d,hJ,path){d=dM.i5(d);hJ=dM.i5(hJ);path=dM.i5(path);if(path=='local'){dM.f5(hJ,d.slice());return;}
let f=hJ.split(".")[0];try{if(!d)delete localStorage[f];else localStorage[f]=dM.hR(JSON.stringify(d));}catch(e){}}
d6(hB,end=null,type="image"){var i=document.createElement("input");i.type="file";function loadFile(){if(i.files&&i.files[0]){var reader=new FileReader();reader.onloadend=function(e){dI(e.target.result);}
reader.readAsText(i.files[0]);}}
hB=dM.i5(hB);function dI(v){var f=i.files['0'],a=f.name.split("."),ex=a.pop();if(!hB)hB=a.join(".");if(type=="text"){if(ex=="can")v=dM.decodeComp64(v);else if(ex=="csv")v=AY.BQ(v);else if(ex=="json"||ex=="comp")v=JSON.parse(v);else if(ex=="cans")eval('('+v+')');dM.f6(hB,v);console.log("",v);dN.fR(end);i.value='';return;}
i.value="";i=null;dN.fR(end);}
i.click();i.onchange=loadFile;}
hM(url,fP){url=dM.i5(url);var a=url.cS("/","."),id=a[a.length-1][0],s=jJ.j8(id);if(s)jJ.body.removeChild(s);s=document.createElement("script");s.type="text/javascript";if(typeof(fP)!="undefined"){if(s.readyState){s.onreadystatechange=function(){if(s.readyState=="loaded"||s.readyState=="complete"){s.onreadystatechange=null;dN.fR(fP);}};}else{s.onload=function(){dN.fR(fP);};}}
s.id=id;s.src=url+"?t="+new Date().getTime();jJ.body.appendChild(s);}
dT(dU,f9,dX){dU=dM.f4(dU);if(!dU)dU=can.data.data.assets;if(!dU){dN.fR(f9);return;}
BY.C6(dU,function(){can.data.images=can.data.images||{};for(var i in BY.images){var ii=BY.images[i];can.data.images[i]=ii;jJ.B4(i,ii.src,ii.naturalWidth,ii.naturalHeight);}
var d=dM.f4(dX);if(!d)d=hY.gU?hY.gU.data.clipping:can.data.data.clipping;if(!d){dN.fR(f9);return;}
for(var n=0,l=d.length;n<l;n++){var i=d[n];clip(i.src,i.id,i.x||0,i.y||0,i.width,i.height);}
function clip(src,id,x,y,w,h){var s=can.data.images[src];if(!s)return;var eX=jJ.iY(w,h),ctx=eX.getContext("2d"),eD=new Image();ctx.drawImage(s,x,y,w,h,0,0,w,h);eD.src=eX.toDataURL("image/png");can.data.images[id]=eD;eD.id=id;if(eD.complete)jJ.B4(id,eD.src,eD.naturalWidth,eD.naturalHeight);else eD.onload=function(){jJ.B4(this.id,this.src,this.naturalWidth,this.naturalHeight);}
eX=null;}
dN.fR(f9);});}
static BQ(s,dP=","){dP=(dP||",");var r=new RegExp(("(\\"+dP+"|\\r?\\n|\\r|^)"+"(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|"+"([^\"\\"+dP+"\\r\\n]*))"),"gi");var d=[[]],a=null;while(a=r.exec(s)){var m=a[1];if(m.length&&(m!=dP))d.push([]);if(a[2]){var v=a[2].replace(new RegExp("\"\"","g"),"\"");}else{v=a[3];}
d[d.length-1].push(v);}
r=[];for(var n=1,l=d.length;n<l;n++){var rr={};for(var m=0,ll=d[n].length;m<ll;m++){if(d[0][m])rr[d[0][m]]=d[n][m];}
r.push(rr);}
return(r);}
static iN(iB,d,dQ,m="GET",f9=null,fA=null){dW.ajax(can.path+iB,d,m,function(r){if(r!=0){var ex=iB.split(".").pop();if(ex=="can"){r=dM.decodeComp(r);}else if(r.match(/{(.*?)}/i)){if(r.indexOf('"0":{')>0)var c=true;r=eval('('+r+')');if(c)r=dM.fixJson(r);}
dM.f6(dQ,r);if(!r)dN.fR(fA);else dN.fR(f9);}else{dN.fR(fA);}},fA);}}
class dM{constructor(){dN.push([["CONF",this.config],["DAT1",this.iM],["DAT2",this.d8],["DAT3",this.d9],["DAT4",this.hK],["DAT5",this.hL],["DAT6",this.dA],["DAT7",this.dD],["DAT8",this.dK],["DAT9",this.dF],["DAT10",this.dG],["DAT12",this.dH],["DAT13",this.jK],["DAT14",this.eZ],["DAT15",this.h7],["DAT16",this.hO],["DAT17",this.iP],["DAT18",this.iQ],["DAT19",this.jL],["DAT20",this.jM],["DAT21",this.BO],["DAT22",this.BP],["DAT23",this.dJ],["EXP",this.f0],["CEXP",this.f1],["REPL",this.h8],["URL1",this.h9]]);}
iM(hJ,key,from=0,dQ='',dP=""){hJ=dM.i5(hJ);let o=dM.f4(hJ);let k=dM.i5(key);if(k instanceof String||k.length==1){if(dP!=''){k=String(k).split(dP);}else{k=[k];}}
if(!k||k.length==0){return;}
let r=o;for(let n=from;n<k.length;n++){if(!k[n]||k[n]=='')continue;r=r.filter(function(e,i,o){for(let ee in e){if(e[ee]&&String(e[ee]).indexOf(k[n])>-1){return true;}}
return false;});}
dM.f6(dQ,r);return r;}
d8(hJ,field,dQ){hJ=dM.i5(hJ);let d=dM.f4(hJ);if(!d)return;let a=[];let r=d.filter(function(e,i,o){if(a.indexOf(e[field])<0){a.push(e[field]);return true;}
return false;});dM.f6(dQ,r);}
d9(hJ=null){if(!hJ){can.data.data=[];return;}
hJ=dM.i5(hJ);if(hJ=="IMAGES"){can.data.images={};return;}
dM.f5(hJ,null);}
hK(hJ,hA,values,index=-1,dr=0,dP=""){hJ=dM.i5(hJ);var d=dM.f4(hJ);if(!d||d instanceof Array==false)d=dM.f5(hJ,"[]");if(hA==""){if(index=="push"){if(!d)return;d.push({});return;}else if(index==-1){dM.f6(hJ,dM.i5(values));return;}}
if(dP!=''){if(hA.indexOf(dP)<0)hA=dM.i5(hA);if(String(values).indexOf(dP)<0)values=dM.i5(values);var f=hA.split(dP),v=String(values).split(dP);}else{f=[hA];v=[values];}
var a={};for(let n=0,l=f.length;n<l;n++){a[dM.i5(f[n])]=dM.i5(v[n]);}
index=dM.i5(index);if(index=="push"){d.push(a);}else if(index=="unshift"){d.length==0?d.push(a):d.unshift(a);}else if(dr==1){d.splice(index,0,a);}else if(dr==2){d.splice(index+1,0,a);}else if(dr==3){d.unshift(a);d.removeAt(index);}else if(dr==4){d.removeAt(index);d.push(a);}else if(dr==5&&d[index]){d[index]=Object.assign(d[index],a);}else{d[index]=a;}}
hL(hJ,dQ){hJ=dM.i5(hJ);dM.f6(dQ,dM.f4(hJ));}
dA(hJ,fV){hJ=dM.i5(hJ);let d=dM.f4(hJ);if(!d)return;fV=dM.i5(fV);if(hJ.substr(-1)!="]"){if(d instanceof Array){var r=d.slice();}else{r=d;}
dM.f6(fV,r);}else{let dd=dM.f4(fV);if(!dd)dd=dM.f5(fV,"[]");dd.push(dM.f4(hJ));}}
dD(hJ,index,dQ=''){index=dM.i5(index);hJ=dM.i5(hJ);let d=dM.f4(hJ);if(index=="random")index=parseInt(d.length*Math.random());else if(index=="sel")index=jN.fS();else if(index=="last")index=d.length-1;if(!d||!d[index])return;dM.f6(dQ,d[index]);return d[index];}
dK(hJ,field,key,dQ='',mode='strict'){return dM.dK(hJ,field,key,dQ,mode);}
dF(hJ,f9=null,fA=null,fU=false){var r=false,n=hJ.charAt(0);if(n=="@"||n=="$"){hJ=dM.i5(hJ);r=!Boolean(hJ!==0&&!hJ);}else{hJ=dM.i5(hJ);if(hJ!=''){let d=dM.f4(hJ);r=!Boolean(d!==0&&!d);}}
if(r==true){dN.fR(f9);return fU=="!true"?false:true;}else{dN.fR(fA);fU=dM.i5(fU);return fU==true?false:true;}}
dG(v,type='',dQ=''){v=dM.i5(v);if(type=='string'){var l=String(v).length;}else if(type=='data'){var d=dM.f4(v);l=!d?0:d.length;}else if(type=='AA'){d=jN.BK(v);l=d.objects.length;}else if(type=='object'){d=jN.AB[v];d=d.filter(function(i){return i!=null;});l=d.length;}
dM.f6(dQ,l);}
dH(hC,fB,mode="all"){let d=dM.f8(dM.i5(fB));if(d){d=d.slice();var n=dM.i5(hC);if(mode!="all"){d.setChildren("[]");}else{dM.f6(n,d);}}}
jK(hJ,dQ,dP=""){hJ=dM.i5(hJ);let d=dM.f4(hJ);if(!d){return;}
let a=[];for(let n in d[0]){a.push(n);}
dM.f6(dQ,Array.BT(a,dP));}
eZ(hJ,field,key,f9=null,fA=null,fU=false){hJ=dM.i5(hJ);var r=false,d=dM.f4(hJ);if(d){field=dM.i5(field);key=dM.i5(key);for(let n=0,l=d.length;n<l;n++){if(d[n][field]){if(d[n][field]==key){r=true;break;}}}}
fU=dM.i5(fU);if(r){dN.fR(f9);return fU=="!true"?false:true;}else{dN.fR(fA);return fU==true?false:true;}}
h7(hJ,field,key,dQ,dP=""){dM.f6(dQ,dM.h7(hJ,field,key,dP));}
hO(hJ,i0,i1){var d=dM.f4(dM.i5(hJ));if(!d)return;let i=dM.i5(i0);i1=dM.i5(i1);let v=d[i];d.splice(i,1);d.splice(i1,0,v);}
iP(hJ,dY,valuefield,key){var d=dM.i5(hJ),ls=jN.fT(dY),dl=dM.f8(dM.i5(ls.data)),valuefield=dM.i5(valuefield),key=dM.i5(key);if(!d||!dl)return;for(var n=0,l=dl.length;n<l;n++){dl[n][valuefield]=f(dl[n][key]);}
function f(s){for(var i in d)
if(i==s)return d[i];}
ls.g4();}
iQ(hJ,index,CB,dZ,valuefield,key){var d=dM.f4(dM.i5(hJ)),u=jN.gK[dZ],dl=dM.f8(dM.i5(CB)),valuefield=dM.i5(valuefield),key=dM.i5(key);var index=dM.i5(index);if(!d||!dl)return;d=d[index];for(var n=0,l=dl.length;n<l;n++){if(dl[n]&&dl[n][key])
d[dl[n][key]]=u[n].f4();}}
jL(hJ,field,type,dQ){var d=dM.f4(hJ);if(!d)return 0;field=dM.i5(field);var r=type=="number"?0:"";for(var n=0,l=d.length;n<l;n++){if(type=="number"&&!isNaN(d[n][field]))
r+=Number(d[n][field]);else
r+=String(d[n][field]);}
dM.f6(dQ,r);return r;}
jM(hJ,m,dQ){var d=dM.i5(hJ);if(typeof d=="object"){d=JSON.stringify(d);}
switch(m){case"uri":var r=encodeURIComponent(d);break;case"b64":r=new Base64().encode(d);break;case"md5":break;}
dM.f6(dQ,r);}
BO(hJ,m,dQ){var d=dM.i5(hJ);switch(m){case"uri":var r=decodeURIComponent(d);break;case"b64":r=new Base64().decode(d);break;case"md5":break;}
r=JSON.parse(r);dM.f6(dQ,r);}
BP(hJ,n1,n2){var d=dM.i5(hJ);if(!d){console.log("can,t find data named: "+hJ);return;}
d=dM.f4(d);n1=dM.i5(n1);n2=dM.i5(n2);for(let n=0,l=d.length;n<l;n++){d[n][n2]=d[n][n1];}}
dJ(hJ,dL){hJ=dM.i5(hJ);let d=dM.f4(hJ);if(!d)return;dL=dM.i5(dL);if(hJ==dL)return;if(d instanceof Array){var r=d.slice();}else{r=d;}
dM.f6(dL,r);dM.f5(hJ,null);}
f0(str){if(!isNaN(str))return;let p1=/\w+\.\w+/g,p2=/@(\w+?)\b/g,p3=/{(.*?)}/g,g=str.split(";");for(let n=0;n<g.length;n++){ff(g[n]);}
function ff(str){let a=str.split("="),r=a[0].split(".");if(a[1]=="TARGET"){dM.f6(a[0].substr(1),jN.iE);return;}
var aa=r[0].charAt(0);if(aa=="@"){let o=jN.fT(r[0].substr(1));if(o)o.f5(dM.i5(a[1]));}else if(aa=="$"){let d=dM.i5(a[1]);dM.f6(a[0].substr(1),d);}}
function fD(d,f,n){let dd=data[d];if(!dd||!dd[n]||!dd[n][f]){return 0;}
return dd[n][f];}}
f1(str,f9=null,fA=null,fU=false){let b=dM.iX(str);fU=dM.i5(fU);if(b==true){dN.fR(f9);return fU=="!true"?false:true;}else{dN.fR(fA);return fU==true?false:true;}
return false;}
h8(src,v1,v2,dQ){src=dM.i5(src);v1=dM.i5(v1);v2=dM.i5(v2);src=String(src).fC(v1,v2);dM.f6(dQ,src);}
h9(hJ,dQ,f9,fA,fU=false){var gE=new RegExp("(^|&)"+hJ+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(gE);if(r!=null){r=decodeURIComponent(r[2]);dM.f6(dQ,r);dN.fR(f9);return fU=="!true"?false:true;}
dN.fR(fA);fU=dM.i5(fU);return fU==true?false:true;}
static i5(v){if(!isNaN(v)&&v!=="")return Number(v);else if(v=="")return"";else if(v==null)return null;if(isNaN(v)){v=String(v);if(v.match(/{(.*?)}/))v=dM.cX(v);var a=v.charAt(0);if(a=="@"){let s=v.substr(1);if(jN.iE&&jN.iE.index>-1)s=s.replace(/\[\]/g,"["+jN.iE.index+"]");a=s.split(".");if(!a[1]){var r=jN.fT(s);if(r==undefined)return;r=r.f4();}else{r=jN.fT(a[0]);if(r)r=r[a[1]];}}else if(a=="$"){r=dM.f4(v.substr(1));}else r=v;}else{r=v;}
if(r==undefined||r==null||r=="null")return null;else if(!isNaN(r)&&r!=="")return Number(r);else if(r=="true")return true;else if(r=="false")return false;return r;}
static f4(src){if(src==undefined)return;if(String(src).match(/\$|\{/)){return dM.i5(src);}
var a=String(src).split(".");if(!a[1]){return dM.f7(null,a[0]);}
var d;for(var n=0,l=a.length;n<l;n++){d=dM.f7(d,a[n]);if(d==null){return null;}}
return d;}
static f7(d,src){var hJ=src.split("[")[0];if(!d){d=can.data.data[hJ];}else{d=d[hJ];}
if(d==null){return null;}
var a=src.match(/\[.*?\]/);if(!a)return d;d=d[a[0].substr(1,a[0].length-2)];if(!d){return null;}
return d;}
static f5(src,v){if(src==null)return;src=String(dM.i5(src));var a=src.split(".");if(!a[1]){if(v==undefined){var b=src.split("[");if(b[0]&&b[1])can.data.data[b[0]].splice(b[1].substr(0,b[1].length-1),1);else delete can.data.data[a[0]];return;}
return dM.d7(null,a[0],v);}
for(var n=0,l=a.length,d=null;n<l;n++){d=dM.d7(d,a[n],n==l-1?v:undefined,l-n);if(!d)break;}
return d;}
static d7(d,src,v,n=0){var hJ=src.split("[")[0];var a=src.match(/\[.*?\]/);if(!d){if(v!=undefined){if(v=="[]"){can.data.data[hJ]=[];}else if(v=="{}"){can.data.data[hJ]={};}else{can.data.data[hJ]=v;}
return can.data.data[hJ];}
if(!can.data.data[hJ]){can.data.data[hJ]=!a?{}:[];}
d=can.data.data[hJ];}else if(!d[hJ]){if(v!=undefined){if(v=="[]"){d[hJ]=[];}else if(v=="{}"){d[hJ]={};}else if(v==undefined){return undefined;}else{d[hJ]=v;}
return d[hJ];}else{if(d instanceof Array){for(var n in d)delete d[n][hJ];return;}}
d[hJ]=!a?{}:[];d=d[hJ];}else{if(!a){if(v)d[hJ]=v;else if(v==undefined&&n==1){delete d[hJ];return undefined;}}
d=d[hJ];}
if(!a)return d;var k=a[0].substr(1,a[0].length-2);if(!d[k]){if(v==undefined)return undefined;d[k]=!v?{}:v;}else if(v==undefined){d.splice(k,1);return undefined;}else{d[k]=v;return d;}
return d[k];}
static cX(s){var p1=/{(.*?)}/g,p2=/[\$|@][\u4e00-\u9fa5_a-zA-Z0-9\.]+/g;s=s.replace(p1,function(){return rp(arguments[0]);});function rp(ss){ss=ss.replace(p2,function(){let r=dM.i5(arguments[0]);if(r!==0&&typeof r=="object"){r=JSON.stringify(r);}
return r;});ss=ss.substr(1,ss.length-2);if(ss.charAt(0)=="?"){ss=ss.replace(/ /g,"+");try{return eval(ss.substr(1));}catch(e){console.log("",ss.substr(1))
return null;}}
return ss;}
return s;}
static f6(hJ,v){if(hJ=='')return;var a=String(hJ).charAt(0);if(a=="@"){hJ=hJ.substr(1);var o=jN.fT(hJ);if(o){o.f5(v);}}else if(a=="$"){dM.f5(dM.i5(hJ.substr(1)),v);}else{dM.f5(hJ,v);}}
static iX(str){if(!str||str=="false")return false;if(str=="true")return true;str=String(str);if(str.match(/{(.*?)}/)){return dM.i5(str);}
let s=str.match(/(\=|\<|\>|\<\=|\>\=)+/);if(!s){var r=false,n=str.charAt(0);if(n=="@"||n=="$"){str=dM.i5(str);r=Boolean(str);}else{str=dM.i5(str);if(str!=''){let d=dM.f4(str);r=!(d!==0&&!d);}}
return r;}
let a=str.split(s[0]),v1=dM.i5(a[0]),v2=dM.i5(a[1]),b=false;switch(s[0]){case("="):b=v1==v2;break;case("=="):b=v1==v2;break;case("<"):b=v1<v2;break;case(">"):b=v1>v2;break;case("<="):b=v1<=v2;break;case(">="):b=v1>=v2;break;}
return b;}
static dK(hJ,field,key,dQ='',mode='strict'){hJ=dM.i5(hJ);var d=dM.f4(hJ);if(!d)return;var a=[],aa=[],len=d.length;field=dM.i5(field);key=dM.i5(key);for(var n=0;n<len;n++){if(d[n]&&d[n][field]!=null){if(mode=="strict"&&d[n][field]==key){a.push(d[n]);}else if(mode=="blur"&&d[n][field].indexOf(key)>-1){a.push(d[n]);}}}
if(a.length==0){a=null;}
dM.f6(dQ,a);return a;}
static hN(hJ,field,key,index){var d=dM.f4(hJ);if(!d){return;}
var i=dM.h7(hJ,field,key);let v=d[i];d.splice(i,1);d.splice(index,0,v);}
static h7(hJ,field,key,dP=""){var d=dM.f4(hJ);if(dP=="")dP=",";if(!d)return null;var f=field.split(dP),k=key.split(dP);for(var n=0;n<f.length;n++){f[n]=dM.i5(f[n]);k[n]=dM.i5(k[n]);}
for(var n=0,l=d.length;n<l;n++){if(ff(d[n]))return n;}
function ff(dd){var b=true;for(var n=0;n<f.length;n++){if(dd[f[n]]===0||dd[f[n]])
if(dd[f[n]]!=k[n])return false;}
return b;}
return null;}
static cY(s){for(var k in s){if(!r)var r=typeof s==="object"&&!isNaN(k)?[]:{};r[k]=typeof s[k]==="object"||s[k]instanceof Array?dM.cY(s[k]):s[k];}
return r;}
static BN(o){var a=[];for(var i in o){a[i]=o[i];}
return a;}
static f8(id){return can.data.data[id];}
static h9(hJ,f9){var gE=new RegExp("(^|&)"+hJ+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(gE);if(r!=null){r=decodeURIComponent(r[2]);f9(r);return true;}
return false;}
static hS(str){return e3.e0(str,{to:'string'});}
static hR(str){return e3.e2(str,{to:'string'});}
static decodeComp(s){return JSON.parse(dM.hS(s));}
static encodeComp(s){return dM.hR(JSON.stringify(s));}
static decodeComp64(s){return JSON.parse(dM.hS(new Base64().decode(s)));}
static encodeComp64(s){return new Base64().encode(dM.encodeComp(s));}
static BL(iB,d){if(d)d=dM.f4(d);else d=can.data;var ex=iB.split(".").pop();if(ex=="can")d=dM.encodeComp64(d);else d=JSON.stringify(d);var a=document.createElement('a'),b=new Blob([d]);a.download=iB;a.href=URL.createObjectURL(b);a.click();}}
new dM();class jN{constructor(BM="rect"){this.data;this.parent;this.style;this._id;this.i7;this.jX=this.jY=this.jR=0;this.jW=this.jV=this.jT=this.jS=this.jU=1;this.name;this.mod;this.e1=jJ.BU(BM,this);this.jO=true;this.A9=false;this.jQ=jN.jP.length;jN.jP.push(this);this.draw=this.fG;this.childNodes={};}
get id(){return this._id;}
set id(v){this._id=v;this.i7=this.i7===undefined?-1:this.i7;this.jZ();}
get index(){return this.i7;}
set index(v){this.i7=v===undefined?-1:v;this.jZ();}
jZ(){this.e1.name=this.name=this.i7<0?this._id:this._id+"["+this.i7+"]";this.e1.setAttribute("id",this.name);this.e1.jQ=this.jQ;}
A0(){var s='';if(this.jX||this.jY){s+="translate("+this.jX+" "+this.jY+")";}
if(this.jT!="Infinity"&&this.jS!="Infinity"&&(this.jT!=1||this.jS!=1)){s+=" scale("+this.jT+" "+this.jS+")";}
if(this.jR){s+=" rotate("+this.jR+")";}
if(!s){this.e1.removeAttribute("transform");return;}
this.e1.setAttribute("transform",s);}
A1(x,y,sx,sy,r){this.jX=x;this.jY=y;this.jT=sx;this.jS=sy;this.jR=r;this.A0();}
get x(){return this.jX;}
set x(v){this.jX=v;this.A0();}
get y(){return this.jY;}
set y(v){this.jY=v;this.A0();}
get regX(){return this._regx;}
set regX(v){this._regx=v;this.e1.setAttribute("x",v);}
get regY(){return this._regy;}
set regY(v){this._regy=v;this.e1.setAttribute("y",v);}
get width(){return this.jW;}
set width(v){v=v>0?v:1;this.jW=v;this.e1.setAttribute("width",v);}
get height(){return this.jV;}
set height(v){v=v>0?v:1;this.jV=v;this.e1.setAttribute("height",v);}
A2(x,y){this.jX=x;this.jY=y;this.A0();}
get scaleX(){return this.jT;}
set scaleX(v){this.jT=v;this.A0();}
get scaleY(){return this.jS;}
set scaleY(v){this.jS=v;this.A0();}
scale(x,y){this.jT=x;this.jS=y;this.A0();}
get rotation(){return this.jR;}
set rotation(v){this.jR=v;this.A0();}
get alpha(){return this.jU;}
set alpha(v){this.jU=v;if(v>=1)this.e1.removeAttribute("opacity",v);else this.e1.setAttribute("opacity",v);}
get visible(){return this.e1.style.visibility!="hidden";}
set visible(v){if(v){if(this.e1.style.visibility=="hidden")
this.e1.style.visibility="visible";}else this.e1.style.visibility="hidden";}
get draggable(){return this._drg;}
set draggable(v){this._drg=v;if(v)this.CC();}
get _editMode(){return this._ed;}
set _editMode(v){this._ed=v;if(v){this.e1.classList.add("edit");}else{this.e1.classList.remove("edit");}}
fH(d,parent,style){this.data=d;this.id=d.id;if(!this._editMode&&d.index!==undefined)this.index=d.index;this.parent=parent;this.A3=parent==can.A4?this:parent.A3;this.set(d,style);}
set(d,style){this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.fG();this.A5();jN.fW(this);}
fG(s=null){if(s)this.style=jN.fF(this,s);if(this.style)this.draggable=this.style.draggable;this.A6();}
fZ(){this.fG(this.id);}
A6(el=null){if(!this.style)return;var s=this.style,el=el||this.e1;this.fX();if(s.backgroundImage){var CI=s.backgroundImage;if(this._editMode)delete this.data.cacheId;if(this.data.cacheId){jJ.B6(el,this.data.cacheId);}else{if(s.clipping){var cid=this.data.cacheId=(this.data.bindStyle?this.data.bindStyle:this.id)+"_CACHE_";if(jJ.B5(cid)){jJ.B6(el,cid);}else{if(s.clipping==9){delete this.data.cacheId;cid=CI+"_TEMP_";}else if(s.clipping=="9C"){}
if(!can.data.images[CI])console.log("no image:"+CI)
else gZ.BD(cid,can.data.images[CI].src,this.width,this.height,function(id){jJ.B6(el,id);});}}else{jJ.B6(el,CI);}}}else{if(s.backgroundColor){el.setAttribute("fill",s.backgroundColor);}else{el.setAttribute("fill","none");}}
if(s.borderWidth>0){el.setAttribute("stroke-width",s.borderWidth);el.setAttribute("stroke",s.borderColor);if(!s.borderStyle||s.borderStyle=="solid"){el.removeAttribute("stroke-dasharray");}else if(s.borderStyle=="dashed"){el.setAttribute("stroke-dasharray",s.borderWidth*2+","+s.borderWidth);}else if(s.borderStyle=="dotted"){el.setAttribute("stroke-dasharray",s.borderWidth+","+s.borderWidth);}else{el.setAttribute("stroke-dasharray",s.borderStyle);}}else{el.removeAttribute("stroke");el.removeAttribute("stroke-width");}
if(s.borderRadius>0){el.setAttribute("rx",s.borderRadius);el.setAttribute("ry",s.borderRadius);}else{el.removeAttribute("rx");el.removeAttribute("ry");}}
_setFilter(el){if(dM.i5(this.style.shadow)){el.setAttribute("filter","url(#shadow)");}else{el.removeAttribute("filter");}}
clear(){if(!this.parent)return;this.A7();if(this.parent)this.parent.removeChild(this);jN.fY(this);}
A7(){this.e1.removeAttribute("transform");this.e1.removeAttribute("class");this.e1.removeAttribute("fill");this.e1.removeAttribute("opacity");this.e1.removeAttribute("style");this.e1.removeAttribute("stroke");this.e1.removeAttribute("stroke-width");this.jR=this.jW=this.jV=this.jX=this.jY=0;this.jU=this.jT=this.jS=1;this.draggable=this._editMode=this.A9=false;}
e4(classname=null){if(!classname)this.e1.classList.remove(classname);else this.e1.classList.add(classname);}
fX(){if(!this.style)return;var o=this,v=o.style.width;this.jT=o.style.scaleX||1;this.jS=o.style.scaleY||1;this.jR=o.style.rotation||0;this.alpha=o.style.alpha||1;if(!v)v=64;if(isNaN(v)){var s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(o.parent){if(s=="%"){v=o.parent.width*v*0.01;}else if(s=="R"){v=o.parent.width-v-(o.style.left>0?o.style.left:0);}}}
o.width=v;v=o.style.height;if(!v)v=64;if(isNaN(v)){s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(o.parent){if(s=="%"){v=o.parent.height*v*0.01;}else if(s=="B"){v=o.parent.height-v-(o.style.top>0?o.style.top:0);}}}
o.height=v;if(o.A9==true)return;if(o.style.left){v=o.style.left;if(!v)v=0;if(isNaN(v)){s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(o.parent){if(s=="%"){v=o.parent.width*v*0.01;}else if(s=="R"){v=o.parent.width-o.width-v;}else if(s=="C"){v=(o.parent.width-o.width)/2+parseInt(v);}}}
o.jX=v;}else{o.jX=0;}
if(o.style.top){v=o.style.top;if(!v)v=0;if(isNaN(v)){s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(o.parent){if(s=="%"){v=o.parent.height*v*0.01;}else if(s=="B"){v=o.parent.height-o.height-v;}else if(s=="C"&&o.parent&&o.parent.style){v=(o.parent.height-o.height)/2+parseInt(v);}}}
o.jY=v;}else{o.jY=0;}
o.A0();}
g2(attr){if(attr=="parent")return this.parent.id;return this[attr];}
g3(attr,v){if(attr=="data"){this.data.data=v;}
this[attr]=v;}
hD(atr,value,e5=true){if(atr=="alpha"){this.alpha=value;return;}
if(atr=="backgroundAlpha"){if(!this.style["backgroundColor"])return;this.style["backgroundColor"].replace(/[0-9]*\.+[0-9]+/,value);}else if(atr=="borderAlpha"){if(!this.style["borderColor"])return;this.style["borderColor"].replace(/[0-9]*\.+[0-9]+/,value);}else if(atr.indexOf("borderRadius")>-1){var a=this.style.borderRadius?String(this.style.borderRadius).split(" "):[0,0,0,0];var i=atr.substr(-1);if(!isNaN(i)){a.length=4;a[i]=value;a=a.map(function(v){return!v?0:v;});this.style["borderRadius"]=String(a).replace(/,/g," ");}else{this.style["borderRadius"]=value;}}else{this.style[atr]=value;}
if(e5)this.fG();}
hE(atr){if(atr.indexOf("borderRadius")>-1){if(this.style.borderRadius&&String(this.style.borderRadius).indexOf(" ")<0){return this.style.borderRadius;}
var a=this.style.borderRadius?String(this.style.borderRadius).split(" "):[0,0,0,0];var i=atr.substr(-1);return!a[i]?0:a[i];}
return this.style[atr];}
resize(){this.fG();if(!this.AA||this.AA.length==0)return;for(let n=0,l=this.AA.length;n<l;n++){if(this.AA[n].resize)this.AA[n].resize();}}
iL(x=0,y=0){var v={x:this.x+x,y:this.y+y}
f(this);function f(o){o=o.parent;if(o&&o.id){v.x+=o.jX;v.y+=o.jY;f(o);}}
return v;}
eS(x=0,y=0){var v={x:-this.x+x,y:-this.y+y}
f(this);function f(o){o=o.parent;if(o&&o.id){v.x-=o.x;v.y-=o.y;f(o);}}
return v;}
CC(){if(this._editMode||!this.draggable){AI.AS(this);return;}
var o=this;AI.AH(this,{mouseMove:function(ev){o.jX=ev.AP;o.y=ev.AQ;}});}
A5(){if(!this._editMode){if(this.data.visible){if(this.index>-1)var s=String(this.data.visible).replace(/\[\]/g,"["+this.index+"]");else s=this.data.visible;this.visible=dM.iX(s);}else this.visible=true;}else{this.visible=!this.data.hidden;}}
_removeChild(eA){if(eA.parent&&eA.name)delete eA.parent.childNodes[eA.name];this.AA.splice(this.AA.indexOf(eA),1);}
g4(){this.A5();}
static gH(o){if(!o||!o.parent||o.parent==can.A4){return o;}
while(o.parent!=can.A4){o=o.parent;}
return o;}
static fW(o){jN.jP[o.jQ]=o;if(!jN.AB[o.id])jN.AB[o.id]=new Array();if(o._editMode&&jN.AB[o.id][o.index])return;jN.AB[o.id][o.index]=o;jN.gK[o.name]=o;}
static fY(o){if(jN.gK[o.name]==o){delete jN.gK[o.name];if(jN.AB[o.id]){delete jN.AB[o.id][o.index];if(jN.AB[o.id].length==0)delete jN.AB[o.id];}}
o.index=-1;}
static fT(name){if(name=="TARGET")return jN.iE;return jN.gK[name];}
static BK(id,index=-1){if(id=="TARGET")return jN.iE;if(!jN.AB[id]||!jN.AB[id][index])return null;return jN.AB[id][index];}
static BJ(name){return jJ.j9(name);}
static g1(type){if(!jN.gQ[type])return;if(!jN.gP[type]){jN.gP[type]=[];}
for(var n=jN.gP[type].length-1;n>=0;n--){var i=jN.gP[type][n];if(!i.parent){return i;}}
i=new jN.gQ[type];jN.gP[type].push(i);return i;}
static gG(d,k){if(d.id==k)return d;if(d.childNodes){for(var i in d.childNodes){var r=jN.gG(d.childNodes[i],k);if(r)return r;}}
return null;}
static gF(d){if(!d.childNodes)return[];var a=[];f(d.childNodes);function f(dd){for(let i in dd){a.push(dd[i]);if(dd[i].childNodes){f(dd[i].childNodes);}}}
return a;}
static fF(o,src){var cl=o.data.bindStyle,id=o.id,ss={},c=o.data.styleData;if(c&&!o._editMode){if(c=="inherit")c=o.parent.data.styleData;var d=dM.dK(c,"id",id),s3=o._editMode?hY.gU.style[cl]:can.data.style[cl];if(!d){var s1={id:id};s1=Object.assign(s1,s3);if(c!=undefined)can.data.data[c].push(s1);return s1;}else{s1=d[0];for(let st in s3){if(!s1[st])s1[st]=s3[st];}
return s1;}}else{s1=o._editMode?hY.gU.style[cl]:can.data.style[cl];}
ss=Object.assign(ss,s1);var s2=o._editMode?hY.gU.style[id]:can.data.style[id];if(s2)
for(let st in s2){if(s2[st]!=undefined){var v=s2[st];if(!v)continue;if(isNaN(v)&&String(v).match(/{(.*?)}/)){if(o.index>-1){v=v.replace(/\[\]/g,"["+o.index+"]");}
ss[st]=dM.i5(v);}else ss[st]=v;}}
if(src!=null&&src!=id){if(typeof src=="object"){if(src.reset!==undefined&&src.reset===false){ss.left=o.x;ss.top=o.y;ss.width=o.width;ss.height=o.height;ss.rotation=o.rotation;ss.alpha=o.alpha;ss.scaleX=o.scaleX;ss.scaleY=o.scaleY;}
ss=Object.assign(ss,src);}else{s2=o._editMode?hY.gU.style[src]:can.data.style[src];if(s2)ss=Object.assign(ss,s2);}}
return ss;}
static BI(o){if(o.data.bindStyle){jN.AE("class-"+o.data.bindStyle,jN.AD(o.data.bindStyle));o.e1.classList.add(o.data.bindStyle);}
o.fX();var ss=jN.AD(o.id),s=o.style;if(!s||!ss)return;if(!s.borderWidth)delete ss.borderStyle;if(s.scaleX)ss.transform="scale("+s.scaleX+","+(s.scaleY||1)+")";if(s.scaleY)ss.transform="scale("+(s.scaleX||1)+","+s.scaleY+")";delete ss.scaleX;delete ss.scaleY;if(s.alpha){ss.opacity=s.alpha+" ";delete ss.alpha;}
if(s.rotation){ss.transform="rotate("+s.rotation+"deg)";delete ss.rotation;}
if(s.backgroundImage){ss.backgroundSize=s.backgroundSize||"contain";if(s.backgroundPosition)ss.backgroundPosition=s.backgroundPosition.replace(/[0-9]+/g,function(){return arguments[0]+"px";});else if(s.clipping=="9")o._drawBackground9(s.backgroundImage,o.e1,o.width,o.height);else ss.backgroundImage="url("+s.backgroundImage+")";}else{delete o.e1.style.background;}}
static AC(e7,e8,attr,e6=false){var a=e8.getAttribute(attr);if(a)e7.setAttribute(attr,a);if(e6)e8.removeAttribute(attr);}
static AD(id){return can.data.style[id];}
static AE(id,v){can.data.style[id]=v;}
static hD(id,attr,v){if(v===null){delete can.data.style[id][attr];}else{can.data.style[id][attr]=v;}}
static cY(ss,d,n1='',n2=''){let id,s=dM.cY(ss);if(s.id.charAt(0)=="_")
id="_"+s.mod+String.randomId().substr(5);else
id=n1+s.id+n2;d.style[id]=dM.cY(d.style[ss.id]);s.id=id;function f(dd){var o={},n=0;for(let k in dd){if(k==="childNodes"){if(!o[k])o[k]={};for(let kk in dd[k]){if(kk.charAt(0)=="_")
var id="_"+dd[k][kk].mod+n+String.randomId().substr(5);else
id=n1+kk+n2;n++;d.style[id]=dM.cY(d.style[kk]);dd[k][kk].id=id;o[k][id]=f(dd[k][kk]);}}else if(k.indexOf("on")>-1){delete d[k];}else o[k]=dd[k];}
return o;}
return f(s);}
static d1(id,index,d3,parent,style){var d=dM.cY(jN.gG(can.data.components,d3));if(!d){console.log("there is not template named:"+d3);return;}
can.data.style[id]=Object.assign(can.data.style[d3],style);var d=jN.cY(d,hY.gU||can.data,id+"_"),o=jN.fT(parent);if(!o)o=can.A4;d.id=id;var i=jN.g1(d.mod);i.index=index;o.addChild(i);i.fH(d,o);return i;}
static getXY(j=null){var r={};var v=j.x;if(!v)v=0;if(isNaN(v)){var s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(s=="%"){v=this.parent.width*v*0.01;}else if(s=="R"){v=this.parent.width-this.width-v;}else if(s=="C"){v=(this.parent.width-this.width)/2+parseInt(v);}}
r.x=v;v=j.y;if(!v)v=0;if(isNaN(v)){s=v.substr(-1).toUpperCase();v=v.substr(0,v.length-1);if(s=="%"){v=this.parent.height*v*0.01;}else if(s=="B"){v=this.parent.height-this.height-v;}else if(s=="C"&&this.parent){v=(this.parent.height-this.height)/2+parseInt(v);}}
r.y=v;return r;}}
jN.gQ=[];jN.gP=[];jN.gK=[];jN.jP=[];jN.AB=[];class AF extends jN{constructor(){super("g");this.AA=[];this.CI=jJ.j4(this);this.e1.appendChild(this.CI);}
jZ(){this.CI.name=this.e1.name=this.name=this.i7<0?this._id:this._id+"["+this.index+"]";this.e1.setAttribute("id",this.name);this.CI.setAttribute("id",this.name+"_background");this.CI.jQ=this.e1.jQ=this.jQ;}
get width(){return this.jW;}
set width(v){v=v>0?v:1;this.jW=v;this.CI.setAttribute("width",v);}
get height(){return this.jV;}
set height(v){v=v>0?v:1;this.jV=v;this.CI.setAttribute("height",v);}
set(d,style){super.set(d,style);var c=d.childNodes;if(c){for(let n in c){let i=jN.g1(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;this.addChild(i);i.fH(c[n],this);this.childNodes[i.name]=i;}}
this.BH();this.dR(d);}
dR(d){this.CC();}
f5(v){for(var n=0,l=this.AA.length;n<l;n++){this.AA[n].f5(v);}
this.A5();}
fG(s=null){if(s)this.style=jN.fF(this,s);this.draggable=this.style.draggable;this.A6(this.CI);this._setFilter(this.CI);}
addChild(eA){if(eA.parent)eA.parent._removeChild(eA);eA.parent=this;if(eA.name)this.childNodes[eA.name]=eA;if(eA.e1)this.e1.appendChild(eA.e1);if(this.AA.indexOf(eA)<0)this.AA.push(eA);}
addChildAt(eA,index){this.addChild(eA);this.setChildIndex(eA,index);}
removeChild(eA){this._removeChild(eA);eA.parent=null;if(eA.e1&&this.e1.contains(eA.e1))this.e1.removeChild(eA.e1);eA.clear();}
AG(e7,e8){this.e1.replaceChild(e7,e8);}
setChildIndex(eA,index){this.e1.insertBefore(eA.e1,this.e1.childNodes[index]);}
BH(){if(this.AA.length<2)return;this.AA.sort(function(o1,o2){if(!o2.style)return 1;if(!o1.style)return-1;if(o1.style.zIndex>o2.style.zIndex){return 1;}
if(o1.style.zIndex<o2.style.zIndex){return-1;}
return 0;});for(var n=0;n<this.AA.length;n++){if(this.AA[n].e1)this.e1.appendChild(this.AA[n].e1);}}
g4(){super.g4();for(var n=0,l=this.AA.length;n<l;n++){this.AA[n].g4();}}
clear(){if(!this.parent)return;this.A7();for(let n=this.AA.length-1;n>=0;n--){this.AA[n].clear();}
this.AA.length=0;if(this.parent)this.parent.removeChild(this);dN.fR(this.g0);jN.fY(this);}
static i2(parent,childId){var a=[];f(parent);function f(p){if(!p.AA)return;for(var n=0,l=p.AA.length;n<l;n++){if(p.AA[n].id==childId){a.push(p.AA[n]);}else{f(p.AA[n]);}}}
return a;}}
class gY extends jN{constructor(BM="rect"){super(BM);this.AA=[];this.mod="box";this.CI=null;}
get width(){return this.jW;}
set width(v){v=v>0?v:1;this.jW=v;let el=this.CI||this.e1;el.setAttribute("width",v);}
get height(){return this.jV;}
set height(v){v=v>0?v:1;this.jV=v;let el=this.CI||this.e1;el.setAttribute("height",v);}
set(d,style){AF.prototype.set.call(this,d,style);dN.fR(this.g6);}
fG(s=null){if(s)this.style=jN.fF(this,s);this.draggable=this.style.draggable;var el=this.CI||this.e1;this.A6(el);this._setFilter(el);}
dR(d){if(!this._editMode){this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;this.mouseMove=d.onmousemove;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;this.onDrop=d.ondrop;this.CC();}}
addChild(eA){if(eA.parent)eA.parent._removeChild(eA);eA.parent=this;if(eA.name)this.childNodes[eA.name]=eA;if(eA.e1){if(this.AA.length>0){this.e1.appendChild(eA.e1);}else{var g=jJ.j5(this);g.id=this.name;jN.AC(g,this.e1,"transform",true);this.parent.AG(g,this.e1);g.appendChild(this.e1);this.CI=this.e1;this.CI.setAttribute("id",this.name+"_background");this.e1=g;}
this.e1.appendChild(eA.e1);}
if(this.AA.indexOf(eA)<0)this.AA.push(eA);}
addChildAt(eA,index){this.addChild(eA);this.setChildIndex(eA,index);}
removeChild(eA){this._removeChild(eA);eA.parent=null;eA.clear();}
_removeChild(eA){if(eA.parent&&eA.name)delete eA.parent.childNodes[eA.name];this.AA.splice(this.AA.indexOf(eA),1);if(eA.e1&&this.e1.contains(eA.e1))this.e1.removeChild(eA.e1);if(this.AA.length<1){if(this.CI){jN.AC(this.CI,this.e1,"transform");if(this.parent)this.parent.AG(this.CI,this.e1);this.e1=this.CI;this.e1.setAttribute("id",this.name);this.CI=null;}}}
AG(e7,e8){let el=this.e9||this.e1;el.replaceChild(e7,e8);}
setChildIndex(eA,index){var el=this.e9?this.e9:this.e1;el.insertBefore(eA.e1,el.childNodes[index]);}
BH(){AF.prototype.BH.call(this);}
get numChildren(){return this.AA.length;}
clear(){if(!this.parent)return;this.A7();for(let n=this.AA.length-1;n>=0;n--){this.AA[n].clear();}
this.AA.length=0;if(this.parent)this.parent.removeChild(this);if(this.CI){this.CI.removeAttribute("transform");this.CI.removeAttribute("class");this.CI.removeAttribute("fill");this.CI=null;}
dN.fR(this.g0);jN.fY(this);}
BG(){for(var n=this.AA.length-1;n>=0;n--){this.AA[n].clear();}
this.AA.length=0;var c=this.data.childNodes;if(c){for(let n in c){var i=jN.g1(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;this.addChild(i);i.fH(c[n]);this.childNodes[i.name]=i;}}}
f5(v){AF.prototype.f5.call(this,v);}
f4(){}
g4(){AF.prototype.g4.call(this);}}
jN.gQ.box=gY;class BF extends jN{constructor(){super("g");this.mod="container";this.container=new jN("g");this.CI=jJ.j4(this);this.e1.appendChild(this.CI);this.e1.appendChild(this.container.e1);this.AA=[];this.jB;}
jZ(){AF.prototype.jZ.call(this);}
get width(){return this.jW;}
set width(v){v=v>0?v:1;this.jW=v;this.CI.setAttribute("width",v);this.jB.setAttribute("width",v);}
get height(){return this.jV;}
set height(v){v=v>0?v:1;this.jV=v;this.CI.setAttribute("height",v);this.jB.setAttribute("height",v);}
addChild(eA){if(eA.parent)eA.parent._removeChild(eA);eA.parent=this;if(eA.name)this.childNodes[eA.name]=eA;if(eA.e1)this.container.e1.appendChild(eA.e1);if(this.AA.indexOf(eA)<0)this.AA.push(eA);}
setChildIndex(eA,index){this.container.e1.insertBefore(eA.e1,this.container.e1.childNodes[index]);}
addChildAt(eA,index){this.addChild(eA);this.setChildIndex(eA,index);}
AG(e7,e8){this.container.e1.replaceChild(e7,e8);}
removeChild(eA){this._removeChild(eA);eA.parent=null;if(eA.e1&&this.container.e1.contains(eA.e1))this.container.e1.removeChild(eA.e1);eA.clear();}
BH(){if(this.AA.length<2)return;this.AA.sort(function(o1,o2){if(!o2.style)return 1;if(!o1.style)return-1;if(o1.style.zIndex>o2.style.zIndex){return 1;}
if(o1.style.zIndex<o2.style.zIndex){return-1;}
return 0;});for(var n=0;n<this.AA.length;n++){this.container.e1.appendChild(this.AA[n].e1);}}
clear(){super.clear();this.CI.removeAttribute("fill");for(let n=this.AA.length-1;n>=0;n--){this.AA[n].clear();}
this.AA.length=0;AI.AS(this);dN.fR(this.g0);}
resize(){super.resize();this.flex();}
set(d,style){jJ.jA(this);this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.fG();var c=d.childNodes;if(c){for(let n in c){let i=jN.g1(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;i.A9=this.style.display=="flex";this.addChild(i);i.fH(c[n],this);this.childNodes[i.name]=i;}}
this.flex();this.dR(d,this.style);jN.fW(this);}
fG(s=null){if(s)this.style=jN.fF(this,s);if(this.style)this.draggable=this.style.draggable;this.A6(this.CI);this._setFilter(this.CI);}
dR(d,ss){if(this._editMode)return;this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;this.CC();}
f5(v){AF.prototype.f5.call(this,v);}
flex(){var s=this.style,o=this.AA;if(!o[0])return;this.BH();if(o.length>1){o.sort(function(o1,o2){return o2.style.zIndex-o1.style.zIndex;});}
if(!this._editMode&&this.data.arrangement){eval(this.data.arrangement+"(this.AA,this.style)");return;}
var lw=0,lh=0,len=o.length;if(s.display!="flex"){for(n=0;n<len;n++){var i=o[n];if(i.x+i.width>lw)lw=i.x+i.width;if(i.y+i.height>lh)lh=i.y+i.height;}
this.eQ=lw;this.eR=lh;}else{var fd=s.flexDirection,wp=s.flexWrap;lw=s.lineWidth?s.lineWidth:0;lh=s.lineHeight?s.lineHeight:0;if(fd=="row"){var my=0;for(var n=0;n<len;n++){i=o[n];if(n==0){i.jX=lw;i.y=lh;continue;}
i.jX=o[n-1].width+o[n-1].x+lw;if(wp=="nowrap"){i.y=lh;continue;}
let _my=o[n-1].y+o[n-1].height+lh;if(_my>my)my=_my;if(i.x+i.width>this.width){i.jX=lw;i.y=my;}else{i.y=o[n-1].y;}}
this.eQ=wp=="nowrap"?i.x+i.width+lw:w;this.eR=i.y+i.height;}else if(fd=="rowReverse"){var w=this.width;for(n=len-1;n>=0;n--){i=o[n];if(n==0){i.jX=w-lw;i.y=lh;continue;}
i.jX=w-i.width-o[n-1].x-lw;if(wp=="nowrap"){i.y=lh;continue;}
let _my=o[n-1].y+o[n-1].height+lh;if(_my>my)my=_my;if(i.x<0){i.jX=w-lw;i.y=my;}else{i.y=o[n-1].y;}}
this.eQ=w;this.eR=i.y+i.height+lh;}else if(fd=="column"){for(n=0;n<len;n++){i=o[n];if(n>0){i.jY=o[n-1].height+o[n-1].y+lh;}else{i.jY=lh;}
i.x=lw;}
this.eQ=w;this.eR=i.y+i.height+lh;}else if(fd=="columnReverse"){var h=this.height;for(n=len-1;n>=0;n--){if(n<len-1){o[n].jY=o[n+1].y-o[n].height-lh;}else{o[n].jY=h-o[n].height-lh;}}
o[n].x=lw;this.eQ=w;this.eR=h;}}
if(!this._editMode&&s.overflow=="fixed"){this.width=(this.eQ?this.eQ:this.width)+(s.lineWidth?s.lineWidth:0);this.height=(this.eR?this.eR:this.height)+(s.lineHeight?s.lineHeight:0);}else
this.AJ();}
AJ(){var AK=this,o=AK.container;if(AK.height<AK.eR&&o.y<AK.height-AK.eR){o.jY=AK.height-AK.eR;}else{o.jY=0;}
if(AK.width<AK.eQ&&o.x<AK.width-AK.eQ){o.jX=AK.width-AK.eQ;}else{o.jX=0;}
o.A0();var t;AI.AH(o,{mouseDown:function(ev){can.timer.remove("eY");t=new Date().getTime();AK.eU=ev.clientX;AK.eV=ev.clientY;},mouseMove:function(ev){var s=AK.style.overflow;if(!s||s=="visible"||s=="fix"||s=="hidden")return;if(s!="autoY"&&AK.width<AK.eQ){o.x=ev.AP;}else if(s!="autoX"&&AK.height<AK.eR){o.y=ev.AQ;}},mouseUp:function(ev){var h=AK.height,H=AK.eR,w=AK.width,W=AK.eQ,ss=AK.style,l=new Date().getTime()-t;if(ss.overflow=="autoY"){W=w;}else if(ss.overflow=="autoX"){H=h;}
if(l>500){if(o.y>0){o.jY=0;}
if(o.x>0){o.jX=0;}
o.A0();return;}
ss=50*can.jI.scale;if(Math.abs(AK.eV-ev.clientY)>5&&((h<H&&can.jI.rotation==0)||(w<W&&can.jI.rotation==-90))){var sp=AK.eV>ev.clientY?Math.min((AK.eV-ev.clientY)*ss/l,ss):Math.max((AK.eV-ev.clientY)*ss/l,-ss),s=sp*0.05;can.timer.play(1,20,can.jI.rotation==-90?f2:f1,function(){},false,"eY");return;}else if(Math.abs(AK.eU-ev.clientX)>5&&((w<W&&can.jI.rotation==0)||(h<H&&can.jI.rotation==-90))){sp=(AK.eU-ev.clientX)*ss/l;s=sp*0.05;can.timer.play(1,20,can.jI.rotation==-90?f1:f2,function(){},false,"eY");return;}
function f1(){var jY=h-H;if(o.y>0||jY>0){o.y=0;can.timer.remove("eY");return;}else if(o.y<jY&&jY<0){o.y=jY;can.timer.remove("eY");return;}
o.y-=sp;sp-=s;}
function f2(){var jX=w-W;if(o.x>0||jX>0){o.x=0;can.timer.remove("eY");return;}else if(o.x<jX&&jX<0){o.x=jX;can.timer.remove("eY");return;}
o.x-=sp*(can.A4.rotation==-90?-1:1);sp-=s;}}});}
g4(){AF.prototype.g4.call(this);this.flex();}
BG(){for(var n=this.AA.length-1;n>=0;n--){this.AA[n].clear();}
this.AA.length=0;var c=this.data.childNodes;if(c){for(let n in c){var i=jN.g1(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;this.addChild(i);i.fH(c[n],this);this.childNodes[i.name]=i;}}
this.fG();this.flex();}}
jN.gQ.container=BF;class eB extends BF{constructor(){super();this.mod="containerplus";}}
jN.gQ.containerplus=eB;class gZ extends jN{constructor(){super("image");this.mod="image";this.jO=false;}
set(d){super.set(d);this.jO=this._editMode;if(d.data)var dd=dM.f4(d.data+"."+this.id+this.index);if(this._editMode){if(d._src){this.f5(d._src);return;}else if(!d.src||d.src.match(/\$|\@|\{/i)){this.f5("ico/imagePreview.png");return;}}
if(dd)this.f5(dd);else this.f5(d.src);}
get src(){return this._src;}
set src(v){if(!v){jJ.B3(this.e1);return;}
this._src=v;if(this._editMode){if(String(v).match(/\.[png|jpg|gif|svg]/i)&&!String(v).match(/http/i))
v=(hY.dB||"")+v;}
jJ.setImageSrc(this.e1,v);}
f5(v){if(!v){v=this.data.src;}
var o=this;let s=o._editMode&&(!o.data.src||o.data.src.match(/\$|\@|\{/i))?o.data._src:o.data.src;can.data.images=can.data.images||{};if(s){var r=String(s);if(r.charAt(0)=="$"){v=dM.i5(r);}else if(r.match(/{(.*?)}/)){r=r.replace(/\[\]/g,"["+o.index+"]");if(this.type=="url"){r=r.substr(1,r.length-2);if(typeof v=="object"&&v[r])v=v[r];}else if(r.match(/\$|\@|\%|\*|\+|\/|\-|\(/i)){r=dM.i5(r);if(can.data.images[r])
v=can.data.images[r];else
v=r;}else{r=r.substr(1,r.length-2);if(typeof v=="string")v=can.data.images[v];else if(!v[r])return;else if(String(v[r]).match(/\.[png|jpg|gif|svg]/i))v=v[r];else v=can.data.images[v[r]];}}else if(r.indexOf(".")>-1){v=r;}else{if(isNaN(v))v=can.data.images[v];}}else if(o.data.data){dM.f5(o.data.data+"."+o.id+o.index,v);}
if(v&&v.src){this.eD=v;this.fix();v=v.src;}else{this.eD=null;}
if(!v||(typeof v!="string"&&typeof v!="number")){if(this.onChange)dN.fR(this.onChange);return;}
if(o.data.clipping){let a=eval("["+o.gU.clipping+"]");o.src=gZ.clip(v,a[0],a[1],a[2],a[3]);}else{if(isNaN(v)&&v.match(/http|png|jpg|jpeg|\.svg/i)){o.src=v;}else if(can.data.images&&can.data.images[v]){o.src=can.data.images[v].src;}else{console.log("error: no image named "+v);o.src=null;}}
if(this.onChange)dN.fR(this.onChange);}
A6(el=null){if(!this.style)return;this.fX();}
f4(){return this.src;}
clear(){super.clear();this.eD=null;this.e1.removeAttribute("width");this.e1.removeAttribute("height");jJ.B3(this.e1);}
cache(){let pt=jJ.j2("pattern"),img=jJ.j2("image");pt.appendChild(img);jJ.BE.appendChild(pt);}
g4(){super.g4();this.f5(this.data.src);}
fix(){let s=this.style.justify;if(s=="fix"){if(!this.eD)return;let w=this.eD.width,h=this.eD.height;this.scaleX=this.width/w;this.scaleY=this.height/h;this.e1.setAttribute("width",w);this.e1.setAttribute("height",h);}else{}}
get width(){return this.jW;}
set width(v){v=v>0?v:1;this.jW=v;this.e1.setAttribute("width",v);if(this.style.justify=="fix")this.fix();}
get height(){return this.jV;}
set height(v){v=v>0?v:1;this.jV=v;this.e1.setAttribute("height",v);if(this.style.justify=="fix")this.fix();}
resize(){this.g4();}
static BD(id,src,W,H,end){var b=new Image();b.src=src;var eX=jJ.iY(W,H),ctx=eX.getContext("2d");function e(){var bw=b.width,bh=b.height,w=bw/2,h=bh/2,w2=W-2*w,h2=H-2*h;ctx.drawImage(b,0,0,w,h,0,0,w,h);ctx.drawImage(b,w,0,w,h,W-w,0,w,h);ctx.drawImage(b,0,h,w,h,0,H-h,w,h);ctx.drawImage(b,w,h,w,h,W-w,H-h,w,h);if(w2>0){ctx.drawImage(b,w-2,0,4,h,w,0,w2,h);ctx.drawImage(b,w-2,h,4,h,w,H-h,w2,h);}else w2=0;if(h2>0){ctx.drawImage(b,0,h-2,w,4,0,h,w,h2);ctx.drawImage(b,w,h-2,w,4,W-w,h,w,h2);}else h2=0;if(h2>0&&w2>0)ctx.drawImage(b,w-2,h-2,4,4,w,h,w2,h2);jJ.B4(id,eX.toDataURL("image/png"),W,H);if(end)end(id);}
b.onload=function(){e();b=null;eX=null;}}}
jN.gQ.image=gZ;class B0 extends jN{constructor(){super();this.mod="sprite";this.frames=[];}
set(d,style){if(!this.eD){this.eD=jJ.j2("image");this._pt=jJ.B1(this.id+"_SPR",this.eD);}
this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.fG();if(d.data){var o=dM.i5(d.data);if(o)this.BB(o);}else{this.BB(d);}
this.A5();if(this.frames[0]&&!this._editMode)this.gotoAndPlay(0);this.dR(d);jN.fW(this);dN.fR(this.g6);}
dR(d){if(this._editMode)return;this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.dbClick=d.ondbclick;this.dI=d.oncomplete;}
BB(d){if(d.src&&!d.src.match(/\.png|\.jpg/))var i=can.data.images[d.src];else i=d.src;jJ.setImageSrc(this.eD,i);let jW=this.width,jV=this.height;var a=d.clipping?d.clipping.split(","):[0,0,64,64],m=a[4]||20,x=parseInt(a[0]),y=parseInt(a[1]);this.width=d.imgWidth||a[2];this.height=d.imgHeight||a[3];this._pt.setAttribute("width",this.width);this._pt.setAttribute("height",this.height);this.scaleX=jW/this.width;this.scaleY=jV/this.height;jJ.B6(this.e1,this.id+"_SPR");this.frames.length=0;this.frameRate=d.frameRate||can.timer.fJ;this.numFrames=d.numFrames||1;this.repeat=d.repeat||1;for(var n=0;n<this.numFrames;n++){this.frames.push([x+n%m*this.width,y+parseInt(n/m)*this.height]);}
this.BC=0;}
clear(){this.stop();super.clear();dN.fR(this.g0);}
play(end=null){var AK=this;can.timer.play(this.frameRate,this.repeat<0?1:(this.repeat*this.numFrames-this.currentFrame),function(){AK.BC++;if(AK.BC>=AK.numFrames)AK.BC=0;AK.gotoFrame(AK.BC);},function(){dN.fR(this.dI);if(end)end();},this.data.repeat<0,this.name);}
stop(){can.timer.remove(this.name);}
gotoFrame(index){var o=this.currentFrame=this.frames[index];this.BC=index;this.eD.setAttribute("x",-o[0]);this.eD.setAttribute("y",-o[1]);}
gotoAndPlay(index,end=null){this.gotoFrame(index);this.currentFrame=index;this.play(end);}
gotoAndStop(index){this.gotoFrame(index);this.currentFrame=index;this.stop();}
f5(v){if(!v)return;var o=this.BB(v);this.gotoAndStop(0);if(!this._editMode)this.play(this.dI);}}
jN.gQ.sprite=B0;class h0 extends jN{constructor(){super("text");this.mod="text";this.jO=false;}
get width(){return this.jW;}
set width(v){v=v>0?v:1;this.jW=v;}
get height(){return this.jV;}
set height(v){v=v>0?v:1;this.jV=v;}
set color(v){this.e1.setAttribute("fill",v);}
set(d,style){super.set(d,style);this.jO=this._editMode;var r=this.gV=String(d.value!=undefined?d.value:"");if(this._editMode){this.text=r;this.fG();return;}
this.g4();}
A6(el=null){if(!this.style)return;var s=this.style,el=el||this.e1;this.fX();s.color=s.color||"#000";var fs=s.fontSize||20;el.setAttribute("font-size",fs);if(s.color)el.setAttribute("fill",s.color);if(s.borderWidth>0){el.setAttribute("stroke-width",s.borderWidth);el.setAttribute("stroke",s.borderColor);}
if(s.textAlign=="right"){el.setAttribute("text-anchor","end");el.setAttribute("x",this.width);}else if(s.textAlign=="center"){el.setAttribute("text-anchor","middle");el.setAttribute("x",this.width/2);}else{el.setAttribute("text-anchor","start");el.setAttribute("x",0);}
if(s.textBaseline=="bottom"){el.setAttribute("y",this.height-fs/4);}else if(s.textBaseline=="middle"){var h=this.e1.getBoundingClientRect().height;el.setAttribute("y",(this.height+fs*3/4)/2);}else{h=this.e1.getBoundingClientRect().height;el.setAttribute("y",fs);}
this.text=this._t;if(s.shadow){el.setAttribute("filter","url(#shadow)");}else{el.removeAttribute("filter");}}
f5(v){this.text=h0.iW(this,v);}
get text(){return this._t;}
set text(v){if(v===0)v="0";if(this.style&&this.style.multiline){this.e1.innerHTML='';if(!v)return;this._t=v;this.AZ(v);}else{this._t=v||'';this.e1.textContent=this._t;if(this._t.length<2)return;var r=this.e1.getBBox().width;if(r>this.width){let s=String(this._t);this.e1.textContent=s.substr(0,parseInt(s.length*this.width/r));}}}
AZ(v){v=v.split('');var telm=jJ.j2("tspan"),tn=document.createTextNode(v[0]);telm.appendChild(tn);this.e1.appendChild(telm);let fh=this.e1.getBoundingClientRect().height;for(var i=1,l=v.length;i<l;i++){var len=telm.firstChild.data.length;telm.firstChild.data+=""+v[i];if(telm.getComputedTextLength()>this.width){telm.firstChild.data=telm.firstChild.data.slice(0,len);var telm=jJ.j2("tspan");telm.setAttributeNS(null,"x",0);telm.setAttributeNS(null,"dy",fh);tn=document.createTextNode(v[i]);telm.appendChild(tn);this.e1.appendChild(telm);}}}
f4(){var r=String(this.gV);if(r.indexOf("#")>-1){var a=r.split("#");var s=this.text.substr(a[0].length,this.text.length-a[1].length-a[0].length);}else{s=this.text;}
return s;}
g4(){super.g4();if(this.iJ){this.text=h0.iW(this,this.iJ);return;}else{this.text=h0.iW(this,this.gV);}}
clear(){super.clear();this.e1.innerHTML='';}
static iW(o,v){var r=o.gV,a=String(r).match(/{(.*?)}/g);if(a){if(typeof v=="object"){o.iJ=v;if(r.match(/\$|\@/i)){if(o.index>-1)r=r.replace(/\[\]/g,"["+o.index+"]");v=dM.cX(r);}else{var d=v;for(let n=0,l=a.length;n<l;n++){let s=a[n].substr(1,a[n].length-2);r=r.replace(a[n],d[s]!=null?d[s]:'');}
v=r;}}else{if(o.index>-1&&r.match(/\[\]/i))v=r.replace(/\[\]/g,"["+o.index+"]");v=dM.i5(v);}}else{if(typeof v!="number"&&typeof v!="string"){if(v instanceof Array==false)v=r;}
if(o.style&&v!==''&&!isNaN(v)&&o.style.toFixed)v=Number(v).toFixed(parseInt(o.style.toFixed));else if(String(r).indexOf("#")>-1)v=r.replace("#",v);}
return v;}}
jN.gQ.text=h0;class h3 extends AF{constructor(){super("g");this.mod="input";this._text=new h0();this.e1.appendChild(this._text.e1);}
jZ(){super.jZ();this._text.id=this.id+"_text";this._text.e1.jQ=this.jQ;}
fH(d,parent,style){this.data=d;this.id=d.id;if(!this._editMode&&d.index!==undefined)this.index=d.index;this.parent=parent;this.A3=parent==can.A4?this:parent.A3;this.set(d,style);}
set(d,style){this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.fG();this.placeholder=d.placeholder;this.gV=this._text.gV=d.value?d.value:'';if(this.gV==''&&this.placeholder){this.text=this.placeholder;this._text.alpha=0.5;}else{this.text=h0.iW(this,this.gV);this._text.alpha=1;}
this.type=d.type?d.type:"text";this.A5();this.dR(d);jN.fW(this);}
A6(el=null){this._text.style=dM.cY(this.style);super.A6(this.CI);if(this._text.style){delete this._text.style.borderWidth;delete this._text.style.left;delete this._text.style.top;delete this._text.style.shadow;this._text.style.left=4;this._text.style.width=this.width-8;this._text.style.height=this.height;}
this._text.fG();}
fZ(){super.fZ();this._text.fZ();}
get text(){return this._text.text;}
set text(v){this._text.text=v;}
eC(){var d=this.data;if(d.options){if(d.options.charAt(0)=="$"){var op=dM.f4(d.options.substr(1));if(op){var a=[];for(let n=0,l=op.length;n<l;n++){a.push([op[n].name,op[n].value]);}
this.options=a;}else this.options=null;}else{this.options=d.options.cS("|",":");}
this.type="select";}else this.options=null;}
dR(d){if(this._editMode)return;this.dI=d.oncomplete;this.onInput=d.oninput;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.gU=d.data;this.eC();var o=this;this[d.activateEvent]=function(){if(AI.eP(AI.mouseEvent))return;dN.fR(can.data.methods[o.id+"_on"+d.activateEvent.toLowerCase()]);jN.iE=h3.gT=o;if(o.type=="color"||o.type=="action")return;if(o.options){h3.showSelect(o);}else{h3.iV(o);}}}
f5(v){if(v!==0&&!v)v='';if(v.hasOwnProperty(this.id))v=undefined?"":v[this.id];else if(v.hasOwnProperty(this.gU))v=undefined?"":v[this.gU];else v=h0.iW(this,v);let ss=this.style;if(this.type=="action")this.iJ=v;else if(this.type=="auto"&&v instanceof Array){if(v[0].hasOwnProperty("name")&&v[0].hasOwnProperty("value")){this.type="action";this.iJ=v;}}else if(ss.toFixed!=undefined&&typeof(v)=="number"){if(ss.toFixed>0)v=v.toFixed(ss.toFixed);else v=parseInt(v);}
if(v==''&&this.placeholder){v=this.placeholder;this._text.alpha=0.5;}else{if(typeof(this.gV)=="string"&&this.gV.indexOf("#")>-1){v=this.gV.fC("#",v);}
this._text.alpha=1;}
this.hT(v);if((this.type=="auto"||this.type=="color")&&String(v).search(/rgba\(/)==0)this.hD("backgroundColor",v);}
f4(){if(this.type=="select"){var r=this.hU();if(r!=undefined)return r;}else if(this.type=="action"||this.type=="password"){return this.iJ;}
r=this.text;if(r!==""&&!isNaN(r))return Number(r);if(r==this.placeholder||r=="")return'';return r;}
hU(){var a=this.options;if(!a)return this.text;for(var n=0,l=a.length;n<l;n++){if(this.text==a[n][0]){if(a[n][1]!=undefined)return a[n][1];else return a[n][0];}}}
hT(v){if(this.type=="text"){if((typeof v=="object"||v==="")&&!String(this.gV).match(/{(.*?)}/i)){this.text=this.gV;return this.text;}}else if(this.type=="select"){var a=this.options;if(!a)return v;for(var n=0,l=a.length;n<l;n++){if(v==a[n][1]){this.text=a[n][0];return a[n][0];}}
this.text=v;}else if(this.type=="action"){if(v instanceof Array==false){if(!v)this.text="";return;}
a=can.data.data.actions;var s='';for(n=0,l=v.length;n<l;n++){for(var m=0,ll=a.length;m<ll;m++){if(a[m].name==v[n].name)s+=a[m].title+";";if(typeof v[n].value=="object")v[n].value=dM.BN(v[n].value);}}
this.text=s;return s;}else if(this.type=="password"){v=this.j1(v);}
this.text=typeof v=="object"?"":v;return v;}
j1(v){if(v==""||v==this.placeholder){this.iJ='';return this.placeholder;}
this.iJ=String(v);v="";for(let n=0,l=this.iJ.length;n<l;n++){v+="*";}
return v;}
g4(){super.g4();this.eC();if(this.iJ){var v=h0.iW(this,this.iJ);}else{v=h0.iW(this,this.gV);}
this.hT(v);}
clear(){if(!this.parent)return;this.A7();this.text='';this.gU=this.iJ=null;this[this.data.activateEvent]=null;if(this.parent)this.parent.removeChild(this);this.dI=null;this.onInput=null;this.mouseDown=null;this.mouseUp=null;jN.fY(this);}
g3(attr,v){if(attr=="text")this.data.value=v;else if(attr=="options"&&v){v=String(v).cS("|",":");this.type="select";}else if(attr=="type"){if(!v||v=="")v="text";else if(v=="color"&&String(this.text).search(/rgba\(/)==0)this.hD("backgroundColor",this.text);else if(v=="action"){this.type="action";return;}}
this[attr]=v;this.hT(this.text);}}
jN.gQ.input=h3;h3.hV=function(){if(!h3.gT)return;if(h3.gT.type=="select"){if(h3.hX.eF>-1&&h3.hX.options[h3.hX.eF].value=="NaN")
h3.gT.f5(h3.eE.value);}
if(h3.eE)h3.eE.style.visibility="hidden";if(h3.hX){h3.hX.length=0;h3.hX.style.visibility="hidden";}
dN.fR(h3.gT.dI);h3.gT=null;document.activeElement.blur();}
h3.hW=function(){if(!h3.hX.value||h3.hX.value=="NaN"){h3.iV(h3.gT);return;}
h3.gT.f5(h3.hX.value);h3.hV();}
h3.iV=function(o){if(h3.hX)h3.hX.style.visibility="hidden";if(!h3.eE){var el=jJ.j3("input");el.id="input";h3.eE=el;jJ.body.appendChild(el);}
var i=h3.eE,s=i.style,ss=o.style;if(can.device=="pc"){var pp=o.e1.getBoundingClientRect(),sc=can.jI.scale,pp={x:pp.x*sc,y:pp.y*sc},sw=1/sc,sh=1/sc,bw=ss.borderWidth>0?ss.borderWidth:0;s.borderWidth=bw+"px";s.width=o.width*sw-2*bw+"px";s.height=o.height*sh-2*bw+"px";s.left=pp.x*sw-bw+"px";s.top=pp.y*sh-bw+"px";s.fontSize=ss.fontSize*sh+"px";s.backgroundColor=ss.backgroundColor;s.color=ss.color;if(o.type=="password"){i.type="password";}else{i.removeAttribute("type");}
i.onkeydown=function(e){if(e.key=="Enter")h3.hV();}}
i.oninput=h3.g9;s.visibility="visible";s.textAlign=ss.textAlign||"left";if(o.text==o.placeholder)i.value='';else i.value=o.f4();i.focus();}
h3.showSelect=function(o){if(h3.eE)h3.eE.style.visibility="hidden";if(!h3.hX){var el=jJ.j3("select");el.id="select";h3.hX=el;jJ.body.appendChild(el);}
var i=h3.hX,s=i.style,a=o.options,ss=o.style;for(let n=0,l=a.length;n<l;n++){i.options[n]=new Option(a[n][0],a[n][1]!=undefined?a[n][1]:a[n][0]);}
if(can.device=="pc"){var pp=o.e1.getBoundingClientRect(),sc=can.jI.scale,pp={x:pp.x*sc,y:pp.y*sc},sw=1/sc,sh=1/sc,bw=ss.borderWidth>0?ss.borderWidth:0;s.borderWidth=bw+"px";s.width=o.width*sw+"px";s.height=o.height*sh+"px";s.left=pp.x*sw+"px";s.top=pp.y*sh+"px";s.fontSize=ss.fontSize*sh+"px";s.backgroundColor=ss.backgroundColor;s.color=ss.color;i.onkeydown=function(e){if(e.key=="Enter")h3.hV();}}
i.onchange=h3.hW;s.visibility="visible";s.textAlign=ss.textAlign||"left";if(o.text==o.placeholder)i.value='';else i.value=o.hU();i.focus();i.click();}
h3.g9=function(){h3.gT.f5(h3.eE.value);dN.fR(h3.gT.onInput);}
h3.gT=null;class h1 extends AF{constructor(){super("g");this.mod="progress";this.dE=new jN();this.e1.appendChild(this.dE.e1);}
set(d,style){this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.min=d.min
this.max=d.max;this.iJ=d.value;let c=d.childNodes;if(c){for(let n in c){let i=jN.g1(c[n].mod);i.index=this.index;i._editMode=this._editMode;i.A9=true;i.fH(c[n],this);this.addChild(i);break;}}
this.dR(d);this.f5(this.iJ);this.A5();jN.fW(this);}
fG(s=null){if(s)this.style=jN.fF(this,s);let ss=this.style;this.fX();this.min=this.min||0;let m=Math.abs(this.max-this.min);;var hl=this.AA[0];this.dE.style={};this.dE.style.backgroundColor=ss.color;this.dE.style.borderRadius=ss.borderRadius;this.dE.A6();if(this.data.type=="vertical"){let h=(this.iJ-this.min)/m;this.dE.width=this.width;this.dE.height=h*this.height;if(hl){hl.jY=this.dE.height-hl.height/2;hl.x=(this.width-hl.width)/2;}}else{let w=(this.iJ-this.min)/m;this.dE.width=w*this.width;this.dE.height=this.height;if(hl){hl.jX=this.dE.width-hl.width/2;hl.y=(ss.height-hl.height)/2;}}
this.A6(this.CI);}
dR(d){if(this._editMode)return;this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.mouseMove=d.onmousemove;if(!this.style.itemDraggable)return;var o=this;if(this.AA[0]||this.mouseDown){var hd=this.AA[0],eX,eY;AI.AH(hd,{mouseMove:function(e){if(o.data.type=="vertical"){hd.y=e.AQ;if(hd.y<-hd.height/2)hd.y=-hd.height/2;else if(hd.y>o.height-hd.height/2)hd.y=o.height-hd.height/2;o.f5((hd.y+hd.height/2)*(o.max-o.min)/o.height+Number(o.min));}else{hd.x=e.AP;if(hd.x<-hd.width/2)hd.x=-hd.width/2;else if(hd.x>o.width-hd.width/2)hd.x=o.width-hd.width/2;o.f5((hd.x+hd.width/2)*(o.max-o.min)/o.width+Number(o.min));}
dN.fR(o.mouseMove,ev);}});}}
f5(v){if(v==null){return;}
if(v<Number(this.min)){v=this.min;}else if(v>Number(this.max)){v=this.max;}
this.iJ=v;this.fG();}
f4(){let f=this.style.toFixed;if(!f)f=0;return Number(this.iJ).toFixed(f);}
addChild(eA){if(this.AA.length>0)return;super.addChild(eA);}
g4(){super.g4();this.f5(dM.f4(this.CB));}}
jN.gQ.progress=h1;class iI extends AF{constructor(){super();this.mod="datagrid";this.eG=new BF();this.containerIndex=new BF();this.container=new BF();this.eK=[];this.AA=[];this.eJ=[];this._objects=[];}
get width(){return this.jW;}
set width(v){v=v||1;this.jW=v;this.CI.setAttribute("width",v);this.jB.setAttribute("width",v);}
get height(){return this.jV;}
set height(v){v=v||1;this.jV=v;this.CI.setAttribute("height",v);this.jB.setAttribute("height",v);}
set(d,style){this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.A5();jN.fW(this);jJ.jA(this);this.containerIndex.id=d.id+"eM";this.container.id=d.id+"iJ";this.eG.id=d.id+"iK";this.g5();this.fG();}
g5(dd){var d=this.data,num=0,ed=this._editMode,c=d.childNodes;this._clear();this.addChild(this.container);this.addChild(this.containerIndex);this.addChild(this.eG);if(!dd)dd=!this._editMode?dM.f4(d.data):hY.gU.data[d.data];if(!dd)dd=[{A:"",B:"",C:"",D:"",E:"",F:""},{A:"",B:"",C:"",D:"",E:"",F:""},{A:"",B:"",C:"",D:"",E:"",F:""}];if(!dd||!c||!c[d.key])return;this.AA.length=0;this.eK.length=0;this.eJ.length=0;var a=[],t=[];var temp=this.style.template?this.style.template.split(","):[],AK=this;temp=temp.map(function(o){if(isNaN(o)){return AK.parent.width*o.substr(0,o.length-1)/100;}else{return o;}});for(var n=0,l=dd.length;n<l;n++){for(var m in dd[n]){if(a.indexOf(m)<0&&m!=''){t.push(m);var i=jN.g1(c[d.key].mod);i.index=!ed?a.length:-1;i._editMode=ed;this.eG.addChild(i);i.A9=true;var j=t.length-1;if(temp[j]){var ss={width:temp[j]};}
i.fH(c[d.key],this.eG,ss);j=a.length-1;i.x=j>=0?this.eK[j].x+Number(this.eK[j].width):0
a.push(m);this.eK.push(i);i.f5(m);}}}
let id=c[d.key].id;if(!i)return;var h=i.height;this._objects.length=0;for(var m=0,ll=dd.length;m<ll;m++){if(c[d.idx]){var ii=jN.g1(c[d.idx].mod);ii.index=!ed?m:-1;ii._editMode=ed;ii.A9=true;this.containerIndex.addChild(ii);ii.fH(c[d.idx],this.containerIndex);ii.height=h;ii.y=m*ii.height+h;this.eJ.push(ii);ii.f5(m+1);}
this._objects[m]=[];for(var n=0,l=a.length;n<l;n++){var i=jN.g1(c[d.value].mod);i.index=!ed?num:-1;i._editMode=ed;i.A9=true;this.container.addChild(i);var ss={width:this.eK[n].width};if(this.style.color&&m%2==1)ss.backgroundColor=this.style.color;i.fH(c[d.value],this.container,ss);i.jX=this.eK[n].x+(ii?ii.width:0);i.y=m*i.height+h;i.f5(dd[m][t[n]]);this._objects[m][n]=i;i.e1.classList.add("grid");num++;}}
this.eH=this.eG.x=(ii?ii.width:0);id=c[d.value].id;this.eL=n;this.eI=m;this.dR(d);}
dR(d){var AK=this,o=AK.container;AI.AH(o,{mouseDown:function(ev){AK.eU=ev.clientX;AK.eV=ev.clientY;},mouseMove:function(ev){if(AK.eJ.length>0||o.e1.getBBox().width>AK.width){o.jX=ev.AP;if(o.x>0)o.jX=0;AK.eG.x=o.x+AK.eH;}
o.jY=ev.AQ;if(o.y>0)o.jY=0;AK.containerIndex.y=o.y;o.A0();},mouseUp:function(ev){var t=AI.getTarget(ev),ch=AK.container.AA,chk=AK.eG.AA;for(var n=0,l=ch.length;n<l;n++){var i=ch[n];if(i)i.e4();}
for(n=0,l=chk.length;n<l;n++){i=chk[n];if(i)i.e4();}
var sr=parseInt(t.index/AK.eL),sc=parseInt(t.index%AK.eL);for(n=0;n<AK.eL;n++){i=ch[sr*AK.eL+n];if(i)i.e4("grid");}
for(n=0;n<AK.eI;n++){i=ch[n*AK.eL+sc];if(i)i.e4("grid");}}})
dN.fR(d.onshow);}
g4(){this.g5();}
f5(v){if(!v){this._clear();return;}
if(this.eJ[0])this.containerIndex.y=this.eJ[0].height;this.container.y=0;this.container.x=this.eG.x=this.eH;if(v instanceof Array){this.g5(v);return;}
this.data.data=v;this.g4();}
f4(){var o=[];for(var m=0;m<this.eI;m++){o[m]={};for(var n=0;n<this.eL;n++){var k=this.eK[n].f4();o[m][k]=this._objects[m][n].f4();}}
return o;}
_clear(){this.eG.clear();this.containerIndex.clear();this.container.clear();}
clear(){this.A7();this._clear();if(this.parent)this.parent.removeChild(this);AI.AS(this);dN.fR(this.g0);jN.fY(this);}}
jN.gQ.datagrid=iI;class iD extends BF{constructor(){super();this.mod="nodetree";}
set(d,style){jJ.jA(this);this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.fG();this.container.x=this.container.y=0;this.iK=d.key;this.iJ=d.value;this.g5();this.gB=null;jN.fW(this);this.dR(d,this.style);dN.fR(d.onshow);}
dR(d,ss){if(this._editMode)return;this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;}
iF(dd){this.iG={v:"",k:"",childNodes:f(dd)};function f(dl){let ol={},n=0;for(let m in dl){if(dl[m]!=undefined){ol[m]={};ol[m].k=!isNaN(m)?"["+m+"]":m;switch(typeof dl[m]){case("number"):ol[m].v=dl[m];n++;break;case("string"):ol[m].v=dl[m];n++;break;case("object"):ol[m].v="";ol[m].childNodes=f(dl[m]);n++;break;}}}
if(n>0)return ol;else{return dl;}}}
g5(){var d=this.data;this.g7=null;this.iE=null;iD.i6=iD.nodes.length=0;if(this._editMode){this._buildForEditor();return;}
var dd=d.data?dM.f4(d.data):can.data.data;if(!dd){dd=[];dM.f5(d.data,dd);}
var c=d.childNodes;if(!dd&&this.iG)return;this.iF(dd);if(c){for(let n in c){var i=jN.g1("node");i.index=this.index;this.addChild(i);i.fH(c[n],this,this.iG);this.g7=i;break;}}
this.flex();}
_buildForEditor(){var d=this.data;var c=d.childNodes;if(c){for(let n in c){var i=jN.g1("box");i._editMode=this._editMode;this.addChild(i);i.fH(c[n],this);break;}}}
flex(){if(!this.g7)return;this.eR=iD.i6*(this.g7.height+8);this.eQ=this.width;var AK=this,o=this.container,t;AI.AH(o,{mouseDown:function(ev){can.timer.remove("eY");t=new Date().getTime();AK.eU=ev.clientX;AK.eV=ev.clientY;},mouseMove:function(ev){o.y=ev.AQ;if(AK.height<AK.eR){o.y=ev.AQ;}},mouseUp:function(ev){var h=AK.height,H=AK.eR,ss=AK.style,l=new Date().getTime()-t;if(l>500){if(o.y>0){o.y=0;}
return;}
ss=50*can.jI.scale;if(Math.abs(AK.eV-ev.clientY)>5){var sp=AK.eV>ev.clientY?Math.min((AK.eV-ev.clientY)*ss/l,ss):Math.max((AK.eV-ev.clientY)*ss/l,-ss),s=sp*0.05;can.timer.play(1,20,f1,function(){},false,"eY");return;}
function f1(){var jY=h-H;if(o.y>0||jY>0){o.y=0;can.timer.remove("eY");return;}else if(o.y<jY&&jY<0){o.y=jY;can.timer.remove("eY");return;}
o.y-=sp;sp-=s;}}});}
f5(v){this.container.y=0;this.iG=null;this.iF(v);this.g4();}
g4(){if(this.g7)this.g7.clear();this.g5();}
clear(){this.A7();this.iG=null;if(this.g7)this.g7.clear();if(this.parent)this.parent.removeChild(this);dN.fR(this.g0);jN.fY(this);}
g3(attr,v){if(attr=="data"){this.gU=this.data.data=v;this.g4();return;}else if(attr=="containerX"){this.container.x=v;return;}else if(attr=="containerY"){this.container.y=v;return;}
this[attr]=v;}}
iD.nodes=[];iD.gU={};iD.i6=0;iD.iE=null;class iH extends AF{constructor(){super();this.mod="node";this.eM=1;this.A3;this.CJ=new Graphic();this.e1.appendChild(this.CJ.e1);this.CI.classList.add("treenode");}
fH(d,parent,dd=null,parentNode=null){if(!d)return;iD.nodes.push(this);this.id=d.id;this.parent=parent;this.data=d;this.style=jN.fF(this);this.A9=true;this.fG();this.AA.length=0;var c=d.childNodes,o={};this.iK=parent.iK;this.iJ=parent.iJ;o[parent.iJ]=dd.v;o[parent.iK]=dd.k;this.index=iD.i6;iD.i6++;if(c){for(var n in c){var i=jN.g1(c[n].mod);i.index=this.index;this.addChild(i);i.fH(c[n],this);i.f5(o);}}
if(!dd)return;this.parentNode=parentNode;this.iG=dd;this.nodes=[];this.i6=1;if(parentNode)this.A3=!parentNode.A3?this:parentNode.A3;if(dd.open||!parentNode){var cc=dd.childNodes;if(cc){for(var n in cc){var i=jN.g1("node");i.index=this.index;this.addChild(i);i.fH(this.data,this,cc[n],this);this.nodes.push(i);}}}
if(this.parentNode){this.parentNode.addChild(this);this.jY=this.parentNode.eM*(this.height+8);this.x=64;}else{this.jY=0;this.x=6;}
if(parentNode){parentNode.eM+=this.eM;this.parentNode=parentNode;}
var g=this.CJ,h=this.height/2,c="rgb(90,90,90)";g.clear().fill(c).lineStyle(2,"rgb(120,120,120)").drawCircle(0,h,4);for(var n=0,l=this.nodes.length;n<l;n++){g.A2(0,h);g.lineTo(0,this.nodes[n].y+h);g.A2(0,this.nodes[n].y+h);g.lineTo(this.nodes[n].x,this.nodes[n].y+h);}
g.end();this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;jN.fW(this);}
clear(){if(!this.parent)return;this.A7();this.parentNode=null;this.A3=null;this.eM=1;for(var n=this.AA.length-1;n>=0;n--){var i=this.AA[n];i.clear();}
this.CJ.clear();this.nodes.length=this.AA.length=0;if(this.parent)this.parent.removeChild(this);jN.fY(this);}}
jN.gQ.nodetree=iD;jN.gQ.node=iH;class Line extends jN{constructor(){super("path");this.mod="line";}
set(d,style){this.CE=d.path||"M0 0 L100% 100%";super.set(d,style);this.f5(this.CE);}
get width(){return this.jW;}
set width(v){v=v>0?v:1;this.jW=v;this.f5(this.CE);}
get height(){return this.jV;}
set height(v){v=v>0?v:1;this.jV=v;this.f5(this.CE);}
g4(){super.g4();this.f5(this.data.path);}
B8(x){if(isNaN(x)){var s=x.substr(-1).toUpperCase();x=x.substr(0,x.length-1);if(s=="%"){x=this.width*x*0.01;}else if(s=="R"){x=this.width-x;}else if(s=="C"){x=this.width/2+parseInt(x);}}
return x;}
B9(y){if(isNaN(y)){var s=y.substr(-1).toUpperCase();y=y.substr(0,y.length-1);if(s=="%"){y=this.height*y*0.01;}else if(s=="B"){y=this.height-y;}else if(s=="C"){y=this.height/2+parseInt(y);}}
return y;}
f5(v){if(!v||typeof v=="object")return;this.CE=v;this.iJ=[];var n=0,o=this,r=String(v).replace(/[0-99999999]+[\%]?[L|T|R|B|C]?/g,function(){n++;if(n%2==1){return o.B8(arguments[0]);}else{return o.B9(arguments[0]);}});this.iJ=r;this.e1.setAttribute("d",r);}
f4(){var r=this.iJ.replace(/[a-zA-Z]/g,'');console.log(this.iJ,r)
return r.split(" ");}}
jN.gQ.line=Line;class BA extends AF{constructor(){super("g");this.mod="linenode";this.CJ=new Line();this.e1.appendChild(this.CJ.e1);}
set(d,style){this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);if(!d.path)d.path="M0 0 L100% 100%";this.CJ.id=d.id+"CJ";var o=dM.cY(this.style);if(o){delete o.left;delete o.top;this.CJ.fH(d,this,o);this.f5(d.path);}
jN.fW(this);}
f5(v){var ss=this.style,d=this.data,c=d.childNodes,o=this.AA,ed=this._editMode;for(let n=o.length-1;n>=0;n--){let i=o[n];i.clear();}
o.length=0;this.CJ.f5(v);v=this.CJ.f4();if(c){for(let n in c){var m=c[n];break;}
if(!m)return;for(let n=0,l=v.length/2;n<l;n++){var i=jN.g1(m.mod);i.index=!ed?n:-1;i._editMode=ed;this.addChild(i);i.fH(m,this);i.x=int(v.shift())+i.x;i.y=int(v.shift())+i.y;}}
this.A5();}}
jN.gQ.linenode=BA;class g8 extends AF{constructor(){super();this.gP=[];this.gK=[];this.style={};this.id="main";}
init(){this.fH(can.data.components,can.jI);dN.push([["UI0",this.config],["UI1",this.gW],["UI2",this.gX],["UI3",this.g4],["UI4",this.hF],["UI5",this.hG],["UI6",this.hH],["UI7",this.gN],["UI8",this.gL],["UI9",this.gJ],["UI10",this.gI]]);this.dR(can.data.methods);can.jI.e1.appendChild(this.e1);}
fH(d,parent){this.data=d;this.id=d.id;this.parent={};this.parent.e1=parent;this.style=jN.fF(this);this.fG();}
fG(s=null){if(s)this.style=jN.fF(this,s);this.width=can.jI.width;this.height=can.jI.height;}
dR(d){this.onLoad=d.main_onload;this.onUnLoad=d.main_onbeforeunload;this.C4=d.main_onloadend;this.mouseDown=d.main_onmousedown;this.mouseUp=d.main_onmouseup;this.dbClick=d.main_ondbclick
this.swipeLeft=d.main_onswipeleft;this.swipeRight=d.main_onswiperight;this.swipeUp=d.main_onswipeup;this.swipeDown=d.main_onswipedown;this.rightClick=d.main_onrightclick;this.onError=d.main_onerror;}
config(tId,tIndex,onloadProgressId,rightClickMenu=null){g8.gD=jN.fT(tId);g8.gC=jN.fT(tIndex);if(onloadProgressId)jN.i4=jN.fT(onloadProgressId);if(rightClickMenu){rightClickMenu=dM.i5(rightClickMenu);window.oncontextmenu=function(e){e.preventDefault();if(can.device!="pc")return;h3.hV();dN.fR(can.A4.rightClick);can.A4.gW(rightClickMenu);let o=g8.rightClickMenu=jN.fT(rightClickMenu);if(o){o.x=e.clientX*can.jI.scale+10;o.y=e.clientY*can.jI.scale+10;if(o.x<0)o.x=0;else if(o.x>can.A4.width-o.width)o.x=can.A4.width-o.width;if(o.y<0)o.y=0;else if(o.y>can.A4.height-o.height)o.y=can.A4.height-o.height;}}}}
gW(id,index=-1,gR=0,fE=null){id=dM.i5(id);index=dM.i5(index);let i=jN.BK(id,index);if(index=="all"){if(!i)return;for(let n=0;n<i.length;n++){if(!i[n]||!i[n].parent)continue;i[n].visible=true;}
return i;}
let d=can.data.components.childNodes[id];if(!d)d=jN.gG(can.data.components,id);i=jN.BK(id,index);if(!d){if(i&&i.parent){i.visible=true;return i;}
return null;}
if(!i){i=jN.g1(d.mod);if(i){if(fE&&isNaN(fE)){var o=jN.fT(fE);if(o){o.addChild(i);i.fH(d,o);return i;}else can.A4.addChild(i);}else
can.A4.addChild(i);}
i.fH(d,can.A4);}else if(i.parent){i.visible=true;if(fE&&isNaN(fE)){var o=jN.fT(fE);if(o){i.fH(d,o);}}else can.A4.setChildIndex(i,can.A4.numChildren-1);}else{}
gR=dM.i5(gR);if(gR>0){Animate.dC(i,gR);}
return i;}
g4(id,index=-1,gR=0){id=dM.i5(id);index=dM.i5(index);let o=jN.BK(id,index);if(o){o.g4();gR=dM.i5(gR);if(gR>0){Animate.dC(o,gR);}}}
gX(id,index=-1,gR=0,remain=false){remain=dM.i5(remain);if(!id){var i=jN.iE.A3;}else{id=dM.i5(id);index=dM.i5(index);if(index=="all"){if(!jN.AB[id])return;i=jN.AB[id];for(var n=0,l=i.length;n<l;n++){if(!i[n])continue;if(remain==true)i[n].visible=false;else i[n].clear();}
return;}
i=jN.BK(id,index);}
if(i){gR=dM.i5(gR);if(gR>0)Animate.dC(i,gR,e,-1);else e();function e(){if(remain==true){i.fZ();i.visible=false;}else i.clear();}}}
hF(id,index,v,changTo=false){id=dM.i5(id);index=dM.i5(index);if(index=="sel"){f(jN.iE.index);}else if(index=="all"){for(var n=0,l=jN.gK[id].length;n<l;n++){f(n);}}else{f(index);}
function f(i){var o=jN.BK(id,i);if(!o)return;let r={};if(v.charAt(0)=="@"){var AK=jN.fT(dM.i5(v.substr(1)));if(!AK)return;var rr=AK.f4();}else rr=dM.i5(v);if(changTo==2&&typeof rr=="object")rr=JSON.stringify(rr);o.f5(rr);}}
hG(id,hJ,index=-1){id=dM.i5(id);var o=jN.BK(id,index);if(!o)return;var d=hJ.match(/\$/)?dM.i5(hJ):dM.f4(hJ);if(!d)return;if(!d[0])d.shift();o.f5(d);}
hH(i9,dQ,hA=null,uis=null,dP=" "){var o=jN.fT(i9);if(!o)return;var d=o.CB,dd=dM.f4(dQ);d=dM.f8(d);if(hA)hA=String(hA).split(dP);if(uis)uis=String(uis).split(dP);if(!dd[0])dd=[];var fl=hA?hA.length:0;for(var n=0,l=o.AA.length;n<l;n++){if(!dd[n])dd[n]=[];if(fl>0)
for(var m=0;m<fl;m++){var AK=jN.BK(uis[m],n);if(AK)dd[n][hA[m]]=AK.f4();}
else
for(var i in d[0]){AK=jN.BK(i,n);if(AK){dd[n][i]=AK.f4();}}}
dM.f6(dQ,dd);}
gN(id,index,gM,v,select=null,e5=true){id=dM.i5(id);index=dM.i5(index);v=dM.i5(v);gM=dM.i5(gM);if(index=="list"||(isNaN(v)&&String(v).search(/\[|\.[a-zA-Z]/)>0)){v=dM.f4(v);}
if(index=="sel"){f(jN.iE.index);}else if(index=="all"||index=="list"){if(!jN.AB[id])return;for(var n=0,l=jN.AB[id].length;n<l;n++){f(n);}}else{f(index);}
function f(i){var o=jN.BK(id,i);if(!o)return;if(select=="parent"){if(o.parent)o=o.parent;else return;}else if(select=="eA"){for(var n=0,l=o.AA.length;n<l;n++){o.AA[n].hD(gM,v,e5);}
return;}
o.hD(gM,v instanceof Array?v[i][gM]:v,e5);}}
gL(id,index,gM,dQ){id=dM.i5(id);index=dM.i5(index);var o=jN.BK(id,index);if(!o)return;dM.f6(dQ,o.hE(gM));}
gJ(id,index,attr,v,select=null,e5=true){id=dM.i5(id);index=dM.i5(index);v=dM.i5(v);if(id=="main"){if(hY.eX){hY.eX[attr]=v;return;}
can.A4[attr]=v;return;}
if(index=="list"||(isNaN(v)&&String(v).search(/\[|\.[a-zA-Z]/)>0)){v=dM.f4(v);}
if(index=="sel"){f(jN.iE.index);}else if(index=="all"||index=="list"){if(!jN.AB[id])return;for(var n=0,l=jN.AB[id].length;n<l;n++){f(n);}}else f(index);function f(i){var o=jN.BK(id,i);if(!o)return;if(select=="parent"){if(o.parent)o=o.parent;else return;}
if(!v&&v!==0)return;o.g3(attr,v instanceof Array&&v[i]?v[i][attr]:v,e5);}}
gI(id,index,attr,dQ){id=dM.i5(id);index=dM.i5(index);if(id=="main"){if(hY.eX){dM.f6(dQ,hY.eX[attr]);return;}
dM.f6(dQ,can.A4[attr]);return;}
var o=jN.BK(id,index);if(!o)return;dM.f6(dQ,o.g2(attr));}}
class hY extends AF{constructor(){super();this.mod="canvas";}}
hY._tree=null;hY.eX=null;hY.iE=null;hY.gU=null;var p=hY.prototype;p.fH=function(d,parent){this.id=d.id;this.parent=parent;this.data=d;this.style=jN.fF(this);this.A9=false;this.fG();jN.fW(this);if(this._editMode)return;this.g5();hY.eX=this;this.dR(d,this.style);this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;var AK=this;this.e1.addEventListener("mousedown",function(e){dN.fR(AK.mouseDown);});this.e1.addEventListener("mouseup",function(e){dN.fR(AK.mouseUp);});dN.fR(d.onshow);this._zoom=1;}
p.g5=function(){var d=this.data;if(!d.data)return;var dd=dM.f4(d.data);if(!dd||dd.id=="main")return;if(hY.gU){var ss=this.style,s=hY.gU.style.main;ss.width=s.width;ss.height=s.height;this.fG();}
var i=jN.g1(dd.mod);i.index=this.index;i._editMode=true;this.addChild(i);i.fH(dd,this);this.g7=i;this.zoom(this._zoom);}
p.zoom=function(v){this._zoom=this.scaleX=this.scaleY=v;this.jX=(can.A4.width-this.width*this.scaleX)/2;this.y=(can.A4.height-this.height*this.scaleY)/2;}
p.fZ=function(){this.fG();}
p.dR=function(d,ss){var o=this.e1;o.removeEventListener("mouseup",onMouseUp);o.addEventListener("mouseup",onMouseUp,false);function onMouseUp(e){var tar=AI.AO(e);TreeEd.select(tar);dN.fR(o.mouseUp);}}
p.g4=function(){if(this._editMode)return;if(this.g7)this.g7.clear();this.g7=null;this.g5();}
p.clear=function(){this.visible=true;if(this.g7)this.g7.clear();if(this.parent)this.parent.removeChild(this);dN.fR(this.g0);jN.fY(this);}
p.g3=function(attr,v,e5=true){if(attr=="data"){this.data.data=v;if(e5)this.g5();}
this[attr]=v;}
hY.historyIndex=0;hY.setHistory=function(){if(!hY.history)hY.history=[];hY.history.push(dM.cY(can.data.data.nodes));hY.historyIndex++;if(hY.historyIndex>50){hY.historyIndex=50;hY.history.shift();}
hY.history.length=hY.historyIndex;if(!TreeEd.iE||!TreeEd.iE.componentData)return;TreeEd.iE.componentData.timestamp=new Date().getTime();TreeEd.iE.componentData.author=can.data.data.user;}
hY.eN=function(objId,objIndex=-1){objId=dM.i5(objId);objIndex=dM.i5(objIndex);if(objId=="main"){var o=hY.eX;}else{o=jN.BK(objId,objIndex);if(!o&&TreeEd.iE)o=jN.BK(TreeEd.iE.componentId,objIndex);}
if(!o)return null;else return o;}
jN.gQ.canvas=hY;dN.push([["EDCONF",function(hJ){can.data.data.config={};hY.dB=can.data.data.config.CAN_INDEX_PATH='';can.data.data.config.CAN_DEBUG_VALUE=''
var d=dM.i5(hJ);if(!d)return;for(var n=0;n<d.length;n++){if(d[n].name)
can.data.data.config["CAN_"+d[n].name]=d[n].value;}
hY.dB=can.data.data.config.CAN_INDEX_PATH;}],["EDT0",function(f,v){f=dM.i5(f);if(v)v=eval('['+dM.i5(v)+']');hY.eX[f](...v);}],["EDT1",function(objId,objIndex,i9,hJ){var o=hY.eN(objId,objIndex),ls=jN.fT(i9);if(!o||!ls)return;hJ=dM.i5(hJ);var d=dM.f8(hJ);if(!d){ls.f5(d);return;}
if(!d[0])d.shift();for(var n=0,l=d.length;n<l;n++){let v=o.data[d[n][hY._tree.attrfield]];d[n][hY._tree.valuefield]=!v?"":v;}
ls.CB=hJ;ls.f5(d);}],["EDT2",function(objId,objIndex,i9,hJ){objId=dM.i5(objId);if(objId=="main"){var o=hY.eX,ss=hY.eX.style;}else{var o=hY.eN(objId,objIndex);if(!o)return;objId=o.id;ss=hY.gU.style[objId];}
ls=jN.fT(i9);if(!ls)return;hJ=dM.i5(hJ);var d=dM.f8(hJ);if(!d){ls.f5(d);return;}
if(!d[0])d.shift();for(let n=0,l=d.length;n<l;n++){let v=ss[d[n][hY._tree.attrfield]];d[n][hY._tree.valuefield]=!v?"":v;}
ls.CB=hJ;ls.f5(d);}],["EDT3",function(objId,objIndex,hJ){var o=hY.eN(objId,objIndex);if(!o)return;objId=o.id;hJ=dM.i5(hJ);var d=dM.f8(hJ);if(!d)return;if(!d[0])d.shift();for(var n=0,l=d.length;n<l;n++){let v=d[n][hY._tree.valuefield],m=d[n][hY._tree.attrfield];if(m=="id"&&v!=objId){if(jN.gG(hY.gU.components,v)){alert(":"+v);return;}else if(v.charAt(0)=="_"){v="_"+o.mod+String.randomId().substr(5);}}
if(v!="")o.data[d[n][hY._tree.attrfield]]=v;else delete o.data[d[n][hY._tree.attrfield]];}
if(o.data.id!=objId){if(o.parent==hY.eX)var dd=hY.gU.components.childNodes;else dd=o.parent.data.childNodes;dd[o.data.id]=o.data;hY.gU.style[o.data.id]=dM.cY(hY.gU.style[objId]);delete dd[objId];if(!jN.gG(hY.gU.components,objId))delete hY.gU.style[objId];hY._tree.g4();hY.eX.g4();}
hY.setHistory();}],["EDT4",function(objId,objIndex,hJ){var o=hY.eN(objId,objIndex)
if(!o)return;objId=o==hY.eX?objId="main":o.id;hJ=dM.i5(hJ);var d=dM.f8(hJ);if(!d)return;if(!d[0])d.shift();if(o.data.bindStyle)var dd=hY.gU.style[o.data.bindStyle];for(let n=0,l=d.length;n<l;n++){let v=d[n][hY._tree.valuefield],a=d[n][hY._tree.attrfield];if(v!=""){let vv=dM.i5(v);hY.gU.style[objId][a]=v;if(vv!==null){o.style[a]=vv;}}else{delete o.style[a];delete hY.gU.style[objId][a];}
if(dd&&!o.style[a])o.style[a]=dd[a];}
o.fG();hY.setHistory();}],["EDT5",function(objId,objIndex,i9,hJ){objId=dM.i5(objId);objIndex=dM.i5(objIndex);if(objId=="main"){var o=hY.eX;}else{o=jN.BK(objId,objIndex);if(!o&&TreeEd.iE){o=jN.BK(TreeEd.iE.componentId,objIndex);}}
var ls=jN.fT(i9);if(!o||!ls)return;hJ=dM.i5(hJ);var d=dM.f8(hJ);if(!d){ls.f5(d);return;}
if(!d[0])d.shift();for(var n=0,l=d.length;n<l;n++){var s=d[n][hY._tree.attrfield];if(objId=="main"){var v=hY.gU.methods["main_"+d[n][hY._tree.attrfield]];}else{var i=o.data[s];if(i){var a=i.split("_");if(a[0]!=o.id){v=hY.gU.methods[o.id+"_"+a[1]]=dM.cY(hY.gU.methods[i]);o.data[s]=o.id+"_"+a[1];delete hY.gU.methods[i];}else{hY.gU.methods[i]=dM.cY(hY.gU.methods[i]);v=hY.gU.methods[i];}}else v=null;}
d[n][hY._tree.valuefield]=!v?"":v;}
ls.CB=hJ;ls.f5(d);}],["EDT6",function(objId,hJ,iA){objId=dM.i5(objId);iA=dM.i5(iA);hJ=dM.i5(hJ);var d=dM.f4(hJ);if(d&&typeof d=="object")d=dM.BN(d);if(d==="")return;if(objId=="main"){if(!d){delete hY.gU.methods["main_"+iA];delete hY.gU.components[iA]
return;}
hY.gU.methods["main_"+iA]=d;hY.gU.components[iA]="main_"+iA;}else{var o=hY.eN(objId);if(!o)return;if(!d){delete hY.gU.methods[o.data[iA]];delete o.data[iA];return;}
o.data[iA]=o.id+"_"+iA;hY.gU.methods[o.data[iA]]=d;}
hY.setHistory();}],["EDT7",function(id,parentName){id=dM.i5(id);parentName=dM.i5(parentName);if(!parentName)return;var d=dM.cY(jN.gG(can.data.components,id)),p=parentName=="main"?hY.eX:jN.fT(parentName);if(!p||p.mod=="text"||p.mod=="input"||p.mod=="value"||p.mod=="image")return;console.log(d)
console.log(d);id="_"+d.mod+String.randomId().substr(5);hY.gU.style[id]=dM.cY(can.data.style[d.id]);if(p&&hY.gU.style[id])hY.gU.style[id].zIndex=p.AA?p.AA.length+1:0;d.id=id;var dd=parentName=="main"||!p?hY.gU.components:p.data;if(!dd.childNodes)dd.childNodes={};dd.childNodes[id]=d;f(d);function f(d){c=d.childNodes;if(c){for(var n in c){id=n;hY.gU.style[id]=dM.cY(can.data.style[id]);if(c)f(c[n]);}}}
hY.eX.g4();hY._tree.g4();hY.setHistory();}],["EDT8",function(objId){var o=hY.eN(objId,-1)
if(!o)return;objId=o.id;var v=hY.gU.style[objId];if(o!=can.A4&&o.data.bindStyle)var dd=hY.gU.style[o.data.bindStyle];if(!v)return;var s,changed=false,vl,vt,vw,vh;if(v.left){if(isNaN(v.left)){s=v.left.substr(-1).toUpperCase();if(s=="%")vl=Math.round(o.x/o.parent.width*100)+"%";else if(s=="R")vl=Math.round(o.parent.width-o.width-o.x)+"R";else if(s=="C")vl=(o.x-Math.round((o.parent.width-o.width)/2))+"C";}else{vl=Math.round(o.x);}}else if(!dd||!dd.left){vl=Math.round(o.x);}
if(vl!=v.left){v.left=vl;changed=true;}
if(dd&&dd.left==v.left)delete v.left;if(v.top){if(isNaN(v.top)){s=v.top.substr(-1).toUpperCase();if(s=="%")vt=Math.round(o.y/o.parent.height*100)+"%";else if(s=="B")vt=Math.round(o.parent.height-o.height-o.y)+"B";else if(s=="C")vt=(o.y-Math.round((o.parent.height-o.height)/2))+"C";}else{vt=Math.round(o.y);}}else if(!dd||!dd.top){vt=Math.round(o.y);}
if(vt&&vt!=v.top){v.top=vt;changed=true;}
if(dd&&dd.top==v.top)delete v.top;if(v.width){if(isNaN(v.width)){s=v.width.substr(-1).toUpperCase();if(s=="%")vw=Math.round(o.width/o.parent.width*100)+"%";else if(s=="R")vw=Math.round(o.parent.width-o.width-o.x)+"R";}else{vw=o.width;}}else if(!dd||!dd.width){vw=o.width;}
if(vw&&vw!=v.width){v.width=vw;changed=true;}
if(dd&&dd.width==v.width)delete v.width;if(v.height){if(isNaN(v.height)){s=v.height.substr(-1).toUpperCase();if(s=="%")vh=Math.round(o.height/o.parent.height*100)+"%";else if(s=="B")vh=Math.round(o.parent.height-o.height-o.y)+"B";}else{vh=o.height;}}else if(!dd||!dd.height){vh=o.height;}
if(vh&&vh!=v.height){v.height=vh;changed=true;}
if(dd&&dd.height==v.height)delete v.height;if(o.mod=="style"){var d=o.data;if(d.type>0){delete v.left;delete v.top;}
if(d.type>1){delete v.width;delete v.height;}}
if(changed)hY.setHistory();}],["EDT9",function(hB,index){hB=dM.i5(hB);var o=jN.fT(hB);if(!o||!o.componentData)return;o.componentData.open=!o.componentData.open;}],["EDT10",function(iB,d){iB=dM.i5(iB);d=dM.i5(d);dM.BL(iB,d);}],["EDT11",function(hJ){var d={tween:[{id:0},{x:-1,id:1,dur:5},{x:1,id:2,dur:5},{id:3,y:-1,dur:5},{id:4,y:1,dur:5},{alpha:0,id:5,dur:5},{alpha:1,id:6,dur:5}],config:{scale:2},data:{assets:[{id:"",src:"",cache:0}],action:[{id:"",data:""}],config:[{name:"INDEX_PATH",value:""},{name:"DEBUG_VALUE",value:""}]},style:{main:{height:1280,top:80,left:600,width:720,backgroundColor:"rgba(255,255,255,1)"}},components:{mod:"main",id:"main",childNodes:{valueGroup:{id:"valueGroup",mod:"group",childNodes:{gC:{mod:"value",id:"gC"},gD:{mod:"value",id:"gD"}}},style:{id:"style",mod:"group"}},onload:"main_onload"},methods:{main_onload:[{value:["valueGroup",-1,0,""],name:"UI1"},{value:["gD","gC","",""],name:"UI0"}]}};dM.f6(hJ,d);hY._tree.g4();hY.eX.g4();}],["EDT12",function(hB){hB=dM.i5(hB);var o=jN.fT(hB);if(!o||!o.parent)return;var n=String.randomId().substr(5),d=jN.cY(o.data,hY.gU,"",n);if(o.parent==hY.eX){hY.gU.components.childNodes[d.id]=d;}else{if(!o.parent.data.childNodes)o.parent.data.childNodes={};o.parent.data.childNodes[d.id]=d;}
hY._tree.g4();hY.eX.g4();}],["EDT13",function(hB){hB=dM.i5(hB);var o=jN.fT(hB);if(!o||!o.parent)return;if(o.parent==hY.eX){o.clear();delete hY.gU.components.childNodes[o.id];}else{if(o.parent&&o.parent.data){delete o.parent.data.childNodes[o.id];o.clear();}}
hY._tree.g4();hY.eX.g4();}],["EDT14",function(d,dQ){if(d=="_ROOT")d=data;else d=dM.f4(d);d=dM.encodeComp(d);dM.f6(dQ,d);}],["EDT15",function(hB,dQ){hB=dM.i5(hB);var o=jN.fT(hB);if(!o)return;var d=o.data,r={};r.data=d;r.style={};r.methods={};c(d);function c(d){r.style[d.id]=hY.gU.style[d.id];for(var m in hY.gU.methods){if(m.split("_on")[0]==d.id){r.methods[m]=hY.gU.methods[m]}}
if(d.bindStyle&&hY.gU.style[d.bindStyle])r.style[d.bindStyle]=hY.gU.style[d.bindStyle];if(d.childNodes){for(var i in d.childNodes){c(d.childNodes[i]);}}}
console.log(":",r);dM.f6(dQ,r);}],["EDT16",function(parentName,d){parentName=dM.i5(parentName);var o=parentName=="main"?hY.eX:jN.fT(parentName);if(!o)return;if(o==hY.eX){var dd=hY.gU.components;}else{dd=o.data;}
d=dM.f4(d);if(!dd.childNodes)dd.childNodes={};dd.childNodes[d.data.id]=d.data;hY.gU.style=Object.assign(hY.gU.style,d.style);hY.gU.methods=Object.assign(hY.gU.methods,d.methods);console.log(":",dd)}],["EDT17",function(id){id=dM.i5(id);var d=jN.gG(hY.gU.components,id);if(!d)return;can.data.data[hY.eX.data.data]=d;hY._tree.g4();hY.eX.g4();}],["EDT18",function(){hY.setHistory();}],["EDT19",function(){if(!hY.history||hY.historyIndex<=0)return;hY.historyIndex--;can.data.data.nodes=dM.cY(hY.history[hY.historyIndex]);hY._tree.g4();hY.eX.g4();}],["EDT20",function(){if(!hY.history||hY.historyIndex>hY.history.length-1)return;can.data.data.nodes=dM.cY(hY.history[hY.historyIndex]);hY._tree.g4();hY.eX.g4();hY.historyIndex++;}],["EDT21",function(k){var dd=hY.gU.components;k=dM.i5(k);TreeEd.searchResult.length=0;f(dd);function f(d){if(d.id.indexOf(k)>-1){TreeEd.searchResult.push(d.id);}
if(d.childNodes){for(var i in d.childNodes){var r=f(d.childNodes[i]);if(r)TreeEd.searchResult.push(r);}}}
console.log(TreeEd.searchResult);}],["EDT22",function(){hY.showInfo=!hY.showInfo;hY._tree.g4();}],["EDT23",function(hB,sta){hB=dM.i5(hB);sta=dM.i5(sta);var o=jN.fT(hB);if(!o||!o.componentData)return;if(!sta)delete o.componentData.hidden;else o.componentData.hidden=1;}],["EDT24",function(s){s=dM.i5(s);if(!s.match(/\(/))s+='()';s="dV.editor."+s;return eval(s);}],["ACT1",function(actionlist,hJ,inputListId){actionlist=dM.i5(actionlist);var o=jN.fT(actionlist),a=can.data.data.actions,d=dM.f4(hJ);if(!d){if(o)o.CA();return;}
if(typeof d=="string"){d=eval(d);}
for(var n=0,l=d.length;n<l;n++){let aa=iC(d[n].name);if(!aa)continue;d[n].title=aa.title;var dd=[],attrs=aa.attr.split(","),op=aa.options,df=aa.value;for(var m=0,ll=attrs.length;m<ll;m++){if(attrs[m]=="")continue;dd[m]={};dd[m].attr=attrs[m];dd[m].value=d[n]!=undefined&&d[n].value!=undefined&&d[n].value[m]!=undefined?d[n].value[m]:df&&df[n]!=undefined?df[n]:"";if(op&&op[m]!=undefined&&op[m]!="")dd[m].options=op[m];}
d[n].color=aa.color;can.data.data[hJ+n]=dd;}
o.CB=hJ;o.g4();for(var n=0,l=d.length;n<l;n++){var ls=jN.BK(inputListId,n),c=ls.parent;ls.CB=hJ+n;if(d[n]&&d[n].color)c.style.backgroundColor=d[n].color;c.g4();if(can.data.data[hJ+n]){var a=AF.i2(ls,"value");for(var nn=0,ll=a.length;nn<ll;nn++){var d=can.data.data[hJ+n][nn];if(!d)continue;a[nn].options=d.options;if(d.options){if(d.options=="A"){a[nn].type="action";d.options=null;}else{a[nn].type="select";}}else{a[nn].type="text";}
a[nn].f5(d.value);}}}
o.flex();function iC(actionName){for(var nn=0,ll=a.length;nn<ll;nn++){if(a[nn].name==actionName)return a[nn];}}}],["ACT2",function(actionlist,hJ){hJ=dM.i5(hJ);actionlist=dM.i5(actionlist);var o=jN.fT(actionlist);if(!o)return;var d=o.AA,s=[];for(var n=0,l=d.length;n<l;n++){var a=AF.i2(d[n],"value"),i=AF.i2(d[n],"name")[0],r={};if(!a||!i)continue;var v=[];for(var m=0,ll=a.length;m<ll;m++)v.push(a[m].f4());r.value=v;r.name=i.f4();s.push(r);}
dM.f6(hJ,s);}],["ACT3",function(d,hJ){if(d.charAt(0)=="@"){var o=jN.fT(d.substr(1));if(!o)return;var v=o.f4();}else if(d.charAt(0)=="$"){v=dM.f4(d.substr(1));}
v=JSON.parse(v);dM.f6(hJ,v);}],["FIX1",function(){if(!hY.gU)return;var d=hY.gU.components;c(d);function c(d){if(d.childNodes){for(var i in d.childNodes){if(d.childNodes[i].id!=i){console.log("fixed:"+i);d.childNodes[d.childNodes[i].id]=d.childNodes[i];delete d.childNodes[i];}else{for(var ii in d.childNodes[i]){if(d.childNodes[i].width){delete d.childNodes[i].width;delete d.childNodes[i].height;}}
c(d.childNodes[i]);}}}}
d=hY.gU.style;var ss=JSON.stringify(hY.gU.components);for(var s in d){if(ss.indexOf('"'+s+'"')<0){console.log(s);delete d[s];}}
d=hY.gU.data;for(var i in d){var dd=d[i];var a=[];for(var ii in dd){if(!isNaN(ii)){a.push(dM.cY(dd[ii]));}}
if(a.length>0){d[i]=a;}
dd=d[i];for(var n=0,l=dd.length;n<l;n++){var ddd=dd[n];for(var iii in ddd){var dddd=ddd[iii],aa=[];if(typeof ddd[iii]=="object"){for(var iiii in dddd){if(!isNaN(iiii)){aa.push(dM.cY(dddd[iiii]));}}
if(aa.length>0)ddd[iii]=aa;}}}}
d=hY.gU.methods;for(var i in d){var dd=d[i];var a=[];for(var ii in dd){if(!isNaN(ii)){a.push(dM.cY(dd[ii]));}
var ddd=dd[ii].value,aa=[];for(var iii in ddd){if(!isNaN(iii)){aa.push(dM.cY(ddd[iii]));}}
if(aa.length>0){dd[ii].value=aa;}}
if(a.length>0){d[i]=a;}}
if(hY.history)hY.history.length=0;}]]);function setActionValue(d,v){var o=can.data.data[d];o.f5(v);}
hY.setRoot=function(){var d=hY.gU.components;f(d);function f(d){if(d.childNodes){for(var n in d.childNodes){var i=d.childNodes[n];if(!d.root)i.root=i.id;else i.root=d.root;f(i);}}}}
class TreeEd extends BF{constructor(){super();this.mod="treeEd";}
resize(){super.resize();this.g4();}}
TreeEd.nodes=[];TreeEd.i6=0;TreeEd.iE=null;TreeEd.searchResult=[];var p=TreeEd.prototype;p.set=function(d){jJ.jA(this);this.style=jN.fF(this);this.fG();this.container.x=this.container.y=0;this.attrfield=d.attrfield;this.valuefield=d.valuefield;jN.fW(this);if(this._editMode){this._buildForEditor();return;}
hY._tree=this;this.g5();this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;this.dR(d,this.style);dN.fR(d.onshow);}
p._setEvent=function(d,ss){var AK=this,o=this.container.e1;this.gB=null;var objMoveOver=null;AI.AH(this,{mouseDown:function(ev){dN.fR(AK.mouseDown);can.timer.play(2*can.timer.fJ/3,1,null,function(){if(AI.eP(AI.mouseEvent))return;EditUtils.instance.clear();var tar=AI.AO(AI.mouseEvent);if(!tar)return;AK.gB=tar;let p1=AK.gB.iL();AK.gB.x=p1.x+40;AK.gB.y=p1.y;can.A4.addChild(AK.gB);AI.AH(AK.gB,{mouseMove:_mouseMove})},false,"gA");},mouseUp:function(ev){if(AK.gB){var g=objMoveOver;if(g&&g.mod=="treenode"&!g.pY){var gg=g.componentData;if(gg&&gg.mod!="text"&&gg.mod!="input"&&gg.mod!="value"&&gg.mod!="image"){if(!gg.childNodes)gg.childNodes={};gg.childNodes[AK.gB.componentId]=dM.cY(AK.gB.componentData);delete AK.gB.parentNode.componentData.childNodes[AK.gB.componentId];hY.setHistory();}}else if(g){if(g.parentNode!=AK.gB.parentNode){g.parentNode.componentData.childNodes[AK.gB.componentId]=AK.gB.componentData;delete AK.gB.parentNode.componentData.childNodes[AK.gB.componentId];var a=g.parentNode.nodes;a.splice(a.indexOf(g),0,AK.gB);for(var n=0,l=a.length;n<l;n++){if(hY.gU.style[a[n].componentId])hY.gU.style[a[n].componentId].zIndex=l-n;}}else{var a=g.parentNode.nodes,i=hY.gU.style[g.componentId],l=a.length;if(i)i=i.zIndex||0;if(i>=l){i=l+1;}else{for(var n=i+1;n<l+1;n++){let m=l-n;if(hY.gU.style[a[m].componentId])hY.gU.style[a[m].componentId].zIndex++;}}
if(hY.gU.style[AK.gB.componentId])hY.gU.style[AK.gB.componentId].zIndex=i+1;}
objMoveOver.pY=null;hY.setHistory();}
AK.g4();hY.eX.g4();objMoveOver=AK.gB=null;return;}
var tar=AI.AO(AI.mouseEvent);if(!tar||tar.mod!="treenode"||jN.iE==o||AI.eP(AI.mouseEvent))return;objMoveOver=null;var i=tar.index,r=tar.A3,id=r?r.componentId:tar.componentId;can.data.data[hY.eX.data.data]=id=="main"?hY.gU.components:hY.gU.components.childNodes[id];hY.eX.g4();AK.g7.clear();TreeEd.i6=0;AK.g5();TreeEd.iE=TreeEd.nodes[i];dN.fR(AK.mouseUp);TreeEd.nodes[i].fG("activated");}});function _mouseMove(ev){if(!AK.gB)return
let s=can.jI.scale;AK.gB.jX=ev.clientX*s+10;AK.gB.y=ev.clientY*s;if(AK.gB.x<o.style.lineWidth){AK.gB.x=o.style.lineWidth;}else if(AK.gB.x>o.eQ-o.style.lineWidth-AK.gB.style.width){AK.gB.x=o.eQ-o.style.lineWidth-AK.gB.style.width;}
if(AK.gB.y<o.style.lineHeight){AK.gB.y=o.style.lineHeight;}else if(AK.gB.y>o.eR-o.style.lineHeight-AK.gB.style.height){AK.gB.y=o.eR-o.style.lineHeight-AK.gB.style.height;}
var g=AI.AO(AI.mouseEvent);if(g&&g.mod=="treenode"){if(objMoveOver){if(objMoveOver.pY){objMoveOver.y=objMoveOver.pY;objMoveOver.pY=null;}}
objMoveOver=g;if(ev.clientY-g.e1.getBoundingClientRect().top<10){if(!objMoveOver.pY){objMoveOver.pY=objMoveOver.y;objMoveOver.y+=20;}}}}}
p.dR=function(d,ss){var AK=this,o=this.container.e1;document.removeEventListener("mouseup",onMouseUp);document.removeEventListener("mousemove",onMouseMove);this.gB=null;o.addEventListener("mousedown",function(e){dN.fR(AK.mouseDown);can.timer.play(2*can.timer.fJ/3,1,null,function(){if(AI.eP(e))return;EditUtils.instance.clear();var tar=AI.AO(e);if(!tar)return;AK.gB=tar;p1=AK.gB.iL();AK.gB.x=p1.x+40;AK.gB.y=p1.y;can.A4.addChild(AK.gB);document.addEventListener("mousemove",onMouseMove,false);},false,"gA");document.addEventListener("mouseup",onMouseUp,false);});function onMouseUp(e){document.removeEventListener("mouseup",onMouseUp);if(AK.gB){document.removeEventListener("mousemove",onMouseMove);var g=objMoveOver;if(g&&g.mod=="treenode"&!g.pY){var gg=g.componentData;if(gg.id!=AK.gB.parentNode.componentId&&gg&&gg.mod!="text"&&gg.mod!="input"&&gg.mod!="value"&&gg.mod!="image"){if(!gg.childNodes)gg.childNodes={};gg.childNodes[AK.gB.componentId]=dM.cY(AK.gB.componentData);delete AK.gB.parentNode.componentData.childNodes[AK.gB.componentId];hY.setHistory();}}else if(g){if(g.parentNode!=AK.gB.parentNode){g.parentNode.componentData.childNodes[AK.gB.componentId]=AK.gB.componentData;delete AK.gB.parentNode.componentData.childNodes[AK.gB.componentId];var a=g.parentNode.nodes;a.splice(a.indexOf(g),0,AK.gB);for(var n=0,l=a.length;n<l;n++){if(hY.gU.style[a[n].componentId])hY.gU.style[a[n].componentId].zIndex=l-n;}}else{var a=g.parentNode.nodes,i=hY.gU.style[g.componentId],l=a.length;if(i)i=i.zIndex||0;if(i>=l){i=l+1;}else{for(var n=i+1;n<l+1;n++){let m=l-n;if(hY.gU.style[a[m].componentId])hY.gU.style[a[m].componentId].zIndex++;}}
if(hY.gU.style[AK.gB.componentId])hY.gU.style[AK.gB.componentId].zIndex=i+1;}
objMoveOver.pY=null;hY.setHistory();}
AK.gB.clear();AK.g4();hY.eX.g4();objMoveOver=AK.gB=null;return;}
var tar=AI.AO(e);if(!tar||tar.mod!="treenode"||jN.iE==o||AI.eP(e))return;objMoveOver=null;var i=tar.index,r=tar.A3,id=r?r.componentId:tar.componentId;can.data.data[hY.eX.data.data]=id=="main"?hY.gU.components:hY.gU.components.childNodes[id];hY.eX.g4();AK.g7.clear();TreeEd.i6=0;AK.g5();TreeEd.iE=TreeEd.nodes[i];dN.fR(AK.mouseUp);TreeEd.nodes[i].fG("activated");}
var objMoveOver=null;function onMouseMove(ev){if(!AK.gB)return;let s=can.jI.scale;AK.gB.jX=ev.clientX*s+10;AK.gB.y=ev.clientY*s;if(AK.gB.x<o.style.lineWidth){AK.gB.x=o.style.lineWidth;}else if(AK.gB.x>o.eQ-o.style.lineWidth-AK.gB.style.width){AK.gB.x=o.eQ-o.style.lineWidth-AK.gB.style.width;}
if(AK.gB.y<o.style.lineHeight){AK.gB.y=o.style.lineHeight;}else if(AK.gB.y>o.eR-o.style.lineHeight-AK.gB.style.height){AK.gB.y=o.eR-o.style.lineHeight-AK.gB.style.height;}
var g=AI.AO(ev);if(g&&g.mod=="treenode"){if(objMoveOver){if(objMoveOver.pY){objMoveOver.y=objMoveOver.pY;objMoveOver.pY=null;}}
objMoveOver=g;if(ev.clientY-g.e1.getBoundingClientRect().top<10){if(!objMoveOver.pY){objMoveOver.pY=objMoveOver.y;objMoveOver.y+=20;}}}}}
p.g5=function(){var d=this.data;this.g7=null;TreeEd.i6=TreeEd.nodes.length=0;var dd=dM.f4(d.data);if(!dd)return;hY.gU=dd;dd=dd.components;var c=d.childNodes;if(c){for(let n in c){var i=jN.g1("treenode");i._editMode=this._editMode;this.addChild(i);i.fH(c[n],this,dd);this.g7=i;break;}}
this.flex();hY.setRoot();}
p._buildForEditor=function(){var d=this.data;var c=d.childNodes;if(c){for(let n in c){var i=jN.g1("box");i._editMode=this._editMode;this.addChild(i);i.fH(c[n],this);break;}}}
p.flex=function(){if(this._editMode)return;var ss=this.style;this.eR=TreeEd.i6*(this.g7.height+8);this.eQ=this.width;var AK=this,o=this.container,t;AI.AH(o,{mouseDown:function(ev){can.timer.remove("eY");t=new Date().getTime();AK.eU=ev.clientX;AK.eV=ev.clientY;},mouseMove:function(ev){if(AK.gB)return;o.y=ev.AQ;if(AK.height<AK.eR){o.y=ev.AQ;}},mouseUp:function(ev){var h=AK.height,H=AK.eR,ss=AK.style,l=new Date().getTime()-t;if(l>500){if(o.y>0){o.y=0;}
return;}
ss=50*can.jI.scale;if(Math.abs(AK.eV-ev.clientY)>5){var sp=AK.eV>ev.clientY?Math.min((AK.eV-ev.clientY)*ss/l,ss):Math.max((AK.eV-ev.clientY)*ss/l,-ss),s=sp*0.05;can.timer.play(1,20,f1,function(){},false,"eY");return;}
function f1(){var jY=h-H;if(o.y>0||jY>0){o.y=0;can.timer.remove("eY");return;}else if(o.y<jY&&jY<0){o.y=jY;can.timer.remove("eY");return;}
o.y-=sp;sp-=s;}}});}
p.g4=function(){if(this.g7)this.g7.clear();this.g5();}
p.clear=function(){if(this.g7)this.g7.clear();if(this.parent)this.parent.removeChild(this);dN.fR(this.g0);jN.fY(this);}
p.g3=function(attr,v,e5=true){if(attr=="data"){this.data.data=v;}else if(attr=="containerX"){this.container.x=v;return;}else if(attr=="containerY"){this.container.y=v;return;}
this[attr]=v;}
p.j0=function(d){this.container.y+=d/2;if(this.container.y>0)this.container.y=0;else if(this.container.y<this.style.height-this.eR)this.container.y=this.style.height-this.eR;}
TreeEd.select=function(o){if(!o)return;var s=o;o.data.open=true;hY.iE=o;if(!o||!o.parent||o.parent==can.A4)return;while(o.parent!=can.A4){o=o.parent;if(o&&o.data)o.data.open=true;}
hY._tree.container.y=0;hY._tree.g4();for(var n=0,l=TreeEd.nodes.length;n<l;n++){if(TreeEd.nodes[n].componentId==s.id){TreeEd.iE=TreeEd.nodes[n];TreeEd.nodes[n].fG("activated");let y1=TreeEd.nodes[n].iL().y,y2=hY._tree.height;if(y1>y2/2)hY._tree.container.y=y2/2-y1;if(hY._tree.container.y>0)hY._tree.container.y=0;return;}}}
class TreeNode extends AF{constructor(){super();this.mod="treenode";this.A9=true;this.eM=1;this.A3;this.CJ=new Graphic();this.e1.appendChild(this.CJ.e1);this.CI.classList.add("treenode");}
fH(d,parent,dd=null,parentNode=null){if(!d)return;TreeEd.nodes.push(this);this.id=d.id;this.parent=parent;this.index=TreeEd.i6;TreeEd.i6++;this.data=d;this.style=jN.fF(this);this.fG();this.AA.length=0;var c=d.childNodes,o={};if(!dd)return;this.componentData=dd;this.componentId=o.id=dd.id;o.ico="ico/"+dd.mod+".png";o.hidden=dd.hidden;if(hY.showInfo&&dd.author){o.author=dd.author;o.update_time=Date.jF(dd.timestamp);}
if(c){for(var n in c){var i=jN.g1(c[n].mod);i.index=this.index;i._editMode=this._editMode;this.addChild(i);if(dd.id.charAt(0)=="_"){var cl={color:"rgba(250,250,250,0.1)"};}
i.fH(c[n],this,cl);i.f5(o);}}
if(this._editMode)return;if(this.AA.length>1){}
this.y=this.height;this.parentNode=parentNode;var cc=dd.childNodes;this.nodes=[];this.i6=1;if(parentNode){this.A3=parentNode.componentData.id=="main"||!parentNode.A3?this:parentNode.A3;}
var a=[];if(cc)
for(var nn in cc)a.push(cc[nn]);if(dd.open||!parentNode){if(a.length>0){a.sort(function(o1,o2){if(!hY.gU.style[o1.id])return-1;else if(!hY.gU.style[o2.id])return 1;return hY.gU.style[o1.id].zIndex<hY.gU.style[o2.id].zIndex?1:-1;})
for(var n=0,l=a.length;n<l;n++){var i=jN.g1("treenode");i.index=this.index;this.addChild(i);i.fH(this.data,this,a[n],this);this.nodes.push(i);if(hY.gU.style[i.componentId])hY.gU.style[i.componentId].zIndex=l-n;}}}
if(a.length==0)delete dd.childNodes;if(this.parentNode){this.parentNode.addChild(this);this.jY=this.parentNode.eM*(this.height+8);this.x=32;}else{this.jY=0;this.x=6;}
if(parentNode){parentNode.eM+=this.eM;this.parentNode=parentNode;}
var g=this.CJ,h=this.height/2,c="rgb(90,90,90)";for(var e in dd){if(e.indexOf("on")>-1){if(!hY.gU.methods[dd[e]])delete hY.gU.methods[dd[e]];else c="rgb(200,0,100)"}}
g.clear().fill(c).lineStyle(2,"rgb(120,120,120)").drawCircle(0,h,a.length>0?6:3);for(var n=0,l=this.nodes.length;n<l;n++){g.A2(0,h);g.lineTo(0,this.nodes[n].y+h);g.A2(0,this.nodes[n].y+h);g.lineTo(this.nodes[n].x,this.nodes[n].y+h);}
g.end();this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.longTap=d.onlongtap;this.dbClick=d.ondbclick;jN.fW(this);}
clear(){if(!this.parent)return;this.parentNode=null;this.A3=null;this.eM=1;this.CJ.clear();for(var n=this.AA.length-1;n>=0;n--){var i=this.AA[n];i.clear();}
if(!this._editMode)this.nodes.length=this.AA.length=0;if(this.parent)this.parent.removeChild(this);jN.fY(this);}
f4(){return this.componentId;}}
jN.gQ.treeEd=TreeEd;jN.gQ.treenode=TreeNode;class h2 extends BF{constructor(){super();this.mod="list";}
set(d,style){jJ.jA(this);this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.fG();if(d.data&&!this._editMode){this.CB=d.data;this.f5(dM.f4(this.CB));}else{this.f5([{}]);}
this.dR(d,this.style);jN.fW(this);}
dR(d,ss){if(this._editMode)return;this.gB=null;this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;this.mouseUp=d.onmouseup;this.onDrop=d.ondrop;this.onSelect=d.onselect;var o=this;AI.AH(this,{mouseUp:function(ev){if(o._editMode||AI.eP(ev))return;var t=AI.AO(ev);if(t&&t.name!=o.name){dN.fR(o.mouseUp,ev);dN.fR(o.onSelect,ev);}}});}
f5(v){var ed=this._editMode,c=this.data.childNodes,ss=this.style,o=this.AA;this.CA();if(!v||v instanceof Array==false){if(ed)v=[{}];else return;}
if(c){for(let n in c){var m=c[n];break;}
if(!m)return;let l=ed?1:v.length;l=Math.max(l,this.data.minLength||0);for(let n=0;n<l;n++){if(!o[n]&&m){var i=jN.g1(m.mod);i.index=!ed?n:-1;i._editMode=ed;this.addChild(i);i.fH(m,this);}else{i=o[n];}
if(!ed){i.f5(v[n]);}
i.A9=true;}}
this.flex();}
flex(){var s=this.style,o=this.AA;if(!o[0])return;if(!this._editMode&&this.data.arrangement){eval(this.data.arrangement+"(this.AA,this.style)");return;}
var lw=0,lh=0,len=o.length;if(s.display!="flex"){for(n=0;n<len;n++){var i=o[n];if(i.x+i.width>lw)lw=i.x+i.width;if(i.y+i.height>lh)lh=i.y+i.height;}
this.eQ=this.width;this.eR=lh;}else{var fd=s.flexDirection,wp=s.flexWrap,jc=s.justifyContent;lw=s.lineWidth?s.lineWidth:0;lh=s.lineHeight?s.lineHeight:0;var w=this.width,h=this.height,my=wp=="wrapReverse"?999999:0;if(fd=="row"){if(jc=="center")var jX=(w-Math.min(len,parseInt(w/(o[0].width+lw)))*(o[0].width+lw))/2;else if(jc=="flexEnd")jX=w-lw-Math.min(len,parseInt(w/(o[0].width+lw)))*(o[0].width+lw);else jX=lw>0?lw:0;for(var n=0;n<len;n++){var i=o[n];if(n==0){i.jX=jX;i.y=lh>0?lh:0;continue;}
i.jX=o[n-1].width+o[n-1].x+lw;if(wp=="nowrap"){i.y=lh;continue;}
let _my=o[n-1].y+o[n-1].height+lh;if(_my>my)my=_my;if(i.jX+i.width>w){i.jX=jX;i.y=my;}else{i.y=o[n-1].y;}}
this.eQ=wp=="nowrap"?i.x+i.width+lw:w;this.eR=i.y+i.height;}else if(fd=="rowReverse"){for(n=0;n<len;n++){i=o[n];if(n==0){i.jX=w-lw-i.width;if(wp=="wrapReverse")i.jY=h-i.height-lh;else i.y=lh;continue;}
i.jX=o[n-1].x-i.width-lw;if(wp=="nowrap"){i.y=lh;continue;}
if(wp=="wrapReverse"){var _my=o[n-1].y-i.height-lh;if(_my<my)my=_my;this.container.setChildIndex(i,0);}else{_my=o[n-1].y+o[n-1].height+lh;if(_my>my)my=_my;}
if(i.x<0){i.jX=w-lw-i.width;i.jY=my;}else{i.jY=o[n-1].y;}
i.A0();}
this.eQ=w;this.eR=i.y+i.height+lh;}else if(fd=="column"){for(n=0;n<len;n++){i=o[n];if(n>0){i.jY=o[n-1].height+o[n-1].y+lh;}else{i.jY=lh>0?lh:0;}
i.x=lw;}
this.eQ=w;this.eR=i.y+i.height+lh;}else if(fd=="columnReverse"){var h=s.height;for(n=len-1;n>=0;n--){if(n<len-1){o[n].jY=o[n+1].y-o[n].height-lh;}else{o[n].jY=h-o[n].height-lh;}}
o[n].x=lw;this.eQ=w;this.eR=h;}}
if(!this._editMode&&s.overflow=="fixed"){this.width=(this.eQ?this.eQ:this.width)+(s.lineWidth?s.lineWidth:0);this.height=(this.eR?this.eR:this.height)+(s.lineHeight?s.lineHeight:0);}else
this.AJ();}
AJ(){var AK=this,o=AK.container,t;if(AK.height<AK.eR&&o.y<AK.height-AK.eR){o.jY=AK.height-AK.eR;}else{o.jY=0;}
if(AK.width<AK.eQ&&o.x<AK.width-AK.eQ){o.jX=AK.width-AK.eQ;}else{o.jX=0;}
o.A0();AI.AH(o,{mouseDown:function(ev){can.timer.remove("eY");t=new Date().getTime();AK.eU=ev.clientX;AK.eV=ev.clientY;},mouseMove:function(ev){var s=AK.style.overflow;if(!s||s=="visible"||s=="fix"||s=="hidden")return;if(s!="autoY"&&AK.width<AK.eQ){o.x=ev.AP;}else if(s!="autoX"&&AK.height<AK.eR){o.y=ev.AQ;}},mouseUp:function(ev){var h=AK.height,H=AK.eR,w=AK.width,W=AK.eQ,ss=AK.style,l=new Date().getTime()-t;if(ss.overflow=="autoY"){W=w;}else if(ss.overflow=="autoX"){H=h;}
if(l>500){if(o.y>0){o.jY=0;}
if(o.x>0){o.jX=0;}
o.A0();return;}
ss=50*can.jI.scale;if(Math.abs(AK.eV-ev.clientY)>5&&((h<H&&can.jI.rotation==0)||(w<W&&can.jI.rotation==-90))){var sp=AK.eV>ev.clientY?Math.min((AK.eV-ev.clientY)*ss/l,ss):Math.max((AK.eV-ev.clientY)*ss/l,-ss),s=sp*0.05;can.timer.play(1,20,can.jI.rotation==-90?f2:f1,function(){},false,"eY");return;}else if(Math.abs(AK.eU-ev.clientX)>5&&((w<W&&can.jI.rotation==0)||(h<H&&can.jI.rotation==-90))){sp=(AK.eU-ev.clientX)*ss/l;s=sp*0.05;can.timer.play(1,20,can.jI.rotation==-90?f1:f2,function(){},false,"eY");return;}
function f1(){var jY=h-H;if(o.y>0||jY>0){o.y=0;can.timer.remove("eY");return;}else if(o.y<jY&&jY<0){o.y=jY;can.timer.remove("eY");return;}
o.y-=sp;sp-=s;}
function f2(){var jX=w-W;if(o.x>0||jX>0){o.x=0;can.timer.remove("eY");return;}else if(o.x<jX&&jX<0){o.x=jX;can.timer.remove("eY");return;}
o.x-=sp*(can.A4.rotation==-90?-1:1);sp-=s;}}});}
g4(){this.f5(dM.f4(this.CB));}
CA(){this.container.x=this.container.jY=0;for(let n=this.AA.length-1;n>=0;n--){this.AA[n].clear();}
this.AA.length=0;}}
jN.gQ.list=h2;class HtmlLoader extends jN{constructor(){super("foreignObject");this.mod="htmlloader";this._content=document.createElement("body");this.e1.appendChild(this._content);this._content.style.height=this._content.style.width="100%";}
set(d,style){super.set(d,style);this.onLondEnd=d.onloadend;if(d.url){var u=dM.i5(d.url);this.load(u,this.onLondEnd);}else if(!this._editMode&&d.value){this._content.innerHTML=dM.i5(d.value);}
this.fG();}
load(url,end){var o=this;BY.iN((hY.dB||"")+url,function(r){o._content.innerHTML=r;dN.fR(end);})}
get x(){return this.jX;}
set x(v){this.jX=v;this.e1.setAttribute("x",v);}
get y(){return this.jY;}
set y(v){this.jY=v;this.e1.setAttribute("y",v);}
f4(){return this._content.innerHTML;}
f5(v){this._content.innerHTML=v;}
A6(el=null){if(!this.style)return;var s=this.style,el=this._content;this.fX();el.style.backgroundColor=s.backgroundColor;el.style.fontSize=s.fontSize+"px";}
g4(){super.g4();this.fG();}
clear(){super.clear();this._content.innerHTML='';}}
jN.gQ.htmlloader=HtmlLoader;class iU extends AF{constructor(){super("g");this.AA=[];this.mod="switch";this.CI=jJ.j4(this);this.e1.appendChild(this.CI);var o=this;this.__defineGetter__('value',function(){return o.f4();});this.__defineSetter__('value',function(v){o.f5(v);});}
set(d,style){this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.fG();this.type=d.type;this.group=d.group;var c=d.childNodes;if(c){for(let n in c){let i=jN.g1(c[n].mod);if(!i)continue;i.index=this.index;i._editMode=this._editMode;i.A9=true;this.addChild(i);i.fH(c[n],this);}}
if(d.group){if(!iU.AN[d.group])iU.AN[d.group]=[];iU.AN[d.group][this.id+this.index]=this;}
if(d.value!=undefined){var a=d.value.split("|");this.AL=a.map(function(o){if(!isNaN(o))return Number(o);else return o;});}else{this.AL=[false,true];}
if(d.data){var r=String(d.data),v;if(this.index>-1&&r.match(/\[\]/i))v=r.replace(/\[\]/g,"["+this.index+"]");else v=d.data;}else{v=d.checked;}
var df=dM.i5(v)?1:0;this.f5(this.AL[df]);this.A5();this.dR(d);dN.fR(this.g6);jN.fW(this);}
f5(v){if(this.data.data){var r=this.data.data,a=String(r).match(/{(.*?)}/g);if(a){if(r.match(/\$|\@/i)){if(o.index>-1)r=r.replace(/\[\]/g,"["+o.index+"]");v=dM.cX(r);}else{var d=v;for(let n=0,l=a.length;n<l;n++){let s=a[n].substr(1,a[n].length-2);r=r.replace(a[n],d[s]!=null?d[s]:'');}
v=r;}}}
if(typeof v=="object")return;this.eO=this.AL[1]==dM.i5(v)?1:0;this.fG();}
f4(){return this.AL[this.eO];}
dR(d){if(!this._editMode){this.g6=d.onshow;this.g0=d.onhide;this.mouseDown=d.onmousedown;var o=this;this.mouseUp=function(ev){o.AM();dN.fR(d.onmouseup);}
if(this.AA[0]){this.AA[0].mouseUp=this.mouseUp;}}}
AM(){if(this.group){let g=this.group;for(var i in iU.AN[g]){if(i!=this.id+this.index){iU.AN[g][i].eO=0;iU.AN[g][i].fG();}}
this.eO=1;}else{this.eO=this.eO==1?0:1;}
this.fG();}
A6(el=null){var s=this.style,el=this.CI;this.fX();if(s.backgroundImage){var bg=s.backgroundImage;if(s.clipping){if(s.clipping=="9"||s.clipping=="9C"){if(jJ.B5(bg+"_CACHE_")&&!this._editMode){jJ.B6(el,bg+"_CACHE_");}else{gZ.BD(bg+"_CACHE_",can.data.images[s.backgroundImage],this.width,this.height,function(){jJ.B6(el,bg+"_CACHE_");});}}}else
jJ.B6(el,bg);}else{var bg=this.eO==1?s.color:s.backgroundColor;if(bg)el.setAttribute("fill",bg);}
var h=this.AA[0];if(h){if(this.type=="switch"){h.A2(this.eO==0?0:this.width-h.width,(this.height-h.height)/2);}else{h.visible=this.eO==1||this._editMode;h.A2((this.width-h.width)/2,(this.height-h.height)/2);}}
if(s.borderWidth>0){el.setAttribute("stroke-width",s.borderWidth);el.setAttribute("stroke",s.borderColor);}
if(s.borderRadius>0){el.setAttribute("rx",s.borderRadius);el.setAttribute("ry",s.borderRadius);}else{el.removeAttribute("rx");el.removeAttribute("ry");}}
addChild(eA){if(this.AA.length>0)return;eA.parent=this;this.e1.appendChild(eA.e1);this.AA[0]=eA;}
clear(){if(this.AA[0])this.AA[0].e1.onmouseup=null;super.clear();}}
iU.AN=[];jN.gQ.switch=iU;class h5 extends AF{constructor(){super();this.mod="group";}
get width(){return this.parent.width;}
get height(){return this.parent.height;}
set width(v){}
set height(v){}
set(d,style){if(!this._editMode&&d.type=="unrenderable")return;super.set(d,style);}
A5(){this.visible=this.data.type!="hidden";}}
jN.gQ.group=h5;class i8 extends jN{constructor(){super();this.mod="style";}}
jN.gQ.style=i8;class h4{constructor(){this.mod="value";this.index=-1;}
fH(d,parent){this.id=d.id;this.parent=parent;this.name=this.id+(this.index>-1?"["+this.index+"]":"");this.data=d;this.iJ=d.value;this.onChange=d.onchange;jN.fW(this);}
f5(v){if(v!=null){if(typeof v=="string"||typeof v=="number"){this.iJ=v;}else if(v[this.id]!=null){this.iJ=v[this.id];}else{}}
dN.fR(this.onChange);}
f4(){return this.iJ;}
g4(){var d=can.data.data;if(d[this.id]||d[this.id]===0){this.iJ=d[this.id];}else if(this.iJ){d[this.id]=this.iJ;}}
g2(attr){if(attr=="parent"){return this.parent.id;}
return this[attr];}
clear(){this.iJ=null;this.parent=null;jN.fY(this);}}
jN.gQ.value=h4;class Template extends jN{constructor(){super();this.mod="template";}
set(d,style){if(this._editMode){super.set(d);return;}
var s=this.style=jN.fF(this);if(style)this.style=Object.assign(this.style,style);this.fG();var o=jN.d1(d.id,d.index,d.use,this.parent,{width:s.width,height:s.height,left:s.left,top:s.top});if(o)this.e1=o.e1;this.e1.node=o;}}
jN.gQ.template=Template;class AI{static getTarget(e){return jN.jP[e.target.jQ];}
static AO(e){var tar=AI.getTarget(e);if(!tar)return;if(!tar.jO)tar=tar.parent;return tar;}
static AH(tar,AR){var el=tar.e1;if(can.device=="pc")
el.onmousedown=function(ev){AI.mouseEvent=ev;ev=ev||event;var eX=ev.clientX*can.jI.scale-tar.x,eY=ev.clientY*can.jI.scale-tar.y;ev.AP=eX;ev.AQ=eY;el.mv=function(ev){AI.mouseEvent=ev;
ev=ev||event;
ev.AP=ev.clientX*can.jI.scale-eX;
ev.AQ=ev.clientY*can.jI.scale-eY;if(AR.mouseMove)AR.mouseMove(ev);}
el.mu=function(ev){AI.mouseEvent=ev;if(AR.mouseUp)AR.mouseUp(ev);
document.removeEventListener("mousemove",el.mv);document.removeEventListener("mouseup",el.mu);}
document.addEventListener("mousemove",el.mv,false);document.addEventListener("mouseup",el.mu,false);if(AR.mouseDown)AR.mouseDown(ev);}
el.ontouchstart=function(ev){AI.mouseEvent=ev;var t=ev.touches[0],eX=t.clientX-tar.x,eY=t.clientY-tar.y;t.AP=eX;t.AQ=eY;el.tm=function(ev){AI.mouseEvent=ev;ev.preventDefault();t=ev.touches[0];
t.AP=t.clientX-eX;
t.AQ=t.clientY-eY;if(AR.mouseMove)AR.mouseMove(t);}
el.td=function(ev){AI.mouseEvent=ev;if(AR.mouseUp)AR.mouseUp(t);
document.removeEventListener("touchmove",el.tm);
document.removeEventListener("touchend",el.td);}
document.addEventListener("touchmove",el.tm,{passive:false});document.addEventListener("touchend",el.td,{passive:false});if(AR.mouseDown)AR.mouseDown(t);}}
static AS(tar){var el=tar.e1;el.ontouchstart=null;el.onmousedown=null;}
static eP(e){return Math.abs(can.jI.eV-e.clientY)>5||Math.abs(can.jI.eU-e.clientX)>5;}}
class Graphic{constructor(){this.e1=jJ.j2("g");this.CE='';this.AA=[];}
start(parent){this.fE=parent;parent.appendChild(this.e1);}
A2(x,y){this.CE+="M"+x+" "+y+" ";return this;}
lineTo(x,y){this.CE+="L"+x+" "+y+" ";return this;}
close(){this.CE+="Z";}
lineStyle(s,c){this.CF=c;this.CG=s;return this;}
fill(c){this.CH=c;return this;}
end(){if(this.CE!=''){var el=this.AT("path");el.setAttribute("d",this.CE);this.AU(el);}
this.A7();return this;}
clear(){this.A7();for(var n=this.AA.length-1;n>=0;n--){this.e1.removeChild(this.AA[n]);this.AA.splice(n,1);}
this.AA.length=0;if(this.fE)this.fE.removeChild(this.e1);return this;}
AT(BM){var el=jJ.j2(BM);this.AA.push(el);this.e1.appendChild(el);return el;}
A7(){this.CF=this.CG=this.CH=null;this.CE='';}
AU(el){if(this.CG>0){el.setAttribute("stroke",this.CF);if(this.CF)el.setAttribute("stroke",this.CF);}
if(this.CH)el.setAttribute("fill",this.CH);}
drawRect(x,y,w,h,rx=0,ry=0){let el=this.AT("rect");el.setAttribute("x",x);el.setAttribute("y",y);el.setAttribute("width",w);el.setAttribute("height",h);if(rx>0)el.setAttribute("rx",rx);if(ry>0)el.setAttribute("ry",ry);this.AU(el);return this;}
drawCircle(x,y,r){let el=this.AT("circle");el.setAttribute("cx",x);el.setAttribute("cy",y);el.setAttribute("r",r);this.AU(el);return this;}
drawEllipse(cx,cy,rx,ry){let el=this.AT("ellipse");el.setAttribute("rx",rx);el.setAttribute("ry",ry);el.setAttribute("cx",cx);el.setAttribute("cy",cy);this.AU(el);return this;}}
can.graphic=Graphic;class EditUtils extends AF{constructor(){super();dN.push([["EDU2",this.setObject],["EDU3",this.fG],["EDU4",this.clear],["EDU5",this.createColorPicker],["EDU6",this.BV],["EDU7",this.listImageAssets]]);this.init();}
init(){this.CAN_TR_X=new AF();this.CAN_TR_Y=new AF();this.CAN_TR_XY=new AF();this.CAN_TR_R=new AF();this.CAN_TR_XL=new AF();this.CAN_TR_YT=new AF();this.objectContainer=new AF();this._box=new AF();this.addChild(this.objectContainer);this.addChild(this._box);this.addChild(this.CAN_TR_X);this.addChild(this.CAN_TR_Y);this.addChild(this.CAN_TR_XY);this.addChild(this.CAN_TR_R);this.addChild(this.CAN_TR_XL);this.addChild(this.CAN_TR_YT);}
CC(o){var AK=EditUtils.instance,el=o.e1,handler,sX,sY,tX,tY,oW,oH,oX,oY;if(!el)return;AI.AH(o,{mouseMove:function(ev){o.A2(ev.AP,ev.AQ);let p=o.iL();AK.A2(p.x,p.y);}});AI.AH(AK,{mouseDown:function(ev){var t=AI.AO(ev);if(t.name.indexOf("CAN_TR_")>-1){handler=t.parent;sX=handler.x;sY=handler.y;tX=AK.x;tY=AK.y;oX=o.x;oY=o.y;oW=AK.CAN_TR_XY.x;oH=AK.CAN_TR_XY.y;}},mouseMove:function(ev){if(!handler)return;if(handler.id=="CAN_TR_R"){AK.A2(ev.AP,ev.AQ);o.A2(oX-tX+ev.AP,oY-tY+ev.AQ);}else if(handler.id=="CAN_TR_XL"){AK.A2(ev.AP,AK.y);AK.CAN_TR_X.x=tX-ev.AP+oW;o.A2(oX-tX+ev.AP,o.y);AK.g4(AK.CAN_TR_X.x,AK.CAN_TR_Y.y);}else if(handler.id=="CAN_TR_YT"){AK.A2(AK.x,ev.AQ);AK.CAN_TR_Y.y=tY-ev.AQ+oH;o.A2(o.x,oY-tY+ev.AQ);AK.g4(AK.CAN_TR_X.x,AK.CAN_TR_Y.y);}else{handler.A2(ev.AP-AK.x+sX,ev.AQ-AK.y+sY);if(handler.id=="CAN_TR_XY"){AK.g4(AK.CAN_TR_XY.x,AK.CAN_TR_XY.y);}else if(handler.id=="CAN_TR_X"||handler.id=="CAN_TR_Y"){AK.g4(AK.CAN_TR_X.x,AK.CAN_TR_Y.y);}}},mouseUp:function(ev){handler=null;}});}
fG(boxId,CAN_TR_XId='',CAN_TR_YId='',CAN_TR_XLId='',CAN_TR_YTId='',CAN_TR_XYId='',CAN_TR_RId=''){var AK=EditUtils.instance;if(AK.model)return;AK._btn=[];can.A4.gW(boxId);var bx=AK.model=jN.fT(boxId);if(!bx)return;AK._box.addChild(bx);if(CAN_TR_XId!=''){var bnX=jN.fT(CAN_TR_XId);if(bnX){AK._btn.push(bnX);AK.CAN_TR_X.addChild(bnX);bnX.jX=-bnX.width/2;bnX.y=-bnX.height/2;AK.CAN_TR_X.id=bnX.id="CAN_TR_X";}}
if(CAN_TR_YId!=''){var bnY=jN.fT(CAN_TR_YId);if(bnY){AK._btn.push(bnY);AK.CAN_TR_Y.addChild(bnY);bnY.jX=-bnY.width/2;bnY.y=-bnY.height/2;AK.CAN_TR_Y.id=bnY.id="CAN_TR_Y";}}
if(CAN_TR_XLId!=''){var bnXL=jN.fT(CAN_TR_XLId);if(bnXL){AK._btn.push(bnXL);AK.CAN_TR_XL.addChild(bnXL);bnXL.jX=-bnXL.width/2;bnXL.y=-bnXL.height/2;AK.CAN_TR_XL.id=bnXL.id="CAN_TR_XL";}}
if(CAN_TR_YTId!=''){var bnYT=jN.fT(CAN_TR_YTId);if(bnYT){AK._btn.push(bnYT);AK.CAN_TR_YT.addChild(bnYT);bnYT.jX=-bnYT.width/2;bnYT.y=-bnYT.height/2;AK.CAN_TR_YT.id=bnYT.id="CAN_TR_YT";}}
if(CAN_TR_XYId!=''){var bnXY=jN.fT(CAN_TR_XYId);if(bnXY){AK._btn.push(bnXY);AK.CAN_TR_XY.addChild(bnXY);bnXY.jX=-bnXY.width/2;bnXY.y=-bnXY.height/2;AK.CAN_TR_XY.id=bnXY.id="CAN_TR_XY";}}
if(CAN_TR_RId!=''){var bnR=jN.fT(CAN_TR_RId);if(bnR){AK._btn.push(bnR);AK.CAN_TR_R.addChild(bnR);bnR.jX=-bnR.width/2;bnR.y=-bnR.height/2;AK.CAN_TR_R.id=bnR.id="CAN_TR_R";}}
AK.id=boxId;jN.fW(AK);}
clear(){var AK=EditUtils.instance;AK.reset();AK.g0=AK.g7=null;g8.lock=false;}
g2(attr){return this[attr];}
g3(attr,v){this[attr]=v;}
setObject(id,index=-1,g0=''){id=dM.i5(id);if(id=="main")return;index=dM.i5(index);var AK=EditUtils.instance,o=AK.g7;if(o&&o.id==id&&o.index==index)return;if(!id){AK.clear();return;}
AK.reset();o=jN.fT(id,index);if(!o||o.x==undefined||!o.parent||(!o._editMode&&o.A9==true)){AK.g7=null;return;}
AK.CC(o);var p=o.iL();AK.A2(p.x,p.y);AK.g7=o;can.A4.addChild(AK);AK.g4(o.width,o.height);AK.g0=g0;}
A7(){}
g4(w,h){var AK=EditUtils.instance;AK.CAN_TR_X.jX=w;AK.CAN_TR_X.y=h/2;AK.CAN_TR_Y.jX=w/2;AK.CAN_TR_Y.y=h;AK.CAN_TR_XY.jX=w;AK.CAN_TR_XY.y=h;AK.CAN_TR_R.jX=w/2;AK.CAN_TR_R.y=h/2;AK.CAN_TR_XL.jX=0;AK.CAN_TR_XL.y=h/2;AK.CAN_TR_YT.jX=w/2;AK.CAN_TR_YT.y=0;if(AK.model){AK.model.width=w;AK.model.height=h;}
if(AK.g7){AK.g7.width=w;AK.g7.height=h;}
AK.scaleX=hY.eX.scaleX;AK.scaleY=hY.eX.scaleY;}
reset(){var AK=EditUtils.instance;AK.update();for(var b in AK._btn){AK._btn[b].jX=-AK._btn[b].width/2;AK._btn[b].y=-AK._btn[b].height/2;}
dN.fR(AK.g0);}
update(){var AK=EditUtils.instance;if(AK.parent){AK.parent.removeChild(AK);}}
resize(){}
createColorPicker(hB,gy,sz=2){var o=jN.fT(hB);if(!o)return;EditUtils._colorPicker=o;var sw=o.width/200,sh=o.height/200;gy=dM.i5(gy);var r=255,g=0,b=0,rr=0,gg=0,bb=0,c=0,w=sw*2/15,h=200*sh,ss=sh*4;if(!EditUtils.eX)EditUtils.eX=jJ.iY(o.width,o.height);var ctx=EditUtils.eX.getContext("2d");ctx.save();for(var j=0;j<200;j+=3){for(var i=0;i<1530;i+=5){if(i<255){g+=5;}else if(i<510){r-=5;}else if(i<765){b+=5;}else if(i<1020){g-=5;}else if(i<1275){r+=5;}else{b-=5;}
if(i%2==0){let jj=200/j;rr=parseInt(gy-r/jj);gg=parseInt(gy-g/jj);bb=parseInt(gy-b/jj);c="rgb("+rr+","+gg+","+bb+")";ctx.fillStyle=c;ctx.fillRect(i*w,h-j*sh,ss,ss);}}}
ctx.restore();o.src=EditUtils.eX.toDataURL("image/png");}
BV(px,py,dQ){if(!EditUtils._colorPicker)return;var o=EditUtils._colorPicker;var rc=o.e1.getBoundingClientRect();var ctx=EditUtils.eX.getContext("2d");px=dM.i5(px);py=dM.i5(py);if(px=="")px=AI.mouseEvent.clientX-rc.x;if(py=="")py=AI.mouseEvent.clientY-rc.y;px*=2;py*=2;var BZ=ctx.getImageData(px,py,1,1);var pixel=BZ.data,r=pixel[0],g=pixel[1],b=pixel[2],a=pixel[3]/255,c="rgba("+r+","+g+","+b+","+a+")";dM.f6(dQ,c);}
listImageAssets(dQ){var d=can.data.images,a=[];for(var i in d){let o={};o.id=i;a.push(o);}
dM.f6(dQ,a);}}
EditUtils.instance=new EditUtils();class AX{}
AX.host;can.path='';dN.push([["MOD",function(src,f9,fA){src=dM.i5(src);can.iZ(src+"?t="+getTime(),function(){can.A4.init();can.i3(function(){can.A4.i4=null;dN.fR(can.A4.C4);});dN.fR(f9);},function(){dN.fR(fA);})}],["COMP",function(src,fE,f9,fA){src=dM.i5(src);var n=src.split(".").shift();var o=jN.fT(fE);if(!o)return;BY.iN(src,function(v){if(!o.data.childNodes)o.data.childNodes={};var d=JSON.parse(v);var c=d.components.childNodes;for(var i in c){o.data.childNodes[i]=c[i];}
can.data.style=Object.assign(can.data.style,d.style);can.data.methods=Object.assign(can.data.methods,d.methods);o.BG();dN.fR(f9);},function(){dN.fR(fA);})}],["CONF",function(path){path=dM.i5(path);if(path)can.path=path;}],["HTML1",function(url,m){url=dM.i5(url);if(m=="open")window.open(url);else window.location.href=url;}],["LOG1",function(s){if(!s)console.log(can.data.data)
else console.log(can.data.datas[s]);}],["SEV0",function(hostName){AX.host=dM.i5(hostName);}],["SEV1",function(iB,d,dQ,m="GET",f9=null,fA=null){iB=dM.i5(iB);AX.host=AX.host||"";d=dM.i5(d);AY.iN(AX.host+iB,d,dQ,m,f9,fA);}],["SEV2",function(iB,n,d,v,dQ,f9=null,fA=null){iB=dM.i5(iB);v=dM.i5(v);d=dM.i5(d);d=JSON.stringify(d);d=encodeURIComponent(d);AX.host=AX.host||"";AY.iN(AX.host+iB,n+"="+d+"&"+v,dQ,"POST",f9,fA);}],["HTTP0",function(hostName,hJ){AX.http={};AX.http.host=dM.i5(hostName);AX.http.data=dM.f4(hJ);}],["HTTP1",function(headId,m){headId=dM.i5(headId);var d=AX.http.data,r=null;for(let n=0,l=AX.http.data.length;n<l;n++){if(d[n].headId==headId){r=d[n];break;}}
if(!r){console.log("error");return;}
var s="head="+headId;if(r.value||r.value===0){var a=String(r.value).split(";");for(var n=0,l=a.length;n<l;n++){s=s+"&v"+(n+1)+"="+dM.i5(a[n]);}}
AY.iN(AX.http.host,s,r.result,m,r.onsuccess,r.onfailed);}]]);class BY{static C6(d,led){BY.A7();BY.C4=led;if(!d){if(BY.C4)BY.C4();return;}
BY.C9=d.length;for(var n=0,l=d.length;n<l;n++){var i=new Image(),o={};o.image=i;var u=hY.dB||'';o.src=u+d[n].src;o.C8=3;o.id=d[n].id;BY.C2[n]=o;BY.C7(n);}}
static C7(n){if(!BY.C2[n]){BY.C9--;return;}
var q=BY.C2[n],i=q.image;i.src=q.src;if(i.complete){BY.images[q.id]=q.image;BY.C9--;return;}
i.onload=val(n);function val(n){if(!i.complete||!i.naturalWidth){if(q.C8>0){try{can.timer.play(100,1,null,function(){BY.C7(n);});q.C8--;}catch(e){}}else{BY.C9--;i.onload=null;}}else{i.onload=null;BY.images[q.id]=q.image;BY.C9--;}}}
static C0(d){BY.A7();if(!d)return;BY.C9=d.length;for(var n=0,l=d.length;n<l;n++){var i=new Audio();o={};o.audio=i;o.src=d[n].src;o.C8=d[n].loadTimeout;o.id=d[n].id;BY.C2[n]=o;BY.C1(n);}}
static C1(n){var q=BY.C2[n],i=q.audio;i.src=q.src;i.removeEventListener("canplaythrough",coml);if(q.C8>0){window.setTimeout('can.loader.C7('+n+')',1000);q.C8--;}else{BY.C9--;}
i.addEventListener("canplaythrough",coml,false);function coml(){BY.CD[q.id]=q.audio;BY.C9--;i.removeEventListener("canplaythrough",coml);}}
static get C9(){return BY.C3;}
static set C9(v){BY.C3=v;if(BY.C5)BY.C5(parseIn(v/BY.C2.length)*100);if(v==0){if(BY.C4)BY.C4();}}
static A7(){BY.C2=[];BY.C3=0;BY.C4=null;BY.C5=null;}
static iN(url,onsuccessed,onerror=null){dW.ajax(url,null,"GET",onsuccessed,onerror,false);}}
BY.CD={};BY.images={};can.loader=BY;dN.push([["MOD",function(src,f9,fA){src=dM.i5(src);can.iZ(src+"?t="+getTime(),function(){can.A4.init();can.cW.dT("",function(){dN.fR(can.A4.C4);});dN.fR(f9);},function(){dN.fR(fA);})}],["CONF",function(path){path=dM.i5(path);if(path)can.path=path;}],["COMP",function(src,fE,f9,fA){src=dM.i5(src);var n=src.split(".").shift();var o=jN.fT(fE);if(!o)return;BY.iN(src,function(v){if(!o.data.childNodes)o.data.childNodes={};var d=JSON.parse(v);var c=d.components.childNodes;for(var i in c){o.data.childNodes[i]=c[i];}
can.data.style=Object.assign(can.data.style,d.style);can.data.methods=Object.assign(can.data.methods,d.methods);o.BG();dN.fR(f9);},function(){dN.fR(fA);})}],["HTML1",function(url,m){url=dM.i5(url);if(m=="open")window.open(url);else window.location.href=url;}]]);function cV(){this.onMessage;};dN.push([["SCK1",function(url,f9,fA,dQ,do3,do4){url=dM.i5(url);cV.socket=new WebSocket("ws://"+url+"/ws");cV.socket.binaryType="arraybuffer";cV.socket.onopen=function(){console.log(url+" ");dN.fR(f9);cV.socket.send(cV.writeMessage());};cV.socket.onmessage=function(e){cV.readMessage(e.data);if(!cV.socket.onMessage)cV.socket.onMessage=fA;dN.fR(cV.socket.onMessage);};cV.socket.onerror=function(){dN.fR(do4);};}],["SCK2",function(headID,msg=null){if(!cV.socket){return;}
cV.socket.send(cV.writeMessage(dM.i5(headID),dM.i5(msg)));}],["SCK3",function(){if(!cV.socket)return;cV.socket.close();}]])
class Animate{constructor(){}
static dC(o,id,end=null,direction=1){if(!id){if(end)end();return;}
var s={},d=can.data.data.tween?can.data.data.tween:can.data.tween,cv=can.A4;d=d[id];if(d.x===0||d.x){if(direction>0){s.x=jN.getXY(o).x;o.x=d.x*cv.width;}else{s.x=d.x*cv.width;}}
if(d.y===0||d.y){if(direction>0){s.y=jN.getXY(o).y;o.y=d.y*cv.height;}else{s.y=d.y*cv.height;}}
if(d.alpha===0||d.alpha){if(direction>0){s.alpha=o.alpha;o.alpha=d.alpha;}else{s.alpha=d.alpha;}}
if(d.scaleX){if(direction>0){s.scaleX=o.scaleX;o.scaleX=d.scaleX;}else{s.scaleX=d.scaleX;}}
if(d.scaleY){if(direction>0){s.scaleY=o.scaleY;o.scaleY=d.scaleY;}else{s.scaleY=d.scaleY;}}
if(d.rotation===0||d.rotation){if(direction>0){s.rotation=o.rotation;o.rotation=d.rotation;}else{s.rotation=d.rotation;}}
var sp={};for(var i in s){sp[i]=(s[i]-o[i])/d.dur;}
can.timer.play(1,d.dur,function(){for(var i in s){o[i]+=sp[i];}},function(){dN.fR(end);})}
moveObjectTo(hB,px,py,time,fL,callback){var o=jN.fT(hB);if(!o)return;var dx=!px&&px!==0&&p1?p1.x:px,dy=!py&&py!==0&&p1?p1.y:py;if(time>0){var spx=(dx-o.x)/time,spy=(dy-o.y)/time;can.timer.play(1,time,function(){o.x+=spx;o.y+=spy;if(fL)fL();},function(){o.x=dx;o.y=dy;if(callback)callback();},false,hB);}else{o.x=dx;o.y=dy;}}}
dN.push([["MOV1",function(hJ){hJ=dM.i5(hJ);data.tween=dM.f4(hJ);}],["MOV2",function(hB,p1,p2,t,fK){hB=dM.i5(hB);var o=jN.fT(hB);if(!o){console.log("can not found the obj named: ",hB);return;}
can.timer.remove(hB);t=dM.i5(t);if(p1){p1=p1.split(",");p1=o.getXY({x:p1[0],y:p1[1]});}else p1={x:o.x,y:o.y};if(p2){p2=p2.split(",");p2=o.getXY({x:p2[0],y:p2[1]});}else p2={x:o.x,y:o.y};var spx=(p2.x-p1.x)/t,spy=(p2.y-p1.y)/t;function f(){o.x+=spx;o.y+=spy;}
function e(){o.x=p2.x;o.y=p2.y;dN.fR(fK);}
can.timer.play(1,t,f,e,false,hB);}]])
class BW{constructor(id){this.e1=jJ.createFilter(id,this);}
get id(){return this._id;}
set id(v){this._id=v;this.e1.setAttribute("id",v);}
get x(){return this.jX;}
set x(v){this.jX=v;this.e1.setAttribute("x",v);}
get y(){return this.jY;}
set y(v){this.jY=v;this.e1.setAttribute("y",v);}
get width(){return this.jW;}
set width(v){v=v>0?v:1;this.jW=v;this.e1.setAttribute("width",v);}
get height(){return this.jV;}
set height(v){v=v>0?v:1;this.jV=v;this.e1.setAttribute("height",v);}
static init(){new BX();}}
class BX extends BW{constructor(){super("shadow");var el=jJ.j2("feOffset");el.setAttribute("result","offOut");el.setAttribute("in","SourceGraphic");el.setAttribute("dx",2);el.setAttribute("dy",2);this.e1.appendChild(el);el=jJ.j2("feColorMatrix");el.setAttribute("result","matrixOut");el.setAttribute("in","offOut");el.setAttribute("type","matrix");el.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0");this.e1.appendChild(el);el=jJ.j2("feGaussianBlur");el.setAttribute("result","blurOut");el.setAttribute("in","matrixOut");el.setAttribute("stdDeviation",5);this.e1.appendChild(el);el=jJ.j2("feBlend");el.setAttribute("in","SourceGraphic");el.setAttribute("in2","blurOut");el.setAttribute("mode","normal");this.e1.appendChild(el);}}
class f3 extends jN{constructor(){super("foreignObject");this.mod="textarea";this.jO=false;this._text=document.createElement("textarea");this.e1.appendChild(this._text);this._text.style.height=this._text.style.width="100%";this._text.style.border="0";this._text.style.resize="none";}
set(d,style){super.set(d,style);this.jO=this._editMode;var r=this.gV=String(d.value!=undefined?d.value:"");if(this._editMode){this.text=r;this.fG();return;}
this.g4();}
get text(){return this._text.value;}
set text(v){if(v===0)v="0";this._text.value=v;}
get x(){return this.jX;}
set x(v){this.jX=v;this.e1.setAttribute("x",v);}
get y(){return this.jY;}
set y(v){this.jY=v;this.e1.setAttribute("y",v);}
f4(){var r=String(this.gV);if(r.indexOf("#")>-1){var a=r.split("#");var s=this.text.substr(a[0].length,this.text.length-a[1].length-a[0].length);}else{s=this.text;}
return s;}
f5(v){this.text=h0.iW(this,v);}
A6(el=null){if(!this.style)return;var s=this.style,el=this._text;this.fX();s.color=s.color||"#000";var fs=s.fontSize||20;el.style.fontSize=fs+"px";el.style.color=s.color;el.style.backgroundColor=s.backgroundColor;el.style.borderColor=s.borderColor;el.style.borderWidth=s.borderWidth;el.style.borderStyle=s.borderStyle||"solid";el.style.textAlign=s.textAlign;el.style.wordBreak="break-all";}
g4(){super.g4();if(this.iJ){this.text=h0.iW(this,this.iJ);return;}else{this.text=h0.iW(this,this.gV);}
this.fG();}
clear(){super.clear();this._text.value='';}}
jN.gQ.textarea=f3;function int(v){return parseInt(v);}
function len(v){if(typeof v=='string'||v instanceof Array)return v.length;else return 0;}
function sub(o,v1,v2=null){if(typeof o=='string')return o.substr(v1,v2);}
function typeOf(name){let o=jN.fT(name);if(o)return o.mod;return undefined;}
function hasUI(name){let o=jN.fT(name);return!o?false:true;}
function getTime(){return new Date().getTime();}
Object.defineProperties(jN.prototype,{svg:{configurable:true,enumerable:true,get:function(){return this.e1;},set:function(obj){if(!obj)return;this.e1=obj}},value:{configurable:true,enumerable:true,get:function(){return this.f4();},set:function(v){this.f5(v);}}});Object.defineProperties(h4.prototype,{value:{configurable:true,enumerable:true,get:function(){return this.f4();},set:function(v){this.f5(v);}}});var dV={};can.api=dV;$=dV.getUI=function(name){return jN.fT(name);};dV.registMethod=function(name,method){dV.methods[name]=method;}
dV.__defineGetter__('FPS',function(){return can.timer.fJ;});dV.__defineSetter__('FPS',function(v){can.timer.fJ=v;});dV.__defineGetter__('timer',function(){return can.timer;});dV.__defineGetter__('data',function(){return can.data.data;});dV.__defineSetter__('data',function(v){return can.data.data=v;});dV.__defineGetter__('style',function(){return can.data.style;});dV.__defineSetter__('style',function(v){return can.data.style=v;});dV.__defineGetter__('images',function(){return can.data.images;});dV.__defineSetter__('images',function(v){return can.data.images=v;});dV.getStageSacle=function(){return can.jI.scale;};dV.showUI=function(obj,parent,eff=-1){if(obj instanceof Array){for(var n=0,l=obj.length;n<l;n++){f(obj[n]);}}else if(typeof obj=="string"){return f(obj);}
function f(d){var o=jN.fT(d);if(o){o.visible=true;return o;}else return can.A4.gW(d,-1,eff,parent);}}
dV.hideUI=function(obj){if(obj instanceof Array){for(var n=0,l=obj.length;n<l;n++){f(obj[n]);}}else if(typeof obj=="string"){f(obj);}
function f(d){var o=jN.fT(d);if(!o){console.log("there is not Object named: "+d);return;}
o.clear();}}
dV.update=function(obj){if(obj instanceof Array){for(var n=0,l=obj.length;n<l;n++){f(obj[n]);}}else if(typeof obj=="string"){f(obj);}else if(typeof obj=="object"){try{obj.g4();}catch(e){console.log("----error-----");}}
function f(d){var o=jN.fT(d);if(!o){console.log("there is not Object named: "+d);return;}
o.g4();}}
dV.load=function(url,callback){url=dM.i5(url);var ex=url.cS("/",".");ex=ex[ex.length-1];ex=ex[ex.length-1];switch(ex){case("js"):can.cW.hM(url,callback);break;case("can"):case("json"):can.iZ(url,function(){can.A4.init();can.cW.dT(function(){can.A4.i4=null;dN.fR(can.A4.C4);if(callback)callback();})},null);break;}
console.log("load:",url)}
dV.playSound=function(id,fO,vol=1){if(id)Sound.play(id,fO,vol);else Sound.stop();}
dV.getLocal=function(obj){if(typeof obj=="string")var o=jN.fT(obj);else o=obj;if(!o){console.log("there is not Object named: "+obj);return;}
var p=o.iL(0,0);return p;}
dV.getChildren=function(obj){if(typeof obj=="string")var o=jN.fT(obj);else o=obj;if(!o){console.log("there is not Object named: "+obj);return;}
return o.AA;}
dV.runActionGroup=function(id,v,d="action",dP=","){can.dS.d5(id,v,d,dP);}
dV.runAction=function(name){dN.fR(can.data.methods[name]);}
dV.createUI=function(id,index,d3,parent,style){return jN.d1(id,index,d3,parent,style);}
dV.getTarget=function(){if(jN.iE)return jN.iE;}
dV.getTargetIndex=function(){if(jN.iE)return jN.iE.index;}
dV.getMouseEvent=function(){return AI.mouseEvent;}
dV.getSwitchGroup=function(id){if(!iU.AN[id])return null;return iU.AN[id];}
dV.getSwitchGroupByName=function(name){var o=jN.fT(name);if(!o)return;let id=o.data.group;if(!iU.AN[id])return null;return iU.AN[id];}
dV.ajax=function(scriptName,d,m="POST",onload=null,ioerror=null,parseJson=false){if(window.XMLHttpRequest)var t=new XMLHttpRequest();else if(window.ActiveXObject)t=new window.ActiveXObject();else return;if(t!=null){if(m=="POST"){t.open(m,scriptName,true);t.setRequestHeader("Content-type","application/x-www-form-urlencoded");t.send(d);}else{d=d?"?"+d:""
t.open(m,scriptName+d,true);t.send(null);}
t.onreadystatechange=function(){if(t.readyState==4&&t.status==200){if(t.responseText!=undefined){if(parseJson&&(t.responseText.match(/{(.*?)}/i)||t.responseText.match(/[(.*?)]/i))){var r=eval('('+t.responseText+')');}else{r=t.responseText;}
if(onload)onload(r);}}else if(t.readyState==404){if(ioerror)ioerror();}};}}
dV.moveObjectTo=function(hB,px,py,time=0,fL=null,callback=null){var o=jN.fT(hB);if(!o)return;var e=AI.mouseEvent;if(e){var p1=o.parent.eS(e.stageX,e.stageY);}
var dx=!px&&px!==0&&p1?p1.x:px,dy=!py&&py!==0&&p1?p1.y:py;if(time>0){var spx=(dx-o.x)/time,spy=(dy-o.y)/time;can.timer.play(1,time,function(){o.x+=spx;o.y+=spy;if(fL)fL();},function(){o.x=dx;o.y=dy;if(callback)callback();},false,hB);}else{o.x=dx;o.y=dy;}}
dV.import=function(hJ,end,type="file"){can.cW.d6(hJ,end,type);}
dV.appendStyle=function(obj,style){if(typeof obj=="string")var o=jN.fT(obj);else o=obj;if(!o){console.log("there is not Object named: "+obj);return;}
o.style=Object.assign(o.style,style);o.fG();}
dV.editor={onStart:function(){},onLoad:function(){console.log("load:",dV.editor.getProject());},onSave:function(){console.log("save:",dV.editor.getProject());},onDebug:function(){console.log("debug:",dV.editor.getProject());},onPublish:function(){console.log("publish:",dV.editor.getProject());},getProject:function(){var o={},d=can.data.data;o.name=d.nodes.projectName;o.user=d.user;o.data=d.nodes;return o;},activatePlugin:function(name){var d=can.data.data.plugin;for(var n=0;n<d.length;n++){if(d[n].name==name)
dN.fR(d[n].action);}},registerPlugin:function(name,action,ico){can.data.data.plugin.push({name:name,action:action,ico:ico});},registerComponent:function(url,end){dW.ajax(url,null,'GET',function(d){if(!d)return;can.data.components.childNodes[d.data.id]=d.data;can.data.style=Object.assign(can.data.style,d.style);can.data.methods=Object.assign(can.data.methods,d.methods);console.log(can.data)
dN.fR(end);},null,true);}}
var QRCode;(function(){function b(H){this.mode=v.MODE_8BIT_BYTE,this.data=H,this.parsedData=[];for(var I=0,J=this.data.length;I<J;I++){var K=[],L=this.data.charCodeAt(I);65536<L?(K[0]=240|(1835008&L)>>>18,K[1]=128|(258048&L)>>>12,K[2]=128|(4032&L)>>>6,K[3]=128|63&L):2048<L?(K[0]=224|(61440&L)>>>12,K[1]=128|(4032&L)>>>6,K[2]=128|63&L):128<L?(K[0]=192|(1984&L)>>>6,K[1]=128|63&L):K[0]=L,this.parsedData.push(K)}
this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}
function f(H,I){this.typeNumber=H,this.errorCorrectLevel=I,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}
function g(H,I){if(H.length==void 0)throw new Error(H.length+"/"+I);for(var J=0;J<H.length&&0==H[J];)J++;this.num=Array(H.length-J+I);for(var K=0;K<H.length-J;K++)this.num[K]=H[K+J]}
function h(H,I){this.totalCount=H,this.dataCount=I}
function m(){this.buffer=[],this.length=0}
function s(){var H=!1,I=navigator.userAgent;if(/android/i.test(I)){H=!0;var J=I.toString().match(/android ([0-9]\.[0-9])/i);J&&J[1]&&(H=parseFloat(J[1]))}
return H}
function t(H,I){for(var N,J=1,K=u(H),L=0,M=D.length;L<=M&&(N=0,I===w.L?N=D[L][0]:I===w.M?N=D[L][1]:I===w.Q?N=D[L][2]:I===w.H?N=D[L][3]:void 0,!(K<=N));L++)J++;if(J>D.length)throw new Error("Too long data");return J}
function u(H){var I=encodeURI(H).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return I.length+(I.length==H?0:3)}
b.prototype={dG:function(){return this.parsedData.length},write:function(H){for(var I=0,J=this.parsedData.length;I<J;I++)H.put(this.parsedData[I],8)}},f.prototype={addData:function(H){var I=new b(H);this.dataList.push(I),this.dataCache=null},isDark:function(H,I){if(0>H||this.moduleCount<=H||0>I||this.moduleCount<=I)throw new Error(H+","+I);return this.modules[H][I]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(H,I){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var J=0;J<this.moduleCount;J++){this.modules[J]=Array(this.moduleCount);for(var K=0;K<this.moduleCount;K++)this.modules[J][K]=null}
this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(H,I),7<=this.typeNumber&&this.setupTypeNumber(H),null==this.dataCache&&(this.dataCache=f.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,I)},setupPositionProbePattern:function(H,I){for(var J=-1;7>=J;J++)
if(!(-1>=H+J||this.moduleCount<=H+J))
for(var K=-1;7>=K;K++)-1>=I+K||this.moduleCount<=I+K||(this.modules[H+J][I+K]=0<=J&&6>=J&&(0==K||6==K)||0<=K&&6>=K&&(0==J||6==J)||2<=J&&4>=J&&2<=K&&4>=K)},getBestMaskPattern:function(){for(var H=0,I=0,J=0;8>J;J++){this.makeImpl(!0,J);var K=A.getLostPoint(this);(0==J||H>K)&&(H=K,I=J)}
return I},createMovieClip:function(H,I,J){var K=H.createEmptyMovieClip(I,J),L=1;this.make();for(var N,M=0;M<this.modules.length;M++){N=M*L;for(var O=0;O<this.modules[M].length;O++){var P=O*L,Q=this.modules[M][O];Q&&(K.beginFill(0,100),K.A2(P,N),K.lineTo(P+L,N),K.lineTo(P+L,N+L),K.lineTo(P,N+L),K.endFill())}}
return K},setupTimingPattern:function(){for(var H=8;H<this.moduleCount-8;H++)null==this.modules[H][6]&&(this.modules[H][6]=0==H%2);for(var I=8;I<this.moduleCount-8;I++)null==this.modules[6][I]&&(this.modules[6][I]=0==I%2)},setupPositionAdjustPattern:function(){for(var H=A.getPatternPosition(this.typeNumber),I=0;I<H.length;I++)
for(var J=0;J<H.length;J++){var K=H[I],L=H[J];if(null==this.modules[K][L])
for(var M=-2;2>=M;M++)
for(var N=-2;2>=N;N++)this.modules[K+M][L+N]=-2==M||2==M||-2==N||2==N||0==M&&0==N}},setupTypeNumber:function(H){for(var K,I=A.getBCHTypeNumber(this.typeNumber),J=0;18>J;J++)K=!H&&1==(1&I>>J),this.modules[Math.floor(J/3)][J%3+this.moduleCount-8-3]=K;for(var K,J=0;18>J;J++)K=!H&&1==(1&I>>J),this.modules[J%3+this.moduleCount-8-3][Math.floor(J/3)]=K},setupTypeInfo:function(H,I){for(var M,J=this.errorCorrectLevel<<3|I,K=A.getBCHTypeInfo(J),L=0;15>L;L++)M=!H&&1==(1&K>>L),6>L?this.modules[L][8]=M:8>L?this.modules[L+1][8]=M:this.modules[this.moduleCount-15+L][8]=M;for(var M,L=0;15>L;L++)M=!H&&1==(1&K>>L),8>L?this.modules[8][this.moduleCount-L-1]=M:9>L?this.modules[8][15-L-1+1]=M:this.modules[8][15-L-1]=M;this.modules[this.moduleCount-8][8]=!H},mapData:function(H,I){for(var J=-1,K=this.moduleCount-1,L=7,M=0,N=this.moduleCount-1;0<N;N-=2)
for(6==N&&N--;;){for(var O=0;2>O;O++)
if(null==this.modules[K][N-O]){var P=!1;M<H.length&&(P=1==(1&H[M]>>>L));var Q=A.getMask(I,K,N-O);Q&&(P=!P),this.modules[K][N-O]=P,L--,-1==L&&(M++,L=7)}
if(K+=J,0>K||this.moduleCount<=K){K-=J,J=-J;break}}}},f.PAD0=236,f.PAD1=17,f.createData=function(H,I,J){for(var N,K=h.getRSBlocks(H,I),L=new m,M=0;M<J.length;M++)N=J[M],L.put(N.mode,4),L.put(N.dG(),A.getLengthInBits(N.mode,H)),N.write(L);for(var O=0,M=0;M<K.length;M++)O+=K[M].dataCount;if(L.getLengthInBits()>8*O)throw new Error("code length overflow. ("+L.getLengthInBits()+">"+8*O+")");for(L.getLengthInBits()+4<=8*O&&L.put(0,4);0!=L.getLengthInBits()%8;)L.putBit(!1);for(;!(L.getLengthInBits()>=8*O)&&!(L.put(f.PAD0,8),L.getLengthInBits()>=8*O);)L.put(f.PAD1,8);return f.createBytes(L,K)},f.createBytes=function(H,I){for(var J=0,K=0,L=0,M=Array(I.length),N=Array(I.length),O=0;O<I.length;O++){var P=I[O].dataCount,Q=I[O].totalCount-P;K=Math.max(K,P),L=Math.max(L,Q),M[O]=Array(P);for(var R=0;R<M[O].length;R++)M[O][R]=255&H.buffer[R+J];J+=P;var S=A.getErrorCorrectPolynomial(Q),T=new g(M[O],S.dG()-1),U=T.mod(S);N[O]=Array(S.dG()-1);for(var V,R=0;R<N[O].length;R++)V=R+U.dG()-N[O].length,N[O][R]=0<=V?U.get(V):0}
for(var W=0,R=0;R<I.length;R++)W+=I[R].totalCount;for(var X=Array(W),Y=0,R=0;R<K;R++)
for(var O=0;O<I.length;O++)R<M[O].length&&(X[Y++]=M[O][R]);for(var R=0;R<L;R++)
for(var O=0;O<I.length;O++)R<N[O].length&&(X[Y++]=N[O][R]);return X};for(var v={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},w={L:1,M:0,Q:3,H:2},z={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},A={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(H){for(var I=H<<10;0<=A.getBCHDigit(I)-A.getBCHDigit(A.G15);)I^=A.G15<<A.getBCHDigit(I)-A.getBCHDigit(A.G15);return(H<<10|I)^A.G15_MASK},getBCHTypeNumber:function(H){for(var I=H<<12;0<=A.getBCHDigit(I)-A.getBCHDigit(A.G18);)I^=A.G18<<A.getBCHDigit(I)-A.getBCHDigit(A.G18);return H<<12|I},getBCHDigit:function(H){for(var I=0;0!=H;)I++,H>>>=1;return I},getPatternPosition:function(H){return A.PATTERN_POSITION_TABLE[H-1]},getMask:function(H,I,J){switch(H){case z.PATTERN000:return 0==(I+J)%2;case z.PATTERN001:return 0==I%2;case z.PATTERN010:return 0==J%3;case z.PATTERN011:return 0==(I+J)%3;case z.PATTERN100:return 0==(Math.floor(I/2)+Math.floor(J/3))%2;case z.PATTERN101:return 0==I*J%2+I*J%3;case z.PATTERN110:return 0==(I*J%2+I*J%3)%2;case z.PATTERN111:return 0==(I*J%3+(I+J)%2)%2;default:throw new Error("bad maskPattern:"+H);}},getErrorCorrectPolynomial:function(H){for(var I=new g([1],0),J=0;J<H;J++)I=I.multiply(new g([1,B.gexp(J)],0));return I},getLengthInBits:function(H,I){if(1<=I&&10>I)switch(H){case v.MODE_NUMBER:return 10;case v.MODE_ALPHA_NUM:return 9;case v.MODE_8BIT_BYTE:return 8;case v.MODE_KANJI:return 8;default:throw new Error("mode:"+H);}else if(27>I)switch(H){case v.MODE_NUMBER:return 12;case v.MODE_ALPHA_NUM:return 11;case v.MODE_8BIT_BYTE:return 16;case v.MODE_KANJI:return 10;default:throw new Error("mode:"+H);}else if(41>I)switch(H){case v.MODE_NUMBER:return 14;case v.MODE_ALPHA_NUM:return 13;case v.MODE_8BIT_BYTE:return 16;case v.MODE_KANJI:return 12;default:throw new Error("mode:"+H);}else throw new Error("type:"+I)},getLostPoint:function(H){for(var I=H.getModuleCount(),J=0,K=0;K<I;K++)
for(var L=0;L<I;L++){for(var M=0,N=H.isDark(K,L),O=-1;1>=O;O++)
if(!(0>K+O||I<=K+O))
for(var P=-1;1>=P;P++)0>L+P||I<=L+P||(0!=O||0!=P)&&N==H.isDark(K+O,L+P)&&M++;5<M&&(J+=3+M-5)}
for(var K=0;K<I-1;K++)
for(var Q,L=0;L<I-1;L++)Q=0,H.isDark(K,L)&&Q++,H.isDark(K+1,L)&&Q++,H.isDark(K,L+1)&&Q++,H.isDark(K+1,L+1)&&Q++,(0==Q||4==Q)&&(J+=3);for(var K=0;K<I;K++)
for(var L=0;L<I-6;L++)H.isDark(K,L)&&!H.isDark(K,L+1)&&H.isDark(K,L+2)&&H.isDark(K,L+3)&&H.isDark(K,L+4)&&!H.isDark(K,L+5)&&H.isDark(K,L+6)&&(J+=40);for(var L=0;L<I;L++)
for(var K=0;K<I-6;K++)H.isDark(K,L)&&!H.isDark(K+1,L)&&H.isDark(K+2,L)&&H.isDark(K+3,L)&&H.isDark(K+4,L)&&!H.isDark(K+5,L)&&H.isDark(K+6,L)&&(J+=40);for(var R=0,L=0;L<I;L++)
for(var K=0;K<I;K++)H.isDark(K,L)&&R++;var S=Math.abs(100*R/I/I-50)/5;return J+=10*S,J}},B={glog:function(H){if(1>H)throw new Error("glog("+H+")");return B.LOG_TABLE[H]},gexp:function(H){for(;0>H;)H+=255;for(;256<=H;)H-=255;return B.EXP_TABLE[H]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},C=0;8>C;C++)B.EXP_TABLE[C]=1<<C;for(var C=8;256>C;C++)B.EXP_TABLE[C]=B.EXP_TABLE[C-4]^B.EXP_TABLE[C-5]^B.EXP_TABLE[C-6]^B.EXP_TABLE[C-8];for(var C=0;255>C;C++)B.LOG_TABLE[B.EXP_TABLE[C]]=C;g.prototype={get:function(H){return this.num[H]},dG:function(){return this.num.length},multiply:function(H){for(var I=Array(this.dG()+H.dG()-1),J=0;J<this.dG();J++)
for(var K=0;K<H.dG();K++)I[J+K]^=B.gexp(B.glog(this.get(J))+B.glog(H.get(K)));return new g(I,0)},mod:function(H){if(0>this.dG()-H.dG())return this;for(var I=B.glog(this.get(0))-B.glog(H.get(0)),J=Array(this.dG()),K=0;K<this.dG();K++)J[K]=this.get(K);for(var K=0;K<H.dG();K++)J[K]^=B.gexp(B.glog(H.get(K))+I);return new g(J,0).mod(H)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(H,I){var J=h.getRsBlockTable(H,I);if(J==void 0)throw new Error("bad rs block @ typeNumber:"+H+"/errorCorrectLevel:"+I);for(var K=J.length/3,L=[],M=0;M<K;M++)
for(var N=J[3*M+0],O=J[3*M+1],P=J[3*M+2],Q=0;Q<N;Q++)L.push(new h(O,P));return L},h.getRsBlockTable=function(H,I){return I===w.L?h.RS_BLOCK_TABLE[4*(H-1)+0]:I===w.M?h.RS_BLOCK_TABLE[4*(H-1)+1]:I===w.Q?h.RS_BLOCK_TABLE[4*(H-1)+2]:I===w.H?h.RS_BLOCK_TABLE[4*(H-1)+3]:void 0},m.prototype={get:function(H){var I=Math.floor(H/8);return 1==(1&this.buffer[I]>>>7-H%8)},put:function(H,I){for(var J=0;J<I;J++)this.putBit(1==(1&H>>>I-J-1))},getLengthInBits:function(){return this.length},putBit:function(H){var I=Math.floor(this.length/8);this.buffer.length<=I&&this.buffer.push(0),H&&(this.buffer[I]|=128>>>this.length%8),this.length++}};var D=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],E=function(){var H=function(I,J){this._el=I,this._htOption=J};return H.prototype.draw=function(I){function J(T,U){var V=document.createElementNS("http://www.w3.org/2000/svg",T);for(var W in U)U.hasOwnProperty(W)&&V.setAttribute(W,U[W]);return V}
var K=this._htOption,L=this._el,M=I.getModuleCount(),N=Math.floor(K.width/M),O=Math.floor(K.height/M);this.clear();var P=J("svg",{viewBox:"0 0 "+(M+" ")+(M+""),width:"100%",height:"100%",fill:K.colorLight});P.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),L.appendChild(P),P.appendChild(J("rect",{fill:K.colorLight,width:"100%",height:"100%"})),P.appendChild(J("rect",{fill:K.colorDark,width:"1",height:"1",id:"template"}));for(var Q=0;Q<M;Q++)
for(var R=0;R<M;R++)
if(I.isDark(Q,R)){var S=J("use",{x:R+"",y:Q+""});S.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),P.appendChild(S)}},H.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},H}(),F="svg"===document.documentElement.tagName.toLowerCase(),G=F?E:function(){return"undefined"!=typeof CanvasRenderingContext2D}()?function(){function H(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}
function I(M,N){var O=this;if(O._fFail=N,O._fSuccess=M,null===O._bSupportDataURI){var P=document.createElement("img"),Q=function(){O._bSupportDataURI=!1,O._fFail&&O._fFail.call(O)},R=function(){O._bSupportDataURI=!0,O._fSuccess&&O._fSuccess.call(O)};return P.onabort=Q,P.onerror=Q,P.onload=R,void(P.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===O._bSupportDataURI&&O._fSuccess?O._fSuccess.call(O):!1===O._bSupportDataURI&&O._fFail&&O._fFail.call(O)}
if(this._android&&2.1>=this._android){var J=1/window.devicePixelRatio,K=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(M,N,O,P,Q,R,S,T){if("nodeName"in M&&/img/i.test(M.nodeName))
for(var V=arguments.length-1;1<=V;V--)arguments[V]*=J;else"undefined"==typeof T&&(arguments[1]*=J,arguments[2]*=J,arguments[3]*=J,arguments[4]*=J);K.apply(this,arguments)}}
var L=function(M,N){this._bIsPainted=!1,this._android=s(),this._htOption=N,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=N.width,this._elCanvas.height=N.height,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=M,this._bSupportDataURI=null};return L.prototype.draw=function(M){var N=this._elImage,O=this._oContext,P=this._htOption,Q=M.getModuleCount(),R=P.width/Q,S=P.height/Q,T=Math.round(R),U=Math.round(S);this.clear();for(var V=0;V<Q;V++)
for(var W=0;W<Q;W++){var X=M.isDark(V,W),Y=W*R,Z=V*S;O.strokeStyle=X?P.colorDark:P.colorLight,O.lineWidth=1,O.fillStyle=X?P.colorDark:P.colorLight,O.fillRect(Y,Z,R,S),O.strokeRect(Math.floor(Y)+0.5,Math.floor(Z)+0.5,T,U),O.strokeRect(Math.ceil(Y)-0.5,Math.ceil(Z)-0.5,T,U)}
this._bIsPainted=!0},L.prototype.makeImage=function(){this._bIsPainted&&I.call(this,H)},L.prototype.isPainted=function(){return this._bIsPainted},L.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},L.prototype.round=function(M){return M?Math.floor(1e3*M)/1e3:M},L}():function(){var H=function(I,J){this._el=I,this._htOption=J};return H.prototype.draw=function(I){for(var J=this._htOption,K=this._el,L=I.getModuleCount(),M=Math.floor(J.width/L),N=Math.floor(J.height/L),O=["<table style=\"border:0;border-collapse:collapse;\">"],P=0;P<L;P++){O.push("<tr>");for(var Q=0;Q<L;Q++)O.push("<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:"+M+"px;height:"+N+"px;background-color:"+(I.isDark(P,Q)?J.colorDark:J.colorLight)+";\"></td>");O.push("</tr>")}
O.push("</table>"),K.innerHTML=O.join("");var R=K.childNodes[0],S=(J.width-R.offsetWidth)/2,T=(J.height-R.offsetHeight)/2;0<S&&0<T&&(R.style.margin=T+"px "+S+"px")},H.prototype.clear=function(){this._el.innerHTML=""},H}();QRCode=function(H,I){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:w.H},"string"==typeof I&&(I={text:I}),I)
for(var J in I)this._htOption[J]=I[J];"string"==typeof H&&(H=document.getElementById(H)),this._htOption.useSVG&&(G=E),this._android=s(),this._el=H,this._oQRCode=null,this._oDrawing=new G(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(H){this._oQRCode=new f(t(H,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(H),this._oQRCode.make(),this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=w})();dN.push([["QR1",function(b,f){f=dM.i5(f);var g=jN.fT(b);if(g){var m=new QRCode(g,{width:g.width,height:g.height});m.makeCode(f);}}]]); Can=can})()